const express = require('express');
const {
	getInward,
	getInwards,
	addInward,
	getSearchAssets,
	getStatusWiseQuantityAndValue,
	getCategoryWiseQuantityAndValue,
	getLocationWiseQuantityAndValue,
	getCostCenterWiseQuantityAndValue,
	getInwardsExport,
	deleteInward,
} = require('../controllers/inward');
const { protect, authorize } = require('../middleware/auth');

const router = express.Router();

const inward_valid = require('../validations/inward_validator');

router
	.post(
		'/deleteInward',
		inward_valid.idValid(),
		protect,
		authorize(process.env.SYSTEM_ADMIN),
		deleteInward
	)
	.post(
		'/getinward',
		inward_valid.idValid(),
		protect,
		authorize(
			process.env.IT,
			process.env.ADMIN,
			process.env.IT_SYSTEM_ADMIN,
			process.env.ADMIN_SYSTEM_ADMIN,
			process.env.SYSTEM_ADMIN
		),
		getInward
	)
	.post(
		'/getInwards',
		protect,
		authorize(
			process.env.IT,
			process.env.ADMIN,
			process.env.IT_SYSTEM_ADMIN,
			process.env.ADMIN_SYSTEM_ADMIN,
			process.env.SYSTEM_ADMIN
		),
		getInwards
	)
	.post(
		'/getInwardsExport',
		protect,
		authorize(
			process.env.IT,
			process.env.ADMIN,
			process.env.IT_SYSTEM_ADMIN,
			process.env.ADMIN_SYSTEM_ADMIN,
			process.env.SYSTEM_ADMIN
		),
		getInwardsExport
	)
	.post(
		'/addInward',
		inward_valid.saveValid(),
		protect,
		authorize(
			process.env.IT,
			process.env.ADMIN,
			process.env.IT_SYSTEM_ADMIN,
			process.env.ADMIN_SYSTEM_ADMIN,
			process.env.SYSTEM_ADMIN
		),
		addInward
	)
	.post(
		'/searchAssets',
		inward_valid.searchInwardValid(),
		protect,
		authorize(
			process.env.IT,
			process.env.ADMIN,
			process.env.IT_SYSTEM_ADMIN,
			process.env.ADMIN_SYSTEM_ADMIN,
			process.env.SYSTEM_ADMIN
		),
		getSearchAssets
	)
	.post(
		'/getStatusWiseQuantityAndValue',
		protect,
		authorize(
			process.env.IT,
			process.env.ADMIN,
			process.env.IT_SYSTEM_ADMIN,
			process.env.ADMIN_SYSTEM_ADMIN,
			process.env.SYSTEM_ADMIN
		),
		getStatusWiseQuantityAndValue
	)
	.post(
		'/getCategoryWiseQuantityAndValue',
		protect,
		authorize(
			process.env.IT,
			process.env.ADMIN,
			process.env.IT_SYSTEM_ADMIN,
			process.env.ADMIN_SYSTEM_ADMIN,
			process.env.SYSTEM_ADMIN
		),
		getCategoryWiseQuantityAndValue
	)
	.post(
		'/getLocationWiseQuantityAndValue',
		protect,
		authorize(
			process.env.IT,
			process.env.ADMIN,
			process.env.IT_SYSTEM_ADMIN,
			process.env.ADMIN_SYSTEM_ADMIN,
			process.env.SYSTEM_ADMIN
		),
		getLocationWiseQuantityAndValue
	)
	.post(
		'/getCostCenterWiseQuantityAndValue',
		protect,
		authorize(
			process.env.IT,
			process.env.ADMIN,
			process.env.IT_SYSTEM_ADMIN,
			process.env.ADMIN_SYSTEM_ADMIN,
			process.env.SYSTEM_ADMIN
		),
		getCostCenterWiseQuantityAndValue
	);
module.exports = router;
