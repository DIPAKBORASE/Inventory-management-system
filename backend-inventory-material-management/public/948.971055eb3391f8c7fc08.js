(self.webpackChunkinventory_and_material_management=self.webpackChunkinventory_and_material_management||[]).push([[948],{7948:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RequesterModule:()=>Kt});var i=n(8583),r=n(665),s=n(1841),o=n(9798),a=n(7827),u=n(3647),l=n(1633),c=n(2317),p=n(6595),g=n(8668),d=n(9866),Z=n(7716);function f(e,t){if(1&e){var n=Z.EpF();Z.TgZ(0,"a",11),Z.NdJ("keyup.enter",function(){return Z.CHM(n),Z.oxw(3),Z.MAs(1).previous()})("click",function(){return Z.CHM(n),Z.oxw(3),Z.MAs(1).previous()}),Z._uU(1),Z.TgZ(2,"span",12),Z._uU(3),Z.qZA(),Z.qZA()}if(2&e){var i=Z.oxw(3);Z.uIk("aria-label",i.previousLabel+" "+i.screenReaderPageLabel),Z.xp6(1),Z.hij(" ",i.previousLabel," "),Z.xp6(2),Z.Oqu(i.screenReaderPageLabel)}}function q(e,t){if(1&e&&(Z.TgZ(0,"span"),Z._uU(1),Z.TgZ(2,"span",12),Z._uU(3),Z.qZA(),Z.qZA()),2&e){var n=Z.oxw(3);Z.xp6(1),Z.hij(" ",n.previousLabel," "),Z.xp6(2),Z.Oqu(n.screenReaderPageLabel)}}function h(e,t){if(1&e&&(Z.TgZ(0,"li",8),Z.YNc(1,f,4,3,"a",9),Z.YNc(2,q,4,2,"span",10),Z.qZA()),2&e){Z.oxw(2);var n=Z.MAs(1);Z.ekj("disabled",n.isFirstPage()),Z.xp6(1),Z.Q6J("ngIf",1<n.getCurrent()),Z.xp6(1),Z.Q6J("ngIf",n.isFirstPage())}}function m(e,t){if(1&e){var n=Z.EpF();Z.TgZ(0,"a",11),Z.NdJ("keyup.enter",function(){Z.CHM(n);var e=Z.oxw().$implicit;return Z.oxw(2),Z.MAs(1).setCurrent(e.value)})("click",function(){Z.CHM(n);var e=Z.oxw().$implicit;return Z.oxw(2),Z.MAs(1).setCurrent(e.value)}),Z.TgZ(1,"span",12),Z._uU(2),Z.qZA(),Z.TgZ(3,"span"),Z._uU(4),Z.ALo(5,"number"),Z.qZA(),Z.qZA()}if(2&e){var i=Z.oxw().$implicit,r=Z.oxw(2);Z.xp6(2),Z.hij("",r.screenReaderPageLabel," "),Z.xp6(2),Z.Oqu("..."===i.label?i.label:Z.xi3(5,2,i.label,""))}}function _(e,t){if(1&e&&(Z.ynx(0),Z.TgZ(1,"span",12),Z._uU(2),Z.qZA(),Z.TgZ(3,"span"),Z._uU(4),Z.ALo(5,"number"),Z.qZA(),Z.BQk()),2&e){var n=Z.oxw().$implicit,i=Z.oxw(2);Z.xp6(2),Z.hij("",i.screenReaderCurrentLabel," "),Z.xp6(2),Z.Oqu("..."===n.label?n.label:Z.xi3(5,2,n.label,""))}}function T(e,t){if(1&e&&(Z.TgZ(0,"li"),Z.YNc(1,m,6,5,"a",9),Z.YNc(2,_,6,5,"ng-container",10),Z.qZA()),2&e){var n=t.$implicit;Z.oxw(2);var i=Z.MAs(1);Z.ekj("current",i.getCurrent()===n.value)("ellipsis","..."===n.label),Z.xp6(1),Z.Q6J("ngIf",i.getCurrent()!==n.value),Z.xp6(1),Z.Q6J("ngIf",i.getCurrent()===n.value)}}function A(e,t){if(1&e){var n=Z.EpF();Z.TgZ(0,"a",11),Z.NdJ("keyup.enter",function(){return Z.CHM(n),Z.oxw(3),Z.MAs(1).next()})("click",function(){return Z.CHM(n),Z.oxw(3),Z.MAs(1).next()}),Z._uU(1),Z.TgZ(2,"span",12),Z._uU(3),Z.qZA(),Z.qZA()}if(2&e){var i=Z.oxw(3);Z.uIk("aria-label",i.nextLabel+" "+i.screenReaderPageLabel),Z.xp6(1),Z.hij(" ",i.nextLabel," "),Z.xp6(2),Z.Oqu(i.screenReaderPageLabel)}}function x(e,t){if(1&e&&(Z.TgZ(0,"span"),Z._uU(1),Z.TgZ(2,"span",12),Z._uU(3),Z.qZA(),Z.qZA()),2&e){var n=Z.oxw(3);Z.xp6(1),Z.hij(" ",n.nextLabel," "),Z.xp6(2),Z.Oqu(n.screenReaderPageLabel)}}function b(e,t){if(1&e&&(Z.TgZ(0,"li",13),Z.YNc(1,A,4,3,"a",9),Z.YNc(2,x,4,2,"span",10),Z.qZA()),2&e){Z.oxw(2);var n=Z.MAs(1);Z.ekj("disabled",n.isLastPage()),Z.xp6(1),Z.Q6J("ngIf",!n.isLastPage()),Z.xp6(1),Z.Q6J("ngIf",n.isLastPage())}}function v(e,t){if(1&e&&(Z.TgZ(0,"ul",3),Z.YNc(1,h,3,4,"li",4),Z.TgZ(2,"li",5),Z._uU(3),Z.qZA(),Z.YNc(4,T,3,6,"li",6),Z.YNc(5,b,3,4,"li",7),Z.qZA()),2&e){var n=Z.oxw(),i=Z.MAs(1);Z.ekj("responsive",n.responsive),Z.uIk("aria-label",n.screenReaderPaginationLabel),Z.xp6(1),Z.Q6J("ngIf",n.directionLinks),Z.xp6(2),Z.AsE(" ",i.getCurrent()," / ",i.getLastPage()," "),Z.xp6(1),Z.Q6J("ngForOf",i.pages)("ngForTrackBy",n.trackByIndex),Z.xp6(1),Z.Q6J("ngIf",n.directionLinks)}}var U=function(){function e(){this.change=new Z.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return e.prototype.defaultId=function(){return this.DEFAULT_ID},e.prototype.register=function(e){return null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)},e.prototype.updateInstance=function(e){var t=!1;for(var n in this.instances[e.id])e[n]!==this.instances[e.id][n]&&(this.instances[e.id][n]=e[n],t=!0);return t},e.prototype.getCurrentPage=function(e){if(this.instances[e])return this.instances[e].currentPage},e.prototype.setCurrentPage=function(e,t){if(this.instances[e]){var n=this.instances[e];t<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}},e.prototype.setTotalItems=function(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))},e.prototype.setItemsPerPage=function(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))},e.prototype.getInstance=function(e){return void 0===e&&(e=this.DEFAULT_ID),this.instances[e]?this.clone(this.instances[e]):{}},e.prototype.clone=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Z.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(),y=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},R=Number.MAX_SAFE_INTEGER,I=(function(){function e(e){this.service=e,this.state={}}e.prototype.transform=function(e,t){if(!(e instanceof Array)){var n=t.id||this.service.defaultId();return this.state[n]?this.state[n].slice:e}var i,r,s=t.totalItems&&t.totalItems!==e.length,o=this.createInstance(e,t),a=o.id,u=o.itemsPerPage,l=this.service.register(o);if(!s&&e instanceof Array){if(this.stateIsIdentical(a,e,i=(o.currentPage-1)*(u=+u||R),r=i+u))return this.state[a].slice;var c=e.slice(i,r);return this.saveState(a,e,c,i,r),this.service.change.emit(a),c}return l&&this.service.change.emit(a),this.saveState(a,e,e,i,r),e},e.prototype.createInstance=function(e,t){return this.checkConfig(t),{id:null!=t.id?t.id:this.service.defaultId(),itemsPerPage:+t.itemsPerPage||0,currentPage:+t.currentPage||1,totalItems:+t.totalItems||e.length}},e.prototype.checkConfig=function(e){var t=["itemsPerPage","currentPage"].filter(function(t){return!(t in e)});if(0<t.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+t.join(", "))},e.prototype.saveState=function(e,t,n,i,r){this.state[e]={collection:t,size:t.length,slice:n,start:i,end:r}},e.prototype.stateIsIdentical=function(e,t,n,i){var r=this.state[e];return!!r&&!(r.size!==t.length||r.start!==n||r.end!==i)&&r.slice.every(function(e,i){return e===t[n+i]})},(e=function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}([y("design:paramtypes",[U])],e)).\u0275fac=function(t){return new(t||e)(Z.Y36(U,16))},e.\u0275pipe=Z.Yjl({name:"paginate",type:e,pure:!1})}(),function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}),w=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function P(e){return!!e&&"false"!==e}!function(){function e(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new Z.vpe,this.pageBoundsCorrection=new Z.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}Object.defineProperty(e.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(e){this._directionLinks=P(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoHide",{get:function(){return this._autoHide},set:function(e){this._autoHide=P(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"responsive",{get:function(){return this._responsive},set:function(e){this._responsive=P(e)},enumerable:!0,configurable:!0}),e.prototype.trackByIndex=function(e){return e},I([(0,Z.IIB)(),w("design:type",String)],e.prototype,"id",void 0),I([(0,Z.IIB)(),w("design:type",Number)],e.prototype,"maxSize",void 0),I([(0,Z.IIB)(),w("design:type",Boolean),w("design:paramtypes",[Boolean])],e.prototype,"directionLinks",null),I([(0,Z.IIB)(),w("design:type",Boolean),w("design:paramtypes",[Boolean])],e.prototype,"autoHide",null),I([(0,Z.IIB)(),w("design:type",Boolean),w("design:paramtypes",[Boolean])],e.prototype,"responsive",null),I([(0,Z.IIB)(),w("design:type",String)],e.prototype,"previousLabel",void 0),I([(0,Z.IIB)(),w("design:type",String)],e.prototype,"nextLabel",void 0),I([(0,Z.IIB)(),w("design:type",String)],e.prototype,"screenReaderPaginationLabel",void 0),I([(0,Z.IIB)(),w("design:type",String)],e.prototype,"screenReaderPageLabel",void 0),I([(0,Z.IIB)(),w("design:type",String)],e.prototype,"screenReaderCurrentLabel",void 0),I([(0,Z.r_U)(),w("design:type",Z.vpe)],e.prototype,"pageChange",void 0),I([(0,Z.r_U)(),w("design:type",Z.vpe)],e.prototype,"pageBoundsCorrection",void 0),e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Z.Xpm({type:e,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(e,t){if(1&e&&(Z.TgZ(0,"pagination-template",0,1),Z.NdJ("pageChange",function(e){return t.pageChange.emit(e)})("pageBoundsCorrection",function(e){return t.pageBoundsCorrection.emit(e)}),Z.YNc(2,v,6,9,"ul",2),Z.qZA()),2&e){var n=Z.MAs(1);Z.Q6J("id",t.id)("maxSize",t.maxSize),Z.xp6(2),Z.Q6J("ngIf",!(t.autoHide&&n.pages.length<=1))}},directives:function(){return[S,i.O5,i.sg]},pipes:function(){return[i.JJ]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0})}();var k=function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},N=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},S=function(){function e(e,t){var n=this;this.service=e,this.changeDetectorRef=t,this.maxSize=7,this.pageChange=new Z.vpe,this.pageBoundsCorrection=new Z.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(function(e){n.id===e&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())})}return e.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},e.prototype.ngOnChanges=function(e){this.updatePageLinks()},e.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},e.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},e.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},e.prototype.isFirstPage=function(){return 1===this.getCurrent()},e.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},e.prototype.setCurrent=function(e){this.pageChange.emit(e)},e.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},e.prototype.getLastPage=function(){var e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)},e.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},e.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},e.prototype.updatePageLinks=function(){var e=this,t=this.service.getInstance(this.id),n=this.outOfBoundCorrection(t);n!==t.currentPage?setTimeout(function(){e.pageBoundsCorrection.emit(n),e.pages=e.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,e.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)},e.prototype.outOfBoundCorrection=function(e){var t=Math.ceil(e.totalItems/e.itemsPerPage);return t<e.currentPage&&0<t?t:e.currentPage<1?1:e.currentPage},e.prototype.createPageArray=function(e,t,n,i){i=+i;for(var r=[],s=Math.max(Math.ceil(n/t),1),o=Math.ceil(i/2),a=e<=o,u=s-o<e,l=!a&&!u,c=i<s,p=1;p<=s&&p<=i;){var g=this.calculatePageNumber(p,e,i,s);r.push({label:c&&(2===p&&(l||u)||p===i-1&&(l||a))?"...":g,value:g}),p++}return r},e.prototype.calculatePageNumber=function(e,t,n,i){var r=Math.ceil(n/2);return e===n?i:1===e?e:n<i?i-r<t?i-n+e:r<t?t-r+e:e:e},k([(0,Z.IIB)(),N("design:type",String)],e.prototype,"id",void 0),k([(0,Z.IIB)(),N("design:type",Number)],e.prototype,"maxSize",void 0),k([(0,Z.r_U)(),N("design:type",Z.vpe)],e.prototype,"pageChange",void 0),k([(0,Z.r_U)(),N("design:type",Z.vpe)],e.prototype,"pageBoundsCorrection",void 0),(e=k([N("design:paramtypes",[U,Z.sBO])],e)).\u0275fac=function(t){return new(t||e)(Z.Y36(U),Z.Y36(Z.sBO))},e.\u0275dir=Z.lG2({type:e,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[Z.TTD]}),e}(),J=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Z.oAB({type:e}),e.\u0275inj=Z.cJS({providers:[U],imports:[[i.ez]]}),e}(),D=n(4330),C=n(7709),Q=n(4395),O=n(7519),Y=n(7651),L=n(1993),F=n(2468),M=n(1384);function B(e,t){if(1&e&&(Z.TgZ(0,"option",29),Z._uU(1),Z.qZA()),2&e){const e=t.$implicit;Z.s9C("value",e.ID),Z.xp6(1),Z.hij(" ",e.Name," ")}}function E(e,t){1&e&&(Z.TgZ(0,"div",32),Z._uU(1," Location is required "),Z.qZA())}function H(e,t){if(1&e&&(Z.TgZ(0,"div",30),Z.YNc(1,E,2,0,"div",31),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",e.f.Location_ID.errors.required)}}function j(e,t){1&e&&(Z.TgZ(0,"div",32),Z._uU(1," Department is required "),Z.qZA())}function V(e,t){if(1&e&&(Z.TgZ(0,"div",30),Z.YNc(1,j,2,0,"div",31),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",e.f.Request_Department.errors.required)}}function z(e,t){1&e&&(Z.TgZ(0,"div",32),Z._uU(1," Type of request is required "),Z.qZA())}function $(e,t){if(1&e&&(Z.TgZ(0,"div",30),Z.YNc(1,z,2,0,"div",31),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",e.f.Request_Type.errors.required)}}function W(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"tr",47),Z.TgZ(1,"td"),Z._uU(2),Z.qZA(),Z.TgZ(3,"td"),Z._uU(4),Z.qZA(),Z.TgZ(5,"td"),Z._uU(6),Z.qZA(),Z.TgZ(7,"td"),Z.TgZ(8,"input",48),Z.NdJ("keyup",function(){Z.CHM(e);const t=Z.oxw().$implicit;return Z.oxw(2).onQuantityChnage(t)}),Z.qZA(),Z.qZA(),Z.TgZ(9,"td"),Z._uU(10),Z.ALo(11,"number"),Z.qZA(),Z.TgZ(12,"td"),Z._uU(13),Z.ALo(14,"number"),Z.qZA(),Z.TgZ(15,"td"),Z.TgZ(16,"i",49),Z.NdJ("click",function(){Z.CHM(e);const t=Z.oxw().index;return Z.oxw(2).deleteRow(t)}),Z.qZA(),Z.TgZ(17,"i",50),Z.NdJ("click",function(){Z.CHM(e);const t=Z.oxw().$implicit;return Z.oxw(2).doneRow(t)}),Z.qZA(),Z.qZA(),Z.qZA()}if(2&e){const e=Z.oxw(),t=e.index,n=e.$implicit;let i;Z.Q6J("formGroupName",t),Z.xp6(2),Z.Oqu(t+1),Z.xp6(2),Z.Oqu(n.get("Name").value),Z.xp6(2),Z.Oqu(n.get("UOM").value),Z.xp6(2),Z.Q6J("ngClass",null!=(i=n.get("Quantity"))&&i.touched&&null!=(i=n.get("Quantity"))&&i.errors?"has-error":""),Z.xp6(2),Z.Oqu(Z.xi3(11,7,n.get("Price").value,"1.2-3")),Z.xp6(3),Z.hij(" ",Z.xi3(14,10,n.get("Total_Price").value,"1.2-3")," ")}}function G(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"tr"),Z.TgZ(1,"td"),Z._uU(2),Z.qZA(),Z.TgZ(3,"td"),Z._uU(4),Z.qZA(),Z.TgZ(5,"td"),Z._uU(6),Z.qZA(),Z.TgZ(7,"td"),Z._uU(8),Z.qZA(),Z.TgZ(9,"td"),Z._uU(10),Z.ALo(11,"number"),Z.qZA(),Z.TgZ(12,"td"),Z._uU(13),Z.ALo(14,"number"),Z.qZA(),Z.TgZ(15,"td"),Z.TgZ(16,"i",51),Z.NdJ("click",function(){Z.CHM(e);const t=Z.oxw().$implicit;return Z.oxw(2).editRow(t)}),Z.qZA(),Z.qZA(),Z.qZA()}if(2&e){const e=Z.oxw(),t=e.index,n=e.$implicit;Z.xp6(2),Z.Oqu(t+1),Z.xp6(2),Z.Oqu(n.get("Name").value),Z.xp6(2),Z.Oqu(n.get("UOM").value),Z.xp6(2),Z.Oqu(n.get("Quantity").value),Z.xp6(2),Z.Oqu(Z.xi3(11,6,n.get("Price").value,"1.2-3")),Z.xp6(3),Z.hij(" ",Z.xi3(14,9,n.get("Total_Price").value,"1.2-3")," ")}}function X(e,t){if(1&e&&(Z.ynx(0,45),Z.YNc(1,W,18,13,"tr",46),Z.YNc(2,G,17,12,"tr",25),Z.BQk()),2&e){const e=t.$implicit;Z.xp6(1),Z.Q6J("ngIf",e.get("isEditable").value),Z.xp6(1),Z.Q6J("ngIf",!e.get("isEditable").value)}}function K(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"div"),Z.TgZ(1,"div",33),Z.TgZ(2,"div",34),Z.TgZ(3,"ng-select",35),Z.NdJ("change",function(t){return Z.CHM(e),Z.oxw().addRow(t)})("search",function(t){return Z.CHM(e),Z.oxw().searchTermChanged.next(t.term)}),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(4,"div",36),Z.TgZ(5,"table",37),Z.TgZ(6,"thead",38),Z.TgZ(7,"tr"),Z.TgZ(8,"th",39),Z._uU(9,"Sr.No"),Z.qZA(),Z.TgZ(10,"th",40),Z._uU(11,"Item"),Z.qZA(),Z.TgZ(12,"th",40),Z._uU(13,"UOM"),Z.qZA(),Z.TgZ(14,"th",41),Z._uU(15,"Quantity"),Z.qZA(),Z.TgZ(16,"th",41),Z._uU(17,"Per Unit Price \u20b9"),Z.qZA(),Z.TgZ(18,"th",41),Z._uU(19,"Sub Total \u20b9"),Z.qZA(),Z.TgZ(20,"th",41),Z._uU(21,"Action"),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(22,"tbody"),Z.YNc(23,X,3,2,"ng-container",42),Z.TgZ(24,"tr"),Z._UZ(25,"td"),Z._UZ(26,"td"),Z._UZ(27,"td"),Z._UZ(28,"td"),Z.TgZ(29,"td",43),Z._uU(30,"Sub Total"),Z.qZA(),Z.TgZ(31,"td",44),Z._uU(32),Z.ALo(33,"number"),Z.qZA(),Z.qZA(),Z.TgZ(34,"tr"),Z._UZ(35,"td"),Z._UZ(36,"td"),Z._UZ(37,"td"),Z._UZ(38,"td"),Z.TgZ(39,"td",43),Z._uU(40,"GST"),Z.qZA(),Z.TgZ(41,"td",44),Z._uU(42),Z.ALo(43,"number"),Z.qZA(),Z.qZA(),Z.TgZ(44,"tr"),Z._UZ(45,"td"),Z._UZ(46,"td"),Z._UZ(47,"td"),Z._UZ(48,"td"),Z.TgZ(49,"td",43),Z._uU(50,"Total"),Z.qZA(),Z.TgZ(51,"td",44),Z._uU(52),Z.ALo(53,"number"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()}if(2&e){const e=Z.oxw();Z.xp6(3),Z.Q6J("loading",e.searchFlag)("items",e.SearchDataList),Z.xp6(20),Z.Q6J("ngForOf",e.getFormControls.controls),Z.xp6(9),Z.Oqu(Z.xi3(33,6,e.total,"1.2-3")),Z.xp6(10),Z.Oqu(Z.xi3(43,9,e.tax,"1.2-3")),Z.xp6(10),Z.Oqu(Z.xi3(53,12,e.total+e.tax,"1.2-3"))}}function ee(e,t){if(1&e&&(Z.TgZ(0,"option",29),Z._uU(1),Z.qZA()),2&e){const e=t.$implicit;Z.s9C("value",e.ID),Z.xp6(1),Z.hij(" ",e.Name," ")}}function te(e,t){1&e&&(Z.TgZ(0,"div",32),Z._uU(1," Type of issue is required "),Z.qZA())}function ne(e,t){if(1&e&&(Z.TgZ(0,"div",30),Z.YNc(1,te,2,0,"div",31),Z.qZA()),2&e){const e=Z.oxw(2);Z.xp6(1),Z.Q6J("ngIf",e.f.Type_Of_Issue.errors.required)}}function ie(e,t){1&e&&(Z.TgZ(0,"div",32),Z._uU(1," Description is required "),Z.qZA())}function re(e,t){if(1&e&&(Z.TgZ(0,"div",30),Z.YNc(1,ie,2,0,"div",31),Z.qZA()),2&e){const e=Z.oxw(2);Z.xp6(1),Z.Q6J("ngIf",e.f.Description.errors.required)}}function se(e,t){1&e&&(Z.TgZ(0,"div",32),Z._uU(1," Priority is required "),Z.qZA())}function oe(e,t){if(1&e&&(Z.TgZ(0,"div",30),Z.YNc(1,se,2,0,"div",31),Z.qZA()),2&e){const e=Z.oxw(2);Z.xp6(1),Z.Q6J("ngIf",e.f.Priority.errors.required)}}function ae(e,t){if(1&e&&(Z.TgZ(0,"div"),Z.TgZ(1,"div",4),Z.TgZ(2,"div",5),Z.TgZ(3,"label",6),Z.TgZ(4,"small",7),Z._uU(5,"Type Of Issue"),Z.qZA(),Z.TgZ(6,"span",8),Z._uU(7,"*"),Z.qZA(),Z.qZA(),Z.TgZ(8,"select",52),Z.TgZ(9,"option",53),Z._uU(10,"Select Issue"),Z.qZA(),Z.YNc(11,ee,2,2,"option",11),Z.qZA(),Z.YNc(12,ne,2,1,"div",12),Z.qZA(),Z.qZA(),Z.TgZ(13,"div",54),Z.TgZ(14,"div",5),Z.TgZ(15,"label",6),Z.TgZ(16,"small",7),Z._uU(17,"Description"),Z.qZA(),Z.TgZ(18,"span",8),Z._uU(19,"*"),Z.qZA(),Z.qZA(),Z._UZ(20,"textarea",55),Z.YNc(21,re,2,1,"div",12),Z.qZA(),Z.qZA(),Z.TgZ(22,"div",4),Z.TgZ(23,"div",5),Z.TgZ(24,"label",6),Z.TgZ(25,"small",7),Z._uU(26,"Select Priority"),Z.qZA(),Z.TgZ(27,"span",8),Z._uU(28,"*"),Z.qZA(),Z.qZA(),Z.TgZ(29,"select",56),Z.TgZ(30,"option",57),Z._uU(31,"Low"),Z.qZA(),Z.TgZ(32,"option",58),Z._uU(33,"Medium"),Z.qZA(),Z.TgZ(34,"option",59),Z._uU(35,"High"),Z.qZA(),Z.qZA(),Z.YNc(36,oe,2,1,"div",12),Z.qZA(),Z.qZA(),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(11),Z.Q6J("ngForOf",e.IssueType),Z.xp6(1),Z.Q6J("ngIf",e.f.Type_Of_Issue.touched&&e.f.Type_Of_Issue.errors),Z.xp6(9),Z.Q6J("ngIf",e.f.Description.touched&&e.f.Description.errors),Z.xp6(15),Z.Q6J("ngIf",e.f.Priority.touched&&e.f.Priority.errors)}}let ue=(()=>{class e{constructor(e,t,n,i,s){this.formBuilder=e,this._requesterService=t,this._mastersService=n,this.spinner=i,this.dataservice=s,this.LocationList=[],this.isWebRequest=!1,this.IssueType=[],this.SearchDataList=[],this.total=0,this.tax=0,this.searchTermChanged=new C.xQ,this.searchFlag=!1,this.selectedItems=[],this.raiseReqForm=this.formBuilder.group({Location_ID:["",r.kI.required],Request_Department:["IT",r.kI.required],Request_Type:["Procurement",r.kI.required],Type_Of_Issue:[""],Description:[""],Priority:["Low"],products:this.formBuilder.array([],{validators:r.kI.required})}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.searchTermChanged.pipe((0,Q.b)(600),(0,O.x)()).subscribe(e=>{this.getSearchProductList(e)}),this.dataservice.setTitle("Raise Request"),this.getAllLocationList(),this.selectedItems=[]}addRow(e){let t=e;this.selectedItems.includes(e.ID)?(console.log("selected items true"),this._mastersService.showalert("Item already added.","warning")):(console.log("selected items false"),t.Quantity=0,this.raiseReqForm.get("products").push(this.initiateForm(t)),this.selectedItems.push(e.ID)),this.search=""}deleteRow(e){this.selectedItems.splice(e,1),this.raiseReqForm.get("products").removeAt(e)}editRow(e){e.get("isEditable").setValue(!0)}doneRow(e){e.get("isEditable").setValue(!1)}get getFormControls(){return this.raiseReqForm.get("products")}initiateForm(e){return this.formBuilder.group({ID:[e.ID,r.kI.required],Name:[e.Name,r.kI.required],UOM:[e.UOM,r.kI.required],Price:[e.Price,r.kI.required],TAX_Percentage:[e.TAX_Percentage,r.kI.required],Quantity:[e.Quantity,[r.kI.required,r.kI.min(1),r.kI.pattern("^(0|[1-9][0-9]*)$")]],Total_Price:[e.Price*e.Quantity,r.kI.required],isEditable:[!0]})}onQuantityChnage(e){var t,n;let i=(Number(null===(t=e.get("Price"))||void 0===t?void 0:t.value)||0)*(Number(null===(n=e.get("Quantity"))||void 0===n?void 0:n.value)||0);e.get("Total_Price").setValue(i),this.calculateTotal()}calculateTotal(){var e,t,n;this.total=0,this.tax=0;let i=this.raiseReqForm.get("products");for(let r of i.controls)this.total+=Number(null===(e=r.get("Total_Price"))||void 0===e?void 0:e.value),this.tax+=Number(null===(t=r.get("Total_Price"))||void 0===t?void 0:t.value)*Number(null===(n=r.get("TAX_Percentage"))||void 0===n?void 0:n.value)/100}onChangeDepartment(e){this.SearchDataList=[],this.departmentType=e.target.value,this.tax=0,this.total=0,this.raiseReqForm.get("products").controls=[],this.getAllIssueTypeList()}onTypeReqestSelect(e){this.SearchDataList=[],this.raiseReqForm.get("products").controls=[],"Procurement"==e?(this.raiseReqForm.controls.products.setValidators([r.kI.required]),this.raiseReqForm.controls.Type_Of_Issue.setValidators([]),this.raiseReqForm.controls.Description.setValidators([]),this.raiseReqForm.controls.Priority.setValidators([])):(this.raiseReqForm.controls.Type_Of_Issue.setValidators([r.kI.required]),this.raiseReqForm.controls.Description.setValidators([r.kI.required]),this.raiseReqForm.controls.Priority.setValidators([r.kI.required]),this.raiseReqForm.controls.products.setValidators([]),this.departmentType=this.raiseReqForm.value.Request_Department,this.getAllIssueTypeList()),this.raiseReqForm.controls.products.updateValueAndValidity(),this.raiseReqForm.controls.Type_Of_Issue.updateValueAndValidity(),this.raiseReqForm.controls.Description.updateValueAndValidity(),this.raiseReqForm.controls.Priority.updateValueAndValidity()}get f(){return this.raiseReqForm.controls}getSearchProductList(e){var t;const n={department:null===(t=this.raiseReqForm.get("Request_Department"))||void 0===t?void 0:t.value,search:e};this.searchFlag=!0,this._requesterService.searchProductAPI(n).subscribe(e=>{e.error||(this.SearchDataList=e.data),this.searchFlag=!1})}getAllLocationList(){this._requesterService.allLocationAPI({}).subscribe(e=>{e.error||(this.LocationList=e.data)})}getAllIssueTypeList(){this._requesterService.allIssueTypeAPI({Request_Department:this.departmentType}).subscribe(e=>{e.error||(this.IssueType=e.data)})}onSubmit(){if("Procurement"==this.raiseReqForm.value.Request_Type){this.isWebRequest=!0;let e={Location_ID:this.raiseReqForm.value.Location_ID,Request_Department:this.raiseReqForm.value.Request_Department,Request_Type:this.raiseReqForm.value.Request_Type,products:this.raiseReqForm.value.products};this.spinner.show(),this._requesterService.addRequestAPI(e).subscribe(e=>{this.spinner.hide(),this.isWebRequest=!1,e.error?this._mastersService.showalert(e.message,"error"):(this._mastersService.showalert(e.message,"success"),this.resetForm())},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}else if("Service Request"==this.raiseReqForm.value.Request_Type){this.isWebRequest=!0;let e={Location_ID:this.raiseReqForm.value.Location_ID,Request_Department:this.raiseReqForm.value.Request_Department,Request_Type:this.raiseReqForm.value.Request_Type,Type_Of_Issue:this.raiseReqForm.value.Type_Of_Issue,Description:this.raiseReqForm.value.Description,Priority:this.raiseReqForm.value.Priority};this.spinner.show(),this._requesterService.addRequestForServiceAPI(e).subscribe(e=>{this.spinner.hide(),this.isWebRequest=!1,e.error?this._mastersService.showalert(e.message,"error"):(this._mastersService.showalert(e.message,"success"),this.resetForm())},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}}resetForm(){this.raiseReqForm.reset(),this.raiseReqForm.patchValue({Request_Department:"IT",Request_Type:"Procurement",Location_ID:"",Type_Of_Issue:"",Description:"",Priority:"Low"}),this.total=0,this.tax=0,this.onTypeReqestSelect("Procurement")}pager(e){this.currentPage=e}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage}}return e.\u0275fac=function(t){return new(t||e)(Z.Y36(r.qu),Z.Y36(Y.S),Z.Y36(L.R),Z.Y36(d.t2),Z.Y36(F.D))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-raise-request"]],decls:57,vars:9,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"row"],[1,"col-lg-12","col-12"],[1,"row","h-100","w-100","mb-3"],[1,"col-lg-4","col-12"],["for",""],[1,"text-dark","fw-bold"],[1,"text-danger","fw-bold"],["formControlName","Location_ID",1,"form-select"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"col-lg-4","col-12","d-flex"],[1,"col-auto"],[1,"form-check","form-check-inline"],["type","radio","name","Request_Department","id","inlineRadio1","value","IT","formControlName","Request_Department",1,"form-check-input",3,"click"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","Request_Department","id","inlineRadio2","value","Admin","formControlName","Request_Department",1,"form-check-input",3,"click"],["for","inlineRadio2",1,"form-check-label"],[1,"row","h-100","w-100","mt-3"],["type","radio","formControlName","Request_Type","value","Procurement",1,"form-check-input",3,"checked","click"],["for","pro",1,"form-check-label"],["formControlName","Request_Type","type","radio","value","Service Request",1,"form-check-input",3,"click"],["for","Req",1,"form-check-label"],[4,"ngIf"],[1,"pull-left","my-3"],[1,"btn","btn-1","btn-sm",2,"width","180px","font-size","14px",3,"disabled","click"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-pulse"],[3,"value"],[1,"text-danger"],["class","small",4,"ngIf"],[1,"small"],[1,"row","h-100"],[1,"col-lg-4","col-12","mb-2"],["appendTo","body","bindLabel","Name","bindValue","Name","placeholder","Search...",1,"ngselect",3,"loading","items","change","search"],[1,""],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col",1,"w-10"],["formArrayName","products",4,"ngFor","ngForOf"],[1,"text-end"],[1,"text-start"],["formArrayName","products"],[3,"formGroupName",4,"ngIf"],[3,"formGroupName"],["type","number","placeholder","qty","formControlName","Quantity",1,"form-control",2,"max-width","100px",3,"ngClass","keyup"],[1,"fa","fa-trash",2,"margin","5px",3,"click"],[1,"fa","fa-check",2,"margin","5px",3,"click"],[1,"fa","fa-pencil",2,"margin","5px",3,"click"],["aria-label","Default select example","formControlName","Type_Of_Issue",1,"form-select"],["disabled","","selected","","value",""],[1,"row","h-100","mb-3"],["id","exampleFormControlTextarea1","rows","2","formControlName","Description","placeholder","Enter Description",1,"form-control"],["aria-label","Default select example","formControlName","Priority",1,"form-select"],["value","Low"],["value","Medium"],["value","High"]],template:function(e,t){if(1&e&&(Z.TgZ(0,"div",0),Z.TgZ(1,"form",1),Z.TgZ(2,"div",2),Z.TgZ(3,"div",3),Z.TgZ(4,"div",4),Z.TgZ(5,"div",5),Z.TgZ(6,"label",6),Z.TgZ(7,"small",7),Z._uU(8,"Select Location"),Z.qZA(),Z.TgZ(9,"span",8),Z._uU(10,"*"),Z.qZA(),Z.qZA(),Z.TgZ(11,"select",9),Z.TgZ(12,"option",10),Z._uU(13,"Select Location"),Z.qZA(),Z.YNc(14,B,2,2,"option",11),Z.qZA(),Z.YNc(15,H,2,1,"div",12),Z.qZA(),Z.TgZ(16,"div",13),Z.TgZ(17,"div",14),Z.TgZ(18,"label",6),Z.TgZ(19,"small",7),Z._uU(20,"Department"),Z.qZA(),Z.TgZ(21,"span",8),Z._uU(22,"*"),Z.qZA(),Z.qZA(),Z._UZ(23,"br"),Z.TgZ(24,"div",15),Z.TgZ(25,"input",16),Z.NdJ("click",function(e){return t.onChangeDepartment(e)}),Z.qZA(),Z.TgZ(26,"label",17),Z._uU(27,"IT"),Z.qZA(),Z.qZA(),Z.TgZ(28,"div",15),Z.TgZ(29,"input",18),Z.NdJ("click",function(e){return t.onChangeDepartment(e)}),Z.qZA(),Z.TgZ(30,"label",19),Z._uU(31,"Admin"),Z.qZA(),Z.qZA(),Z.YNc(32,V,2,1,"div",12),Z.qZA(),Z.qZA(),Z.TgZ(33,"div",20),Z.TgZ(34,"div",13),Z.TgZ(35,"div",14),Z.TgZ(36,"label",6),Z.TgZ(37,"small",7),Z._uU(38,"Type Of Request"),Z.qZA(),Z.TgZ(39,"span",8),Z._uU(40,"*"),Z.qZA(),Z.qZA(),Z._UZ(41,"br"),Z.TgZ(42,"div",15),Z.TgZ(43,"input",21),Z.NdJ("click",function(e){return t.onTypeReqestSelect(e.target.value)}),Z.qZA(),Z.TgZ(44,"label",22),Z._uU(45,"Procurement"),Z.qZA(),Z.qZA(),Z.TgZ(46,"div",15),Z.TgZ(47,"input",23),Z.NdJ("click",function(e){return t.onTypeReqestSelect(e.target.value)}),Z.qZA(),Z.TgZ(48,"label",24),Z._uU(49,"Service Request"),Z.qZA(),Z.qZA(),Z.YNc(50,$,2,1,"div",12),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.YNc(51,K,54,15,"div",25),Z.YNc(52,ae,37,4,"div",25),Z.TgZ(53,"div",26),Z.TgZ(54,"button",27),Z.NdJ("click",function(){return t.onSubmit()}),Z._uU(55," Submit "),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z._UZ(56,"ngx-spinner",28)),2&e){let e,n;Z.xp6(1),Z.Q6J("formGroup",t.raiseReqForm),Z.xp6(13),Z.Q6J("ngForOf",t.LocationList),Z.xp6(1),Z.Q6J("ngIf",t.f.Location_ID.touched&&t.f.Location_ID.errors),Z.xp6(17),Z.Q6J("ngIf",t.f.Request_Department.touched&&t.f.Request_Department.errors),Z.xp6(11),Z.Q6J("checked",!0),Z.xp6(7),Z.Q6J("ngIf",t.f.Request_Type.touched&&t.f.Request_Type.errors),Z.xp6(1),Z.Q6J("ngIf","Procurement"==(null==(e=t.raiseReqForm.get("Request_Type"))?null:e.value)),Z.xp6(1),Z.Q6J("ngIf","Service Request"==(null==(n=t.raiseReqForm.get("Request_Type"))?null:n.value)),Z.xp6(2),Z.Q6J("disabled",t.raiseReqForm.invalid||t.isWebRequest)}},directives:[r._Y,r.JL,r.sg,r.EJ,r.JJ,r.u,r.YN,r.Kr,i.sg,i.O5,r._,r.Fj,d.Ro,M.w9,r.CE,r.x0,r.wV,i.mk],pipes:[i.JJ],styles:[".form-control[_ngcontent-%COMP%]{font-weight:500}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#0dba3e;border-color:#0dba3e}[_ngcontent-%COMP%]::placeholder{font-size:14px}.quantity-input[_ngcontent-%COMP%]{border:none!important;border-bottom:2px solid #ced4da!important}.quantity-input[_ngcontent-%COMP%]:hover{border:none!important;border-bottom:2px solid #8e9194!important}"]}),e})();var le=n(3633);function ce(e,t){1&e&&(Z.TgZ(0,"div",19),Z._uU(1,"Remark is required"),Z.qZA())}function pe(e,t){if(1&e&&(Z.TgZ(0,"div",17),Z.YNc(1,ce,2,0,"div",18),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",e.f.remark.errors.required)}}let ge=(()=>{class e{constructor(e,t,n,i,s){this.bsModalRef=e,this.storageService=t,this._requesterService=n,this._mastersService=i,this.formBuilder=s,this.notifyParent=new Z.vpe,this.isWebRequest=!1,this.submitted=!1,this.currentRating=0,this.ackForm=this.formBuilder.group({id:[null],remark:[null,[r.kI.required]],rating:["",r.kI.required]})}ngOnInit(){}close(){this.bsModalRef.hide(),this.notifyParent.emit(!1)}get f(){return this.ackForm.controls}onSubmit(){this.isWebRequest=!0;let e={remark:this.ackForm.value.remark,id:this.ID,rating:this.ackForm.value.rating};console.log("abc--data----\x3e",e),this._requesterService.addAcknowledgeAPI(e).subscribe(e=>{this.isWebRequest=!1,e.error?this._mastersService.showalert(e.message,"error"):(this._mastersService.showalert(e.message,"success"),this.notifyParent.emit(!0),this.bsModalRef.hide())})}}return e.\u0275fac=function(t){return new(t||e)(Z.Y36(u.UZ),Z.Y36(l.V),Z.Y36(Y.S),Z.Y36(L.R),Z.Y36(r.qu))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-acknowledge"]],inputs:{ID:"ID"},outputs:{notifyParent:"notifyParent"},decls:26,vars:6,consts:[[1,"modal-header","bg-light"],[1,"modal-title","pull-left","fw-bold"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"row","mb-1"],[1,"row"],["for",""],[1,"text-dark","fw-bold"],[1,"col-lg-12","col-12"],["formControlName","rating",3,"max","rate","readonly","rateChange"],[1,"row","h-100","mb-3"],[1,"text-danger","fw-bold"],["id","exampleFormControlTextarea1","rows","2","formControlName","remark","placeholder","Enter remark",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"col-auto","text-end"],[1,"btn","btn-1","btn-sm",2,"width","100px","font-size","14px",3,"disabled","click"],[1,"text-danger"],["class","small",4,"ngIf"],[1,"small"]],template:function(e,t){1&e&&(Z.TgZ(0,"div",0),Z.TgZ(1,"h5",1),Z._uU(2,"Acknowledge"),Z.qZA(),Z.TgZ(3,"button",2),Z.NdJ("click",function(){return t.close()}),Z.qZA(),Z.qZA(),Z.TgZ(4,"div",3),Z.TgZ(5,"form",4),Z.TgZ(6,"div",5),Z.TgZ(7,"div",6),Z.TgZ(8,"label",7),Z.TgZ(9,"small",8),Z._uU(10,"Rating"),Z.qZA(),Z.qZA(),Z.TgZ(11,"div",9),Z.TgZ(12,"ngb-rating",10),Z.NdJ("rateChange",function(e){return t.currentRating=e}),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(13,"div",11),Z.TgZ(14,"div",9),Z.TgZ(15,"label",7),Z.TgZ(16,"small",8),Z._uU(17,"Remark"),Z.qZA(),Z.TgZ(18,"span",12),Z._uU(19,"*"),Z.qZA(),Z.qZA(),Z._UZ(20,"textarea",13),Z.YNc(21,pe,2,1,"div",14),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(22,"div",6),Z.TgZ(23,"div",15),Z.TgZ(24,"button",16),Z.NdJ("click",function(){return t.onSubmit()}),Z._uU(25,"Submit"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&e&&(Z.xp6(5),Z.Q6J("formGroup",t.ackForm),Z.xp6(7),Z.Q6J("max",10)("rate",t.currentRating)("readonly",!1),Z.xp6(9),Z.Q6J("ngIf",t.f.remark.touched&&t.f.remark.errors),Z.xp6(3),Z.Q6J("disabled",t.ackForm.invalid||t.isWebRequest))},directives:[r._Y,r.JL,r.sg,le.OC,r.JJ,r.u,r.Fj,i.O5],styles:["ngb-rating[_ngcontent-%COMP%]{color:#e8b923;font-size:55px}"]}),e})();function de(e,t){1&e&&(Z.TgZ(0,"div",19),Z._uU(1,"Remark is required"),Z.qZA())}function Ze(e,t){if(1&e&&(Z.TgZ(0,"div",17),Z.YNc(1,de,2,0,"div",18),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",e.f.remark.errors.required)}}let fe=(()=>{class e{constructor(e,t,n,i,s){this.bsModalRef=e,this.storageService=t,this._requesterService=n,this._mastersService=i,this.formBuilder=s,this.notifyParent=new Z.vpe,this.isWebRequest=!1,this.submitted=!1,this.currentRating=0,this.ackForm=this.formBuilder.group({id:[null],remark:[null,[r.kI.required]],rating:["",r.kI.required]})}ngOnInit(){}close(){this.bsModalRef.hide(),this.notifyParent.emit(!1)}get f(){return this.ackForm.controls}onSubmit(){this.isWebRequest=!0,this._requesterService.addRatingRemarkI({remark:this.ackForm.value.remark,id:this.ID,rating:this.ackForm.value.rating}).subscribe(e=>{this.isWebRequest=!1,e.error?this._mastersService.showalert(e.message,"error"):(this._mastersService.showalert(e.message,"success"),this.notifyParent.emit(!0),this.bsModalRef.hide())})}}return e.\u0275fac=function(t){return new(t||e)(Z.Y36(u.UZ),Z.Y36(l.V),Z.Y36(Y.S),Z.Y36(L.R),Z.Y36(r.qu))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-rating-remark"]],inputs:{ID:"ID"},outputs:{notifyParent:"notifyParent"},decls:26,vars:6,consts:[[1,"modal-header","bg-light"],[1,"modal-title","pull-left","fw-bold"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"row","mb-1"],[1,"row"],["for",""],[1,"text-dark","fw-bold"],[1,"col-lg-12","col-12"],["formControlName","rating",3,"max","rate","readonly","rateChange"],[1,"row","h-100","mb-3"],[1,"text-danger","fw-bold"],["id","exampleFormControlTextarea1","rows","2","formControlName","remark","placeholder","Enter remark",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"col-auto","text-end"],[1,"btn","btn-1","btn-sm",2,"width","100px","font-size","14px",3,"disabled","click"],[1,"text-danger"],["class","small",4,"ngIf"],[1,"small"]],template:function(e,t){1&e&&(Z.TgZ(0,"div",0),Z.TgZ(1,"h5",1),Z._uU(2,"Rating And Remark"),Z.qZA(),Z.TgZ(3,"button",2),Z.NdJ("click",function(){return t.close()}),Z.qZA(),Z.qZA(),Z.TgZ(4,"div",3),Z.TgZ(5,"form",4),Z.TgZ(6,"div",5),Z.TgZ(7,"div",6),Z.TgZ(8,"label",7),Z.TgZ(9,"small",8),Z._uU(10,"Rating"),Z.qZA(),Z.qZA(),Z.TgZ(11,"div",9),Z.TgZ(12,"ngb-rating",10),Z.NdJ("rateChange",function(e){return t.currentRating=e}),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(13,"div",11),Z.TgZ(14,"div",9),Z.TgZ(15,"label",7),Z.TgZ(16,"small",8),Z._uU(17,"Remark"),Z.qZA(),Z.TgZ(18,"span",12),Z._uU(19,"*"),Z.qZA(),Z.qZA(),Z._UZ(20,"textarea",13),Z.YNc(21,Ze,2,1,"div",14),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(22,"div",6),Z.TgZ(23,"div",15),Z.TgZ(24,"button",16),Z.NdJ("click",function(){return t.onSubmit()}),Z._uU(25,"Submit"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&e&&(Z.xp6(5),Z.Q6J("formGroup",t.ackForm),Z.xp6(7),Z.Q6J("max",10)("rate",t.currentRating)("readonly",!1),Z.xp6(9),Z.Q6J("ngIf",t.f.remark.touched&&t.f.remark.errors),Z.xp6(3),Z.Q6J("disabled",t.ackForm.invalid||t.isWebRequest))},directives:[r._Y,r.JL,r.sg,le.OC,r.JJ,r.u,r.Fj,i.O5],styles:["ngb-rating[_ngcontent-%COMP%]{color:#e8b923;font-size:55px}"]}),e})();function qe(e,t){1&e&&(Z.TgZ(0,"p",21),Z.TgZ(1,"span",22),Z._uU(2,"Open"),Z.qZA(),Z.qZA())}function he(e,t){1&e&&(Z.TgZ(0,"p",21),Z.TgZ(1,"span",23),Z._uU(2,"Delivered"),Z.qZA(),Z.qZA())}function me(e,t){1&e&&(Z.TgZ(0,"p",21),Z.TgZ(1,"span",24),Z._uU(2,"In Progress"),Z.qZA(),Z.qZA())}function _e(e,t){1&e&&(Z.TgZ(0,"p",21),Z.TgZ(1,"span",25),Z._uU(2,"Ready To Dispatch"),Z.qZA(),Z.qZA())}function Te(e,t){1&e&&(Z.TgZ(0,"p",21),Z.TgZ(1,"span",26),Z._uU(2,"Dispatched"),Z.qZA(),Z.qZA())}function Ae(e,t){1&e&&(Z.TgZ(0,"p",21),Z.TgZ(1,"span",23),Z._uU(2,"Resolved"),Z.qZA(),Z.qZA())}function xe(e,t){1&e&&(Z.TgZ(0,"p",21),Z.TgZ(1,"span",26),Z._uU(2,"Discarded"),Z.qZA(),Z.qZA())}function be(e,t){if(1&e&&(Z.ynx(0),Z.YNc(1,qe,3,0,"p",20),Z.YNc(2,he,3,0,"p",20),Z.YNc(3,me,3,0,"p",20),Z.YNc(4,_e,3,0,"p",20),Z.YNc(5,Te,3,0,"p",20),Z.YNc(6,Ae,3,0,"p",20),Z.YNc(7,xe,3,0,"p",20),Z.BQk()),2&e){const e=Z.oxw(2);Z.xp6(1),Z.Q6J("ngIf","Open"==(null==e.response?null:e.response.data.Status)),Z.xp6(1),Z.Q6J("ngIf","Delivered"==(null==e.response?null:e.response.data.Status)),Z.xp6(1),Z.Q6J("ngIf","In Progress"==(null==e.response?null:e.response.data.Status)),Z.xp6(1),Z.Q6J("ngIf","Ready To Dispatch"==(null==e.response?null:e.response.data.Status)),Z.xp6(1),Z.Q6J("ngIf","Dispatched"==(null==e.response?null:e.response.data.Status)),Z.xp6(1),Z.Q6J("ngIf","Resolved"==(null==e.response?null:e.response.data.Status)),Z.xp6(1),Z.Q6J("ngIf","Discarded"==(null==e.response?null:e.response.data.Status))}}function ve(e,t){1&e&&(Z.TgZ(0,"p",21),Z.TgZ(1,"span",26),Z._uU(2,"Rejected"),Z.qZA(),Z.qZA())}function Ue(e,t){if(1&e&&(Z.TgZ(0,"div",13),Z.TgZ(1,"div",14),Z.TgZ(2,"span",15),Z._uU(3,"Request No"),Z.qZA(),Z.TgZ(4,"p",16),Z._uU(5),Z.qZA(),Z.qZA(),Z.TgZ(6,"div",14),Z.TgZ(7,"span",15),Z._uU(8,"HOD"),Z.qZA(),Z.TgZ(9,"p",16),Z._uU(10),Z.qZA(),Z.qZA(),Z.TgZ(11,"div",14),Z.TgZ(12,"span",15),Z._uU(13,"Head"),Z.qZA(),Z.TgZ(14,"p",16),Z._uU(15),Z.qZA(),Z.qZA(),Z.TgZ(16,"div",17),Z.TgZ(17,"span",15),Z._uU(18,"Date"),Z.qZA(),Z.TgZ(19,"p",16),Z._uU(20),Z.ALo(21,"date"),Z.qZA(),Z.qZA(),Z.TgZ(22,"div",14),Z.TgZ(23,"span",15),Z._uU(24,"Status"),Z.qZA(),Z.YNc(25,be,8,7,"ng-container",18),Z.YNc(26,ve,3,0,"ng-template",null,19,Z.W1O),Z.qZA(),Z.qZA()),2&e){const e=Z.MAs(27),t=Z.oxw();Z.xp6(5),Z.Oqu(null==t.response?null:t.response.data.Request_Number),Z.xp6(5),Z.Oqu(null==t.response?null:t.response.data.HODName),Z.xp6(5),Z.Oqu(null==t.response?null:t.response.data.HEADName),Z.xp6(5),Z.hij(" ",Z.xi3(21,6,null==t.response?null:t.response.data.Request_Date,"dd/MM/yyyy")," "),Z.xp6(5),Z.Q6J("ngIf",2!=(null==t.response?null:t.response.data.HOD_Approved)&&2!=(null==t.response?null:t.response.data.Head_Approved))("ngIfElse",e)}}function ye(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",29),Z._UZ(2,"i",30),Z._UZ(3,"i",30),Z._UZ(4,"i",30),Z._UZ(5,"i",30),Z._UZ(6,"i",30),Z._UZ(7,"i",30),Z._UZ(8,"i",30),Z._UZ(9,"i",30),Z._UZ(10,"i",30),Z.qZA())}function Re(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",29),Z._UZ(2,"i",29),Z._UZ(3,"i",30),Z._UZ(4,"i",30),Z._UZ(5,"i",30),Z._UZ(6,"i",30),Z._UZ(7,"i",30),Z._UZ(8,"i",30),Z._UZ(9,"i",30),Z._UZ(10,"i",30),Z.qZA())}function Ie(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",29),Z._UZ(2,"i",29),Z._UZ(3,"i",29),Z._UZ(4,"i",30),Z._UZ(5,"i",30),Z._UZ(6,"i",30),Z._UZ(7,"i",30),Z._UZ(8,"i",30),Z._UZ(9,"i",30),Z._UZ(10,"i",30),Z.qZA())}function we(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",29),Z._UZ(2,"i",29),Z._UZ(3,"i",29),Z._UZ(4,"i",29),Z._UZ(5,"i",30),Z._UZ(6,"i",30),Z._UZ(7,"i",30),Z._UZ(8,"i",30),Z._UZ(9,"i",30),Z._UZ(10,"i",30),Z.qZA())}function Pe(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",29),Z._UZ(2,"i",29),Z._UZ(3,"i",29),Z._UZ(4,"i",29),Z._UZ(5,"i",29),Z._UZ(6,"i",30),Z._UZ(7,"i",30),Z._UZ(8,"i",30),Z._UZ(9,"i",30),Z._UZ(10,"i",30),Z.qZA())}function ke(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",29),Z._UZ(2,"i",29),Z._UZ(3,"i",29),Z._UZ(4,"i",29),Z._UZ(5,"i",29),Z._UZ(6,"i",29),Z._UZ(7,"i",30),Z._UZ(8,"i",30),Z._UZ(9,"i",30),Z._UZ(10,"i",30),Z.qZA())}function Ne(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",29),Z._UZ(2,"i",29),Z._UZ(3,"i",29),Z._UZ(4,"i",29),Z._UZ(5,"i",29),Z._UZ(6,"i",29),Z._UZ(7,"i",29),Z._UZ(8,"i",30),Z._UZ(9,"i",30),Z._UZ(10,"i",30),Z.qZA())}function Se(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",29),Z._UZ(2,"i",29),Z._UZ(3,"i",29),Z._UZ(4,"i",29),Z._UZ(5,"i",29),Z._UZ(6,"i",29),Z._UZ(7,"i",29),Z._UZ(8,"i",29),Z._UZ(9,"i",30),Z._UZ(10,"i",30),Z.qZA())}function Je(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",29),Z._UZ(2,"i",29),Z._UZ(3,"i",29),Z._UZ(4,"i",29),Z._UZ(5,"i",29),Z._UZ(6,"i",29),Z._UZ(7,"i",29),Z._UZ(8,"i",29),Z._UZ(9,"i",29),Z._UZ(10,"i",30),Z.qZA())}function De(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",29),Z._UZ(2,"i",29),Z._UZ(3,"i",29),Z._UZ(4,"i",29),Z._UZ(5,"i",29),Z._UZ(6,"i",29),Z._UZ(7,"i",29),Z._UZ(8,"i",29),Z._UZ(9,"i",29),Z._UZ(10,"i",29),Z.qZA())}function Ce(e,t){if(1&e&&(Z.TgZ(0,"div",14),Z.TgZ(1,"span",15),Z._uU(2,"Rating"),Z.qZA(),Z.YNc(3,ye,11,0,"p",28),Z.YNc(4,Re,11,0,"p",28),Z.YNc(5,Ie,11,0,"p",28),Z.YNc(6,we,11,0,"p",28),Z.YNc(7,Pe,11,0,"p",28),Z.YNc(8,ke,11,0,"p",28),Z.YNc(9,Ne,11,0,"p",28),Z.YNc(10,Se,11,0,"p",28),Z.YNc(11,Je,11,0,"p",28),Z.YNc(12,De,11,0,"p",28),Z.qZA()),2&e){const e=Z.oxw(2);Z.xp6(3),Z.Q6J("ngIf",1==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",2==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",3==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",4==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",5==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",6==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",7==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",8==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",9==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",10==(null==e.response?null:e.response.data.Rating))}}function Qe(e,t){if(1&e&&(Z.TgZ(0,"div",14),Z.TgZ(1,"span",15),Z._uU(2,"Remark"),Z.qZA(),Z.TgZ(3,"p",16),Z._uU(4),Z.qZA(),Z.qZA()),2&e){const e=Z.oxw(2);Z.xp6(4),Z.Oqu(null==e.response?null:e.response.data.Requester_Remark)}}function Oe(e,t){if(1&e&&(Z.TgZ(0,"div",13),Z.YNc(1,Ce,13,10,"div",27),Z.YNc(2,Qe,5,1,"div",27),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(1),Z.Q6J("ngIf","Delivered"==(null==e.response?null:e.response.data.Status)&&null!=(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf","Delivered"==(null==e.response?null:e.response.data.Status)&&null!=(null==e.response?null:e.response.data.Rating)&&""!=(null==e.response?null:e.response.data.Rating))}}function Ye(e,t){if(1&e&&(Z.TgZ(0,"div",14),Z.TgZ(1,"span",15),Z._uU(2,"HOD Rejection Reason"),Z.qZA(),Z.TgZ(3,"p",16),Z._uU(4),Z.qZA(),Z.qZA()),2&e){const e=Z.oxw(2);Z.xp6(4),Z.Oqu(null==e.response?null:e.response.data.HOD_Reject_Reason)}}function Le(e,t){if(1&e&&(Z.TgZ(0,"div",14),Z.TgZ(1,"span",15),Z._uU(2,"Head Rejection Reason"),Z.qZA(),Z.TgZ(3,"p",16),Z._uU(4),Z.qZA(),Z.qZA()),2&e){const e=Z.oxw(2);Z.xp6(4),Z.Oqu(null==e.response?null:e.response.data.Head_Reject_Reason)}}function Fe(e,t){if(1&e&&(Z.TgZ(0,"div",13),Z.YNc(1,Ye,5,1,"div",27),Z.YNc(2,Le,5,1,"div",27),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",2==(null==e.response?null:e.response.data.HOD_Approved)),Z.xp6(1),Z.Q6J("ngIf",2==(null==e.response?null:e.response.data.Head_Approved))}}function Me(e,t){1&e&&(Z.TgZ(0,"tr"),Z.TgZ(1,"td",36),Z.TgZ(2,"b",37),Z._uU(3,"No records found"),Z.qZA(),Z.qZA(),Z.qZA())}function Be(e,t){if(1&e&&(Z.TgZ(0,"tr",31),Z.TgZ(1,"td",38),Z._uU(2),Z.qZA(),Z.TgZ(3,"td"),Z._uU(4),Z.qZA(),Z.TgZ(5,"td"),Z._uU(6),Z.qZA(),Z.TgZ(7,"td"),Z._uU(8),Z.qZA(),Z.TgZ(9,"td",39),Z._uU(10),Z.ALo(11,"number"),Z.qZA(),Z.TgZ(12,"td",39),Z._uU(13),Z.ALo(14,"number"),Z.qZA(),Z.TgZ(15,"td",39),Z._uU(16),Z.ALo(17,"number"),Z.qZA(),Z.TgZ(18,"td",39),Z._uU(19),Z.ALo(20,"number"),Z.qZA(),Z.TgZ(21,"td",39),Z._uU(22),Z.ALo(23,"number"),Z.qZA(),Z.qZA()),2&e){const e=t.$implicit,n=t.index;Z.xp6(2),Z.Oqu(n+1),Z.xp6(2),Z.Oqu(e.product.Name),Z.xp6(2),Z.Oqu(e.UOM),Z.xp6(2),Z.Oqu(e.Quantity),Z.xp6(2),Z.Oqu(Z.xi3(11,9,e.Per_Unit_Price,"1.2-3")),Z.xp6(3),Z.hij("\u20b9 ",Z.xi3(14,12,e.Total_Price,"1.2-3"),""),Z.xp6(3),Z.Oqu(Z.xi3(17,15,e.TAX_Percentage,"1.2-3")),Z.xp6(3),Z.Oqu(Z.xi3(20,18,e.TAX_Value,"1.2-3")),Z.xp6(3),Z.Oqu(Z.xi3(23,21,e.Sub_Total,"1.2-3"))}}function Ee(e,t){if(1&e&&(Z.TgZ(0,"tbody",31),Z.YNc(1,Me,4,0,"tr",28),Z.YNc(2,Be,24,24,"tr",32),Z.TgZ(3,"tr",33),Z._UZ(4,"td",34),Z.TgZ(5,"td",35),Z._uU(6,"Sub Total"),Z.qZA(),Z.TgZ(7,"td",35),Z._uU(8),Z.ALo(9,"number"),Z.qZA(),Z.qZA(),Z.TgZ(10,"tr",33),Z._UZ(11,"td",34),Z.TgZ(12,"td",35),Z._uU(13,"GST"),Z.qZA(),Z.TgZ(14,"td",35),Z._uU(15),Z.ALo(16,"number"),Z.qZA(),Z.qZA(),Z.TgZ(17,"tr",33),Z._UZ(18,"td",34),Z.TgZ(19,"td",35),Z._uU(20,"Total"),Z.qZA(),Z.TgZ(21,"td",35),Z._uU(22),Z.ALo(23,"number"),Z.qZA(),Z.qZA(),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",0===(null==e.response?null:e.response.data.length)),Z.xp6(1),Z.Q6J("ngForOf",null==e.response?null:e.response.data.request_items),Z.xp6(6),Z.hij(" \u20b9 ",Z.xi3(9,5,e.tableToatal,"1.2-3")," "),Z.xp6(7),Z.hij(" ",Z.xi3(16,8,e.gst,"1.2-3")," "),Z.xp6(7),Z.hij(" \u20b9 ",Z.xi3(23,11,e.subTotal,"1.2-3")," ")}}let He=(()=>{class e{constructor(e,t,n){this.bsModalRef=e,this._requesterService=t,this._mastersService=n,this.tableToatal=0,this.gst=0,this.subTotal=0,this.response=[]}ngOnInit(){this.getByIDRequestList()}getByIDRequestList(){this._requesterService.getByIdRequest({id:this.ID}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.response=e,e.data.request_items.forEach(e=>{this.tableToatal+=e.Total_Price}),e.data.request_items.forEach(e=>{this.gst+=e.TAX_Value}),e.data.request_items.forEach(e=>{this.subTotal+=e.Sub_Total}))},e=>{this._mastersService.showalert(e.error.message,"error")})}close(){this.bsModalRef.hide()}}return e.\u0275fac=function(t){return new(t||e)(Z.Y36(u.UZ),Z.Y36(Y.S),Z.Y36(L.R))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-view-details"]],decls:33,vars:4,consts:[[1,"modal-header","bg-light"],[1,"modal-title","pull-left","fw-bold"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","row mb-2",4,"ngIf"],[1,"row"],[1,"row","mx-0"],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0","table-responsive"],[1,"table-light","bg-light"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],[1,"row","mb-2"],[1,"col-auto"],[1,"fw-bold"],[1,"text-muted"],[1,"col-auto","mx-5"],[4,"ngIf","ngIfElse"],["reasons",""],["class","text-dark text-muted",4,"ngIf"],[1,"text-dark","text-muted"],[1,"badge","rounded-pill","bg-primary"],[1,"badge","rounded-pill","bg-success"],[1,"badge","rounded-pill","bg-warning"],[1,"badge","rounded-pill","bg-info"],[1,"badge","rounded-pill","bg-danger"],["class","col-auto",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"fa","fa-star",2,"font-size","22px","color","#f0a316"],["aria-hidden","true",1,"fa","fa-star-o",2,"font-size","22px","color","#f0a316"],[1,"bg-white"],["class","bg-white",4,"ngFor","ngForOf"],[1,"bg-light"],["colspan","7"],[1,"text-end","text-dark","fw-bold"],["colspan","9",1,"text-center"],[1,"text-muted",2,"font-size","large"],[2,"width","10px"],[1,"text-end"]],template:function(e,t){1&e&&(Z.TgZ(0,"div",0),Z.TgZ(1,"h5",1),Z._uU(2,"View Details"),Z.qZA(),Z.TgZ(3,"button",2),Z.NdJ("click",function(){return t.close()}),Z.qZA(),Z.qZA(),Z.TgZ(4,"div",3),Z.YNc(5,Ue,28,9,"div",4),Z.YNc(6,Oe,3,2,"div",4),Z.YNc(7,Fe,3,2,"div",4),Z.TgZ(8,"div",5),Z._UZ(9,"hr"),Z.qZA(),Z.TgZ(10,"div",6),Z.TgZ(11,"table",7),Z.TgZ(12,"thead",8),Z.TgZ(13,"tr"),Z.TgZ(14,"th",9),Z._uU(15,"Sr.No"),Z.qZA(),Z.TgZ(16,"th",10),Z._uU(17,"Item Name"),Z.qZA(),Z.TgZ(18,"th",10),Z._uU(19,"UOM"),Z.qZA(),Z.TgZ(20,"th",11),Z._uU(21,"Quantity"),Z.qZA(),Z.TgZ(22,"th",11),Z._uU(23,"Per Unit Price \u20b9"),Z.qZA(),Z.TgZ(24,"th",11),Z._uU(25,"Sub Total \u20b9"),Z.qZA(),Z.TgZ(26,"th",11),Z._uU(27,"GST %"),Z.qZA(),Z.TgZ(28,"th",11),Z._uU(29,"GST \u20b9"),Z.qZA(),Z.TgZ(30,"th",11),Z._uU(31,"Total \u20b9"),Z.qZA(),Z.qZA(),Z.qZA(),Z.YNc(32,Ee,24,14,"tbody",12),Z.qZA(),Z.qZA(),Z.qZA()),2&e&&(Z.xp6(5),Z.Q6J("ngIf",null==t.response?null:t.response.data),Z.xp6(1),Z.Q6J("ngIf",null==t.response?null:t.response.data),Z.xp6(1),Z.Q6J("ngIf",(null==t.response?null:t.response.data)&&(2==(null==t.response?null:t.response.data.HOD_Approved)||2==(null==t.response?null:t.response.data.Head_Approved))),Z.xp6(25),Z.Q6J("ngIf",null==t.response?null:t.response.data))},directives:[i.O5,i.sg],pipes:[i.uU,i.JJ],styles:[".checked[_ngcontent-%COMP%]{color:orange}"]}),e})();function je(e,t){1&e&&(Z.TgZ(0,"p",14),Z.TgZ(1,"span",15),Z._uU(2,"Open"),Z.qZA(),Z.qZA())}function Ve(e,t){1&e&&(Z.TgZ(0,"p",14),Z.TgZ(1,"span",16),Z._uU(2,"Delivered"),Z.qZA(),Z.qZA())}function ze(e,t){1&e&&(Z.TgZ(0,"p",14),Z.TgZ(1,"span",17),Z._uU(2,"In Progress"),Z.qZA(),Z.qZA())}function $e(e,t){1&e&&(Z.TgZ(0,"p",14),Z.TgZ(1,"span",18),Z._uU(2,"Ready To Dispatch"),Z.qZA(),Z.qZA())}function We(e,t){1&e&&(Z.TgZ(0,"p",14),Z.TgZ(1,"span",19),Z._uU(2,"Dispatched"),Z.qZA(),Z.qZA())}function Ge(e,t){1&e&&(Z.TgZ(0,"p",14),Z.TgZ(1,"span",16),Z._uU(2,"Resolved"),Z.qZA(),Z.qZA())}function Xe(e,t){1&e&&(Z.TgZ(0,"p",14),Z.TgZ(1,"span",20),Z._uU(2,"Discarded"),Z.qZA(),Z.qZA())}function Ke(e,t){if(1&e&&(Z.TgZ(0,"div",8),Z.TgZ(1,"div",9),Z.TgZ(2,"span",10),Z._uU(3,"Request No"),Z.qZA(),Z.TgZ(4,"p",11),Z._uU(5),Z.qZA(),Z.qZA(),Z.TgZ(6,"div",12),Z.TgZ(7,"span",10),Z._uU(8,"Date"),Z.qZA(),Z.TgZ(9,"p",11),Z._uU(10),Z.ALo(11,"date"),Z.qZA(),Z.qZA(),Z.TgZ(12,"div",9),Z.TgZ(13,"span",10),Z._uU(14,"Status"),Z.qZA(),Z.YNc(15,je,3,0,"p",13),Z.YNc(16,Ve,3,0,"p",13),Z.YNc(17,ze,3,0,"p",13),Z.YNc(18,$e,3,0,"p",13),Z.YNc(19,We,3,0,"p",13),Z.YNc(20,Ge,3,0,"p",13),Z.YNc(21,Xe,3,0,"p",13),Z.qZA(),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(5),Z.Oqu(null==e.response?null:e.response.data.Request_Number),Z.xp6(5),Z.hij(" ",Z.xi3(11,9,null==e.response?null:e.response.data.Request_Date,"dd/MM/yyyy")," "),Z.xp6(5),Z.Q6J("ngIf","Open"==(null==e.response?null:e.response.data.Status)),Z.xp6(1),Z.Q6J("ngIf","Delivered"==(null==e.response?null:e.response.data.Status)),Z.xp6(1),Z.Q6J("ngIf","In Progress"==(null==e.response?null:e.response.data.Status)),Z.xp6(1),Z.Q6J("ngIf","Ready To Dispatch"==(null==e.response?null:e.response.data.Status)),Z.xp6(1),Z.Q6J("ngIf","Dispatched"==(null==e.response?null:e.response.data.Status)),Z.xp6(1),Z.Q6J("ngIf","Resolved"==(null==e.response?null:e.response.data.Status)),Z.xp6(1),Z.Q6J("ngIf","Discarded"==(null==e.response?null:e.response.data.Status))}}function et(e,t){if(1&e&&(Z.TgZ(0,"div",21),Z.TgZ(1,"span",10),Z._uU(2,"Assigned Engineer"),Z.qZA(),Z.TgZ(3,"p",11),Z._uU(4),Z.qZA(),Z.qZA()),2&e){const e=Z.oxw(2);Z.xp6(4),Z.Oqu(null==e.response||null==e.response.data.assignUser?null:e.response.data.assignUser.Name)}}function tt(e,t){if(1&e&&(Z.TgZ(0,"div",6),Z.TgZ(1,"div",21),Z.TgZ(2,"span",10),Z._uU(3,"Department"),Z.qZA(),Z.TgZ(4,"p",11),Z._uU(5),Z.qZA(),Z.qZA(),Z.TgZ(6,"div",21),Z.TgZ(7,"span",10),Z._uU(8,"Type of Issue"),Z.qZA(),Z.TgZ(9,"p",11),Z._uU(10),Z.qZA(),Z.qZA(),Z.TgZ(11,"div",21),Z.TgZ(12,"span",10),Z._uU(13,"Priority"),Z.qZA(),Z.TgZ(14,"p",11),Z._uU(15),Z.qZA(),Z.qZA(),Z.YNc(16,et,5,1,"div",22),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(5),Z.Oqu(null==e.response?null:e.response.data.Request_Department),Z.xp6(5),Z.Oqu(null==e.response?null:e.response.data.issue_type.Name),Z.xp6(5),Z.Oqu(null==e.response?null:e.response.data.Priority),Z.xp6(1),Z.Q6J("ngIf",null!=(null==e.response||null==e.response.data.assignUser?null:e.response.data.assignUser.Name)&&""!=(null==e.response||null==e.response.data.assignUser?null:e.response.data.assignUser.Name))}}function nt(e,t){if(1&e&&(Z.TgZ(0,"div",8),Z.TgZ(1,"div",21),Z.TgZ(2,"span",10),Z._uU(3,"Description"),Z.qZA(),Z.TgZ(4,"p",11),Z._uU(5),Z.qZA(),Z.qZA(),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(5),Z.Oqu(null==e.response?null:e.response.data.Description)}}function it(e,t){if(1&e&&(Z.TgZ(0,"div",6),Z.TgZ(1,"div",21),Z.TgZ(2,"span",10),Z._uU(3,"Support Comment"),Z.qZA(),Z.TgZ(4,"p",11),Z._uU(5),Z.qZA(),Z.qZA(),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(5),Z.Oqu(null==e.response?null:e.response.data.Support_Comment)}}function rt(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",26),Z._UZ(2,"i",27),Z._UZ(3,"i",27),Z._UZ(4,"i",27),Z._UZ(5,"i",27),Z._UZ(6,"i",27),Z._UZ(7,"i",27),Z._UZ(8,"i",27),Z._UZ(9,"i",27),Z._UZ(10,"i",27),Z.qZA())}function st(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",26),Z._UZ(2,"i",26),Z._UZ(3,"i",27),Z._UZ(4,"i",27),Z._UZ(5,"i",27),Z._UZ(6,"i",27),Z._UZ(7,"i",27),Z._UZ(8,"i",27),Z._UZ(9,"i",27),Z._UZ(10,"i",27),Z.qZA())}function ot(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",26),Z._UZ(2,"i",26),Z._UZ(3,"i",26),Z._UZ(4,"i",27),Z._UZ(5,"i",27),Z._UZ(6,"i",27),Z._UZ(7,"i",27),Z._UZ(8,"i",27),Z._UZ(9,"i",27),Z._UZ(10,"i",27),Z.qZA())}function at(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",26),Z._UZ(2,"i",26),Z._UZ(3,"i",26),Z._UZ(4,"i",26),Z._UZ(5,"i",27),Z._UZ(6,"i",27),Z._UZ(7,"i",27),Z._UZ(8,"i",27),Z._UZ(9,"i",27),Z._UZ(10,"i",27),Z.qZA())}function ut(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",26),Z._UZ(2,"i",26),Z._UZ(3,"i",26),Z._UZ(4,"i",26),Z._UZ(5,"i",26),Z._UZ(6,"i",27),Z._UZ(7,"i",27),Z._UZ(8,"i",27),Z._UZ(9,"i",27),Z._UZ(10,"i",27),Z.qZA())}function lt(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",26),Z._UZ(2,"i",26),Z._UZ(3,"i",26),Z._UZ(4,"i",26),Z._UZ(5,"i",26),Z._UZ(6,"i",26),Z._UZ(7,"i",27),Z._UZ(8,"i",27),Z._UZ(9,"i",27),Z._UZ(10,"i",27),Z.qZA())}function ct(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",26),Z._UZ(2,"i",26),Z._UZ(3,"i",26),Z._UZ(4,"i",26),Z._UZ(5,"i",26),Z._UZ(6,"i",26),Z._UZ(7,"i",26),Z._UZ(8,"i",27),Z._UZ(9,"i",27),Z._UZ(10,"i",27),Z.qZA())}function pt(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",26),Z._UZ(2,"i",26),Z._UZ(3,"i",26),Z._UZ(4,"i",26),Z._UZ(5,"i",26),Z._UZ(6,"i",26),Z._UZ(7,"i",26),Z._UZ(8,"i",26),Z._UZ(9,"i",27),Z._UZ(10,"i",27),Z.qZA())}function gt(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",26),Z._UZ(2,"i",26),Z._UZ(3,"i",26),Z._UZ(4,"i",26),Z._UZ(5,"i",26),Z._UZ(6,"i",26),Z._UZ(7,"i",26),Z._UZ(8,"i",26),Z._UZ(9,"i",26),Z._UZ(10,"i",27),Z.qZA())}function dt(e,t){1&e&&(Z.TgZ(0,"p"),Z._UZ(1,"i",26),Z._UZ(2,"i",26),Z._UZ(3,"i",26),Z._UZ(4,"i",26),Z._UZ(5,"i",26),Z._UZ(6,"i",26),Z._UZ(7,"i",26),Z._UZ(8,"i",26),Z._UZ(9,"i",26),Z._UZ(10,"i",26),Z.qZA())}function Zt(e,t){if(1&e&&(Z.TgZ(0,"div",24),Z.TgZ(1,"span",10),Z._uU(2,"Rating"),Z.qZA(),Z.YNc(3,rt,11,0,"p",25),Z.YNc(4,st,11,0,"p",25),Z.YNc(5,ot,11,0,"p",25),Z.YNc(6,at,11,0,"p",25),Z.YNc(7,ut,11,0,"p",25),Z.YNc(8,lt,11,0,"p",25),Z.YNc(9,ct,11,0,"p",25),Z.YNc(10,pt,11,0,"p",25),Z.YNc(11,gt,11,0,"p",25),Z.YNc(12,dt,11,0,"p",25),Z.qZA()),2&e){const e=Z.oxw(2);Z.xp6(3),Z.Q6J("ngIf",1==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",2==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",3==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",4==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",5==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",6==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",7==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",8==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",9==(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf",10==(null==e.response?null:e.response.data.Rating))}}function ft(e,t){if(1&e&&(Z.TgZ(0,"div",24),Z.TgZ(1,"span",10),Z._uU(2,"Remark"),Z.qZA(),Z.TgZ(3,"p",11),Z._uU(4),Z.qZA(),Z.qZA()),2&e){const e=Z.oxw(2);Z.xp6(4),Z.Oqu(null==e.response?null:e.response.data.Requester_Remark)}}function qt(e,t){if(1&e&&(Z.TgZ(0,"div",8),Z.YNc(1,Zt,13,10,"div",23),Z.YNc(2,ft,5,1,"div",23),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(1),Z.Q6J("ngIf","Resolved"==(null==e.response?null:e.response.data.Status)&&null!=(null==e.response?null:e.response.data.Rating)),Z.xp6(1),Z.Q6J("ngIf","Resolved"==(null==e.response?null:e.response.data.Status)&&null!=(null==e.response?null:e.response.data.Rating))}}let ht=(()=>{class e{constructor(e,t,n){this.bsModalRef=e,this._requesterService=t,this._mastersService=n,this.tableToatal=0,this.response=[]}ngOnInit(){this.getByIDRequestList()}getByIDRequestList(){this._requesterService.getByIdRequest({id:this.ID}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.response=e},e=>{this._mastersService.showalert(e.error.message,"error")})}close(){this.bsModalRef.hide()}}return e.\u0275fac=function(t){return new(t||e)(Z.Y36(u.UZ),Z.Y36(Y.S),Z.Y36(L.R))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-view-service-req-details"]],decls:14,vars:5,consts:[[1,"modal-header","bg-light"],[1,"modal-title","pull-left","fw-bold","mr-3"],[1,"mx-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","mx-1"],["class","row mb-2",4,"ngIf"],[1,"row"],["class","row",4,"ngIf"],[1,"row","mb-2"],[1,"col-auto"],[1,"fw-bold"],[1,"text-muted"],[1,"col-auto","mx-5"],["class","text-dark text-muted",4,"ngIf"],[1,"text-dark","text-muted"],[1,"badge","rounded-pill","bg-primary"],[1,"badge","rounded-pill","bg-success"],[1,"badge","rounded-pill","bg-warning"],[1,"badge","rounded-pill","bg-info"],[1,"badge","rounded-pillbg-secondary"],[1,"badge","rounded-pill","bg-danger"],[1,"col-lg-3","col-12"],["class","col-lg-3 col-12",4,"ngIf"],["class","col-lg-6 col-12",4,"ngIf"],[1,"col-lg-6","col-12"],[4,"ngIf"],["aria-hidden","true",1,"fa","fa-star",2,"font-size","22px","color","#f0a316"],["aria-hidden","true",1,"fa","fa-star-o",2,"font-size","22px","color","#f0a316"]],template:function(e,t){1&e&&(Z.TgZ(0,"div",0),Z.TgZ(1,"h5",1),Z._uU(2," View Details "),Z.TgZ(3,"span",2),Z._UZ(4,"small"),Z.qZA(),Z.qZA(),Z.TgZ(5,"button",3),Z.NdJ("click",function(){return t.close()}),Z.qZA(),Z.qZA(),Z.TgZ(6,"div",4),Z.YNc(7,Ke,22,12,"div",5),Z.TgZ(8,"div",6),Z._UZ(9,"hr"),Z.qZA(),Z.YNc(10,tt,17,4,"div",7),Z.YNc(11,nt,6,1,"div",5),Z.YNc(12,it,6,1,"div",7),Z.YNc(13,qt,3,2,"div",5),Z.qZA()),2&e&&(Z.xp6(7),Z.Q6J("ngIf",null==t.response?null:t.response.data),Z.xp6(3),Z.Q6J("ngIf",null==t.response?null:t.response.data),Z.xp6(1),Z.Q6J("ngIf",null==t.response?null:t.response.data),Z.xp6(1),Z.Q6J("ngIf",null==t.response?null:t.response.data.Support_Comment),Z.xp6(1),Z.Q6J("ngIf",null==t.response?null:t.response.data))},directives:[i.O5],pipes:[i.uU],styles:[""]}),e})();var mt=n(9457),_t=n(4249),Tt=n(3556);function At(e,t){1&e&&(Z.TgZ(0,"tr"),Z.TgZ(1,"td",29),Z.TgZ(2,"b",30),Z._uU(3,"No records found"),Z.qZA(),Z.qZA(),Z.qZA())}function xt(e,t){1&e&&(Z.TgZ(0,"td"),Z.TgZ(1,"span",38),Z._uU(2,"Open"),Z.qZA(),Z.qZA())}function bt(e,t){1&e&&(Z.TgZ(0,"td"),Z.TgZ(1,"span",39),Z._uU(2,"Delivered"),Z.qZA(),Z.qZA())}function vt(e,t){1&e&&(Z.TgZ(0,"td"),Z.TgZ(1,"span",40),Z._uU(2,"In Progress"),Z.qZA(),Z.qZA())}function Ut(e,t){1&e&&(Z.TgZ(0,"td"),Z.TgZ(1,"span",41),Z._uU(2,"Ready To Dispatch"),Z.qZA(),Z.qZA())}function yt(e,t){1&e&&(Z.TgZ(0,"td"),Z.TgZ(1,"span",42),Z._uU(2,"Dispatched"),Z.qZA(),Z.qZA())}function Rt(e,t){1&e&&(Z.TgZ(0,"td"),Z.TgZ(1,"span",39),Z._uU(2,"Resolved"),Z.qZA(),Z.qZA())}function It(e,t){if(1&e&&(Z.ynx(0),Z.YNc(1,xt,3,0,"td",6),Z.YNc(2,bt,3,0,"td",6),Z.YNc(3,vt,3,0,"td",6),Z.YNc(4,Ut,3,0,"td",6),Z.YNc(5,yt,3,0,"td",6),Z.YNc(6,Rt,3,0,"td",6),Z.BQk()),2&e){const e=Z.oxw().$implicit;Z.xp6(1),Z.Q6J("ngIf","Open"==e.Status),Z.xp6(1),Z.Q6J("ngIf","Delivered"==e.Status),Z.xp6(1),Z.Q6J("ngIf","In Progress"==e.Status),Z.xp6(1),Z.Q6J("ngIf","Ready To Dispatch"==e.Status),Z.xp6(1),Z.Q6J("ngIf","Dispatched"==e.Status),Z.xp6(1),Z.Q6J("ngIf","Resolved"==e.Status)}}function wt(e,t){1&e&&(Z.TgZ(0,"td"),Z.TgZ(1,"span",43),Z._uU(2,"Rejected"),Z.qZA(),Z.qZA())}function Pt(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"button",44),Z.NdJ("click",function(){Z.CHM(e);const t=Z.oxw().$implicit;return Z.oxw(3).acknowldgeModal(t.ID)}),Z._uU(1," Acknowledge "),Z.qZA()}}function kt(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"tr"),Z.TgZ(1,"td",31),Z._uU(2),Z.qZA(),Z.TgZ(3,"td"),Z._uU(4),Z.qZA(),Z.TgZ(5,"td"),Z._uU(6),Z.ALo(7,"date"),Z.qZA(),Z.TgZ(8,"td"),Z._uU(9),Z.qZA(),Z.TgZ(10,"td",32),Z._uU(11),Z.ALo(12,"number"),Z.qZA(),Z.YNc(13,It,7,6,"ng-container",33),Z.YNc(14,wt,3,0,"ng-template",null,34,Z.W1O),Z.TgZ(16,"td",35),Z.YNc(17,Pt,2,0,"button",36),Z.TgZ(18,"button",37),Z.NdJ("click",function(){const t=Z.CHM(e).$implicit;return Z.oxw(3).ViewModal(t.ID)}),Z._uU(19," View Details "),Z.qZA(),Z.qZA(),Z.qZA()}if(2&e){const e=t.$implicit,n=t.index,i=Z.MAs(15);Z.xp6(2),Z.Oqu(n+1),Z.xp6(2),Z.Oqu(e.Request_Number),Z.xp6(2),Z.Oqu(Z.xi3(7,8,e.Request_Date,"dd/MM/yyyy")),Z.xp6(3),Z.Oqu(e.Request_Department),Z.xp6(2),Z.hij(" ",Z.xi3(12,11,e.Request_Amount,"1.2-3")," "),Z.xp6(2),Z.Q6J("ngIf",2!=e.HOD_Approved&&2!=e.Head_Approved)("ngIfElse",i),Z.xp6(4),Z.Q6J("ngIf","Dispatched"==e.Status&&null==e.Rating)}}function Nt(e,t){if(1&e&&(Z.TgZ(0,"tbody",27),Z.YNc(1,At,4,0,"tr",6),Z.YNc(2,kt,20,14,"tr",28),Z.qZA()),2&e){const e=Z.oxw(2);Z.xp6(1),Z.Q6J("ngIf",0===e.response.data.length),Z.xp6(1),Z.Q6J("ngForOf",e.response.data)}}function St(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"app-pagination",45),Z.NdJ("loadPage",function(t){return Z.CHM(e),Z.oxw(2).pager(t)})("changePerPage",function(t){return Z.CHM(e),Z.oxw(2).changePerPage(t)}),Z.qZA()}if(2&e){const e=Z.oxw(2);Z.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.response.total)("lastPage",e.response.totalPages)}}function Jt(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"div"),Z.TgZ(1,"div",9),Z.TgZ(2,"div",10),Z.TgZ(3,"label",11),Z.TgZ(4,"small",12),Z._uU(5,"Search"),Z.qZA(),Z.qZA(),Z.TgZ(6,"div",13),Z.TgZ(7,"span",14),Z._UZ(8,"img",15),Z.qZA(),Z.TgZ(9,"input",16),Z.NdJ("ngModelChange",function(t){return Z.CHM(e),Z.oxw().search=t})("keyup",function(t){return Z.CHM(e),Z.oxw().searchTasks(t)}),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(10,"div",17),Z.TgZ(11,"label",11),Z._UZ(12,"small",12),Z.qZA(),Z.TgZ(13,"button",18),Z.NdJ("click",function(){return Z.CHM(e),Z.oxw().ProcurementRequestExportToExcelFile()}),Z._uU(14," Export To Excel "),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(15,"div",19),Z.TgZ(16,"table",20),Z.TgZ(17,"thead",21),Z.TgZ(18,"tr"),Z.TgZ(19,"th",22),Z._uU(20,"Sr.No"),Z.qZA(),Z.TgZ(21,"th",23),Z._uU(22,"Request ID"),Z.qZA(),Z.TgZ(23,"th",24),Z._uU(24,"Request Date"),Z.qZA(),Z.TgZ(25,"th",24),Z._uU(26,"Department"),Z.qZA(),Z.TgZ(27,"th",24),Z._uU(28,"Total \u20b9"),Z.qZA(),Z.TgZ(29,"th",24),Z._uU(30,"Status"),Z.qZA(),Z.TgZ(31,"th",24),Z._uU(32,"Action"),Z.qZA(),Z.qZA(),Z.qZA(),Z.YNc(33,Nt,3,2,"tbody",25),Z.qZA(),Z.qZA(),Z.YNc(34,St,1,4,"app-pagination",26),Z.qZA()}if(2&e){const e=Z.oxw();Z.xp6(9),Z.Q6J("ngModel",e.search),Z.xp6(24),Z.Q6J("ngIf",null==e.response?null:e.response.data),Z.xp6(1),Z.Q6J("ngIf",null==e.response?null:e.response.data)}}function Dt(e,t){1&e&&(Z.TgZ(0,"tr"),Z.TgZ(1,"td",29),Z.TgZ(2,"b",30),Z._uU(3,"No records found"),Z.qZA(),Z.qZA(),Z.qZA())}function Ct(e,t){1&e&&(Z.TgZ(0,"td"),Z.TgZ(1,"span",38),Z._uU(2,"Open"),Z.qZA(),Z.qZA())}function Qt(e,t){1&e&&(Z.TgZ(0,"td"),Z.TgZ(1,"span",39),Z._uU(2,"Delivered"),Z.qZA(),Z.qZA())}function Ot(e,t){1&e&&(Z.TgZ(0,"td"),Z.TgZ(1,"span",40),Z._uU(2,"In Progress"),Z.qZA(),Z.qZA())}function Yt(e,t){1&e&&(Z.TgZ(0,"td"),Z.TgZ(1,"span",41),Z._uU(2,"Ready To Dispatch"),Z.qZA(),Z.qZA())}function Lt(e,t){1&e&&(Z.TgZ(0,"td"),Z.TgZ(1,"span",42),Z._uU(2,"Dispatched"),Z.qZA(),Z.qZA())}function Ft(e,t){1&e&&(Z.TgZ(0,"td"),Z.TgZ(1,"span",39),Z._uU(2,"Resolved"),Z.qZA(),Z.qZA())}function Mt(e,t){1&e&&(Z.TgZ(0,"td"),Z.TgZ(1,"span",43),Z._uU(2,"Discarded"),Z.qZA(),Z.qZA())}function Bt(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"button",44),Z.NdJ("click",function(){Z.CHM(e);const t=Z.oxw().$implicit;return Z.oxw(3).RatingRemarkModal(t.ID)}),Z._uU(1," Acknowledge "),Z.qZA()}}function Et(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"tr"),Z.TgZ(1,"td",47),Z._uU(2),Z.qZA(),Z.TgZ(3,"td"),Z._uU(4),Z.qZA(),Z.TgZ(5,"td"),Z._uU(6),Z.ALo(7,"date"),Z.qZA(),Z.TgZ(8,"td"),Z._uU(9),Z.qZA(),Z.TgZ(10,"td"),Z._uU(11),Z.qZA(),Z.TgZ(12,"td"),Z._uU(13),Z.qZA(),Z.YNc(14,Ct,3,0,"td",6),Z.YNc(15,Qt,3,0,"td",6),Z.YNc(16,Ot,3,0,"td",6),Z.YNc(17,Yt,3,0,"td",6),Z.YNc(18,Lt,3,0,"td",6),Z.YNc(19,Ft,3,0,"td",6),Z.YNc(20,Mt,3,0,"td",6),Z.TgZ(21,"td",35),Z.YNc(22,Bt,2,0,"button",36),Z.TgZ(23,"button",37),Z.NdJ("click",function(){const t=Z.CHM(e).$implicit;return Z.oxw(3).ViewServiceRequestModal(t.ID)}),Z._uU(24," View Details "),Z.qZA(),Z.qZA(),Z.qZA()}if(2&e){const e=t.$implicit,n=t.index;Z.xp6(2),Z.Oqu(n+1),Z.xp6(2),Z.Oqu(e.Request_Number),Z.xp6(2),Z.Oqu(Z.xi3(7,14,e.Request_Date,"dd/MM/yyyy")),Z.xp6(3),Z.Oqu(e.Request_Department),Z.xp6(2),Z.Oqu(null==e.issue_type?null:e.issue_type.Name),Z.xp6(2),Z.Oqu(e.Description),Z.xp6(1),Z.Q6J("ngIf","Open"==e.Status),Z.xp6(1),Z.Q6J("ngIf","Delivered"==e.Status),Z.xp6(1),Z.Q6J("ngIf","In Progress"==e.Status),Z.xp6(1),Z.Q6J("ngIf","Ready To Dispatch"==e.Status),Z.xp6(1),Z.Q6J("ngIf","Dispatched"==e.Status),Z.xp6(1),Z.Q6J("ngIf","Resolved"==e.Status),Z.xp6(1),Z.Q6J("ngIf","Discarded"==e.Status),Z.xp6(2),Z.Q6J("ngIf","Resolved"==e.Status&&null==e.Rating)}}function Ht(e,t){if(1&e&&(Z.TgZ(0,"tbody",27),Z.YNc(1,Dt,4,0,"tr",6),Z.YNc(2,Et,25,17,"tr",28),Z.qZA()),2&e){const e=Z.oxw(2);Z.xp6(1),Z.Q6J("ngIf",0===e.response.data.length),Z.xp6(1),Z.Q6J("ngForOf",null==e.response?null:e.response.data)}}function jt(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"app-pagination",45),Z.NdJ("loadPage",function(t){return Z.CHM(e),Z.oxw(2).pager(t)})("changePerPage",function(t){return Z.CHM(e),Z.oxw(2).changePerPage(t)}),Z.qZA()}if(2&e){const e=Z.oxw(2);Z.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.response.total)("lastPage",e.response.totalPages)}}function Vt(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"div",46),Z.TgZ(1,"div",9),Z.TgZ(2,"div",10),Z.TgZ(3,"label",11),Z.TgZ(4,"small",12),Z._uU(5,"Search"),Z.qZA(),Z.qZA(),Z.TgZ(6,"div",13),Z.TgZ(7,"span",14),Z._UZ(8,"img",15),Z.qZA(),Z.TgZ(9,"input",16),Z.NdJ("ngModelChange",function(t){return Z.CHM(e),Z.oxw().search=t})("keyup",function(t){return Z.CHM(e),Z.oxw().searchTasks(t)}),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(10,"div",17),Z.TgZ(11,"label",11),Z._UZ(12,"small",12),Z.qZA(),Z.TgZ(13,"button",18),Z.NdJ("click",function(){return Z.CHM(e),Z.oxw().ServiceRequestExportToExcel()}),Z._uU(14," Export To Excel "),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(15,"div",19),Z.TgZ(16,"table",20),Z.TgZ(17,"thead",21),Z.TgZ(18,"tr"),Z.TgZ(19,"th",22),Z._uU(20,"Sr.No"),Z.qZA(),Z.TgZ(21,"th",23),Z._uU(22,"Request ID"),Z.qZA(),Z.TgZ(23,"th",24),Z._uU(24,"Request Date"),Z.qZA(),Z.TgZ(25,"th",24),Z._uU(26,"Department"),Z.qZA(),Z.TgZ(27,"th",24),Z._uU(28,"Type Of Issue"),Z.qZA(),Z.TgZ(29,"th",24),Z._uU(30,"Description"),Z.qZA(),Z.TgZ(31,"th",24),Z._uU(32,"Status"),Z.qZA(),Z.TgZ(33,"th",24),Z._uU(34,"Action"),Z.qZA(),Z.qZA(),Z.qZA(),Z.YNc(35,Ht,3,2,"tbody",25),Z.qZA(),Z.qZA(),Z.YNc(36,jt,1,4,"app-pagination",26),Z.qZA()}if(2&e){const e=Z.oxw();Z.xp6(9),Z.Q6J("ngModel",e.search),Z.xp6(26),Z.Q6J("ngIf",null==e.response?null:e.response.data),Z.xp6(1),Z.Q6J("ngIf",null==e.response?null:e.response.data)}}const zt=function(e){return{"btn-color-1":e}},$t=[{path:"",redirectTo:"request-histroy"},{path:"raise-request",component:ue},{path:"request-histroy",component:(()=>{class e{constructor(e,t,n,i,r,s){this.modalService=e,this._requesterService=t,this._mastersService=n,this.storageService=i,this._excelService=r,this.dataservice=s,this.eventsCounter=new C.xQ,this.ngUnsubscribe=new C.xQ,this.typeofRequest="Procurement",this.response=[],this.search="",this.searchTermChanged=new C.xQ,this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.dataservice.setTitle("Request History"),this.getRequests()}searchTasks(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,Q.b)(600),(0,O.x)()).subscribe(e=>{this.currentPage=1,this.getRequests()}),this.searchTermChanged.next(e)}onChange(e){this.typeofRequest=e,this.currentPage=1,this.getRequests()}getRequests(){this._requesterService.getRequests({pageNumber:this.currentPage,numberOfRows:this.perPage,search:this.search,Request_Type:this.typeofRequest,Status:""}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.response=e},e=>{console.log(e),this._mastersService.showalert(e.error,"error")})}ViewModal(e){this.bsModalRef1=this.modalService.show(He,{initialState:{type:"view-vendor",ID:e},animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-md view-procurment-modal"})}ViewServiceRequestModal(e){this.bsModalRef1=this.modalService.show(ht,{initialState:{type:"view-service-request",ID:e},animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-md view-service-request-modal"})}acknowldgeModal(e){this.bsModalRef1=this.modalService.show(ge,{initialState:{ID:e},animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-md"}),this.bsModalRef1.content.ID=e,this.bsModalRef1.content.notifyParent.subscribe(e=>{e&&this.getRequests()})}RatingRemarkModal(e){this.bsModalRef1=this.modalService.show(fe,{initialState:{ID:e},animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-md"}),this.bsModalRef1.content.ID=e,this.bsModalRef1.content.notifyParent.subscribe(e=>{e&&this.getRequests()})}pager(e){this.currentPage=e,this.getRequests()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getRequests()}ServiceRequestExportToExcel(){this._excelService.downloadServiceRequestExport({search:this.search,Request_Type:this.typeofRequest,Status:""}).subscribe(e=>(0,mt.saveAs)(e,"Service Request Excel-Report.xlsx"))}ProcurementRequestExportToExcelFile(){this._excelService.downloadProcurementRequestExport({search:this.search,Request_Type:this.typeofRequest,Status:""}).subscribe(e=>(0,mt.saveAs)(e,"Procurement Excel-Report.xlsx"))}}return e.\u0275fac=function(t){return new(t||e)(Z.Y36(u.tT),Z.Y36(Y.S),Z.Y36(L.R),Z.Y36(l.V),Z.Y36(_t.x),Z.Y36(F.D))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-request-history"]],decls:13,vars:8,consts:[[1,"container-fluid","mb-2","main-container"],[1,"row","my-3"],[1,"col-auto"],["type","button",1,"btn","btn-light","pro",3,"ngClass","click"],[1,"badge","badge-primary","bg-primary"],["type","button",1,"btn","btn-light","sr-request",3,"ngClass","click"],[4,"ngIf"],["class","mx-2",4,"ngIf"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-pulse"],[1,"row","h-100","mb-2"],[1,"col-lg-4","col-12"],["for",""],[1,"text-dark","fw-bold"],[1,"input-group","input-group"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col","lg-4","text-end","mt-4"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"],[1,""],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],[1,"bg-white"],[4,"ngFor","ngForOf"],["colspan","9",1,"text-center"],[1,"text-muted",2,"font-size","large"],[2,"width","10px"],[1,"text-end"],[4,"ngIf","ngIfElse"],["reasons",""],[2,"max-width","166px"],["class","btn btn-ack btn-sm text-white","style","margin-right: 2px",3,"click",4,"ngIf"],[1,"btn","btn-1","btn-sm",2,"font-size","11px",3,"click"],[1,"badge","rounded-pill","bg-primary"],[1,"badge","rounded-pill","bg-success"],[1,"badge","rounded-pill","bg-warning"],[1,"badge","rounded-pill","bg-info"],[1,"badge","rounded-pill","bg-secondary"],[1,"badge","rounded-pill","bg-danger"],[1,"btn","btn-ack","btn-sm","text-white",2,"margin-right","2px",3,"click"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"],[1,"mx-2"],[2,"width","20px"]],template:function(e,t){1&e&&(Z.TgZ(0,"div",0),Z.TgZ(1,"div",1),Z.TgZ(2,"div",2),Z.TgZ(3,"button",3),Z.NdJ("click",function(){return t.onChange("Procurement")}),Z._uU(4," Procurement "),Z._UZ(5,"span",4),Z.qZA(),Z._uU(6,"\xa0 "),Z.TgZ(7,"button",5),Z.NdJ("click",function(){return t.onChange("Service Request")}),Z._uU(8," Service Request "),Z._UZ(9,"span",4),Z.qZA(),Z.qZA(),Z.qZA(),Z.YNc(10,Jt,35,3,"div",6),Z.YNc(11,Vt,37,3,"div",7),Z.qZA(),Z._UZ(12,"ngx-spinner",8)),2&e&&(Z.xp6(3),Z.Q6J("ngClass",Z.VKq(4,zt,"Procurement"==t.typeofRequest)),Z.xp6(4),Z.Q6J("ngClass",Z.VKq(6,zt,"Service Request"==t.typeofRequest)),Z.xp6(3),Z.Q6J("ngIf","Procurement"==t.typeofRequest),Z.xp6(1),Z.Q6J("ngIf","Service Request"==t.typeofRequest))},directives:[i.mk,i.O5,d.Ro,r.Fj,r.JJ,r.On,i.sg,Tt.Q],pipes:[i.uU,i.JJ],styles:[".btn-ack[_ngcontent-%COMP%]{background-color:#4e5583;width:100px;font-size:11px}.pro[_ngcontent-%COMP%]:active, .pro[_ngcontent-%COMP%]:focus, .sr-request[_ngcontent-%COMP%]:active, .sr-request[_ngcontent-%COMP%]:focus{background-color:#fff;font-weight:600}.btn-btn-light[_ngcontent-%COMP%]:active{background-color:#fff!important;border:2px solid #eee}.btn-color-1[_ngcontent-%COMP%]{background-color:beige!important;border:2px solid #e4e4a1}"]}),e})()}];let Wt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Z.oAB({type:e}),e.\u0275inj=Z.cJS({imports:[[D.Bz.forChild($t)],D.Bz]}),e})();var Gt=n(9189);let Xt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Z.oAB({type:e}),e.\u0275inj=Z.cJS({imports:[[i.ez]]}),e})(),Kt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Z.oAB({type:e}),e.\u0275inj=Z.cJS({providers:[Y.S,L.R,u.UZ,l.V,c.$,g.P,{provide:s.TP,useClass:p.r,multi:!0}],imports:[[i.ez,Wt,r.u5,r.UX,s.JF,o.Rh.forRoot(),a.ZQ.forRoot(),u.zk.forRoot(),d.ef,J,Gt.m,le.IJ,Xt,M.A0]]}),e})()}}]);