(self.webpackChunkinventory_and_material_management=self.webpackChunkinventory_and_material_management||[]).push([[970],{8569:function(e,t,r){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e),s=r.default.helpers,a=function(){if("undefined"!=typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),i={toTextLines:function(e){var t,r=[];for(e=[].concat(e);e.length;)"string"==typeof(t=e.pop())?r.unshift.apply(r,t.split("\n")):Array.isArray(t)?e.push.apply(e,t):s.isNullOrUndef(e)||r.unshift(""+t);return r},toFontString:function(e){return!e||s.isNullOrUndef(e.size)||s.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family},textSize:function(e,t,r){var s,a=[].concat(t),i=a.length,o=e.font,n=0;for(e.font=r.string,s=0;s<i;++s)n=Math.max(e.measureText(a[s]).width,n);return e.font=o,{height:i*r.lineHeight,width:n}},parseFont:function(e){var t=r.default.defaults.global,a=s.valueOrDefault(e.size,t.defaultFontSize),o={family:s.valueOrDefault(e.family,t.defaultFontFamily),lineHeight:s.options.toLineHeight(e.lineHeight,a),size:a,style:s.valueOrDefault(e.style,t.defaultFontStyle),weight:s.valueOrDefault(e.weight,null),string:""};return o.string=i.toFontString(o),o},bound:function(e,t,r){return Math.max(e,Math.min(t,r))},arrayDiff:function(e,t){var r,s,a,i,o=e.slice(),n=[];for(r=0,a=t.length;r<a;++r)-1===(s=o.indexOf(i=t[r]))?n.push([i,1]):o.splice(s,1);for(r=0,a=o.length;r<a;++r)n.push([o[r],-1]);return n},rasterize:function(e){return Math.round(e*a)/a}};function o(e,t){var r=t.x,s=t.y;if(null===r)return{x:0,y:-1};if(null===s)return{x:1,y:0};var a=e.x-r,i=e.y-s,o=Math.sqrt(a*a+i*i);return{x:o?a/o:0,y:o?i/o:-1}}function n(e,t,r){var s=0;return e<r.left?s|=1:e>r.right&&(s|=2),t<r.top?s|=8:t>r.bottom&&(s|=4),s}function u(e,t){var r,s,a=t.anchor,i=e;return t.clamp&&(i=function(e,t){for(var r,s,a,i=e.x0,o=e.y0,u=e.x1,l=e.y1,c=n(i,o,t),g=n(u,l,t);c|g&&!(c&g);)8&(r=c||g)?(s=i+(u-i)*(t.top-o)/(l-o),a=t.top):4&r?(s=i+(u-i)*(t.bottom-o)/(l-o),a=t.bottom):2&r?(a=o+(l-o)*(t.right-i)/(u-i),s=t.right):1&r&&(a=o+(l-o)*(t.left-i)/(u-i),s=t.left),r===c?c=n(i=s,o=a,t):g=n(u=s,l=a,t);return{x0:i,x1:u,y0:o,y1:l}}(i,t.area)),"start"===a?(r=i.x0,s=i.y0):"end"===a?(r=i.x1,s=i.y1):(r=(i.x0+i.x1)/2,s=(i.y0+i.y1)/2),function(e,t,r,s,a){switch(a){case"center":r=s=0;break;case"bottom":r=0,s=1;break;case"right":r=1,s=0;break;case"left":r=-1,s=0;break;case"top":r=0,s=-1;break;case"start":r=-r,s=-s;break;case"end":break;default:a*=Math.PI/180,r=Math.cos(a),s=Math.sin(a)}return{x:e,y:t,vx:r,vy:s}}(r,s,e.vx,e.vy,t.align)}var l={arc:function(e,t){var r=(e.startAngle+e.endAngle)/2,s=Math.cos(r),a=Math.sin(r),i=e.innerRadius,o=e.outerRadius;return u({x0:e.x+s*i,y0:e.y+a*i,x1:e.x+s*o,y1:e.y+a*o,vx:s,vy:a},t)},point:function(e,t){var r=o(e,t.origin),s=r.x*e.radius,a=r.y*e.radius;return u({x0:e.x-s,y0:e.y-a,x1:e.x+s,y1:e.y+a,vx:r.x,vy:r.y},t)},rect:function(e,t){var r=o(e,t.origin),s=e.x,a=e.y,i=0,n=0;return e.horizontal?(s=Math.min(e.x,e.base),i=Math.abs(e.base-e.x)):(a=Math.min(e.y,e.base),n=Math.abs(e.base-e.y)),u({x0:s,y0:a+n,x1:s+i,y1:a,vx:r.x,vy:r.y},t)},fallback:function(e,t){var r=o(e,t.origin);return u({x0:e.x,y0:e.y,x1:e.x,y1:e.y,vx:r.x,vy:r.y},t)}},c=r.default.helpers,g=i.rasterize;function d(e){var t=e._model.horizontal,r=e._scale||t&&e._xScale||e._yScale;if(!r)return null;if(void 0!==r.xCenter&&void 0!==r.yCenter)return{x:r.xCenter,y:r.yCenter};var s=r.getBasePixel();return t?{x:s,y:null}:{x:null,y:s}}function p(e,t,r){var s=e.shadowBlur,a=r.stroked,i=g(r.x),o=g(r.y),n=g(r.w);a&&e.strokeText(t,i,o,n),r.filled&&(s&&a&&(e.shadowBlur=0),e.fillText(t,i,o,n),s&&a&&(e.shadowBlur=s))}var Z=function(e,t,r,s){var a=this;a._config=e,a._index=s,a._model=null,a._rects=null,a._ctx=t,a._el=r};c.extend(Z.prototype,{_modelize:function(e,t,s,a){var o,n=this,u=n._index,g=c.options.resolve,p=i.parseFont(g([s.font,{}],a,u)),Z=g([s.color,r.default.defaults.global.defaultFontColor],a,u);return{align:g([s.align,"center"],a,u),anchor:g([s.anchor,"center"],a,u),area:a.chart.chartArea,backgroundColor:g([s.backgroundColor,null],a,u),borderColor:g([s.borderColor,null],a,u),borderRadius:g([s.borderRadius,0],a,u),borderWidth:g([s.borderWidth,0],a,u),clamp:g([s.clamp,!1],a,u),clip:g([s.clip,!1],a,u),color:Z,display:e,font:p,lines:t,offset:g([s.offset,0],a,u),opacity:g([s.opacity,1],a,u),origin:d(n._el),padding:c.options.toPadding(g([s.padding,0],a,u)),positioner:(o=n._el,o instanceof r.default.elements.Arc?l.arc:o instanceof r.default.elements.Point?l.point:o instanceof r.default.elements.Rectangle?l.rect:l.fallback),rotation:g([s.rotation,0],a,u)*(Math.PI/180),size:i.textSize(n._ctx,t,p),textAlign:g([s.textAlign,"start"],a,u),textShadowBlur:g([s.textShadowBlur,0],a,u),textShadowColor:g([s.textShadowColor,Z],a,u),textStrokeColor:g([s.textStrokeColor,Z],a,u),textStrokeWidth:g([s.textStrokeWidth,0],a,u)}},update:function(e){var t,r,s,a=this,o=null,n=null,u=a._index,l=a._config,g=c.options.resolve([l.display,!0],e,u);g&&(r=c.valueOrDefault(c.callback(l.formatter,[t=e.dataset.data[u],e]),t),(s=c.isNullOrUndef(r)?[]:i.toTextLines(r)).length&&(n=function(e){var t=e.borderWidth||0,r=e.padding,s=e.size.height,a=e.size.width,i=-a/2,o=-s/2;return{frame:{x:i-r.left-t,y:o-r.top-t,w:a+r.width+2*t,h:s+r.height+2*t},text:{x:i,y:o,w:a,h:s}}}(o=a._modelize(g,s,l,e)))),a._model=o,a._rects=n},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var r,s=e.ctx,a=this._model,o=this._rects;this.visible()&&(s.save(),a.clip&&(r=a.area,s.beginPath(),s.rect(r.left,r.top,r.right-r.left,r.bottom-r.top),s.clip()),s.globalAlpha=i.bound(0,a.opacity,1),s.translate(g(t.x),g(t.y)),s.rotate(a.rotation),function(e,t,r){var s=r.backgroundColor,a=r.borderColor,i=r.borderWidth;(s||a&&i)&&(e.beginPath(),c.canvas.roundedRect(e,g(t.x)+i/2,g(t.y)+i/2,g(t.w)-i,g(t.h)-i,r.borderRadius),e.closePath(),s&&(e.fillStyle=s,e.fill()),a&&i&&(e.strokeStyle=a,e.lineWidth=i,e.lineJoin="miter",e.stroke()))}(s,o.frame,a),function(e,t,r,s){var a,i=s.textAlign,o=s.color,n=!!o,u=s.font,l=t.length,c=s.textStrokeColor,g=s.textStrokeWidth,d=c&&g;if(l&&(n||d))for(r=function(e,t,r){var s=r.lineHeight,a=e.w,i=e.x;return"center"===t?i+=a/2:"end"!==t&&"right"!==t||(i+=a),{h:s,w:a,x:i,y:e.y+s/2}}(r,i,u),e.font=u.string,e.textAlign=i,e.textBaseline="middle",e.shadowBlur=s.textShadowBlur,e.shadowColor=s.textShadowColor,n&&(e.fillStyle=o),d&&(e.lineJoin="round",e.lineWidth=g,e.strokeStyle=c),a=0,l=t.length;a<l;++a)p(e,t[a],{stroked:d,filled:n,w:r.w,x:r.x,y:r.y+r.h*a})}(s,a.lines,o.text,a),s.restore())}});var h=Number.MIN_SAFE_INTEGER||-9007199254740991,m=Number.MAX_SAFE_INTEGER||9007199254740991;function T(e,t,r){var s=Math.cos(r),a=Math.sin(r),i=t.x,o=t.y;return{x:i+s*(e.x-i)-a*(e.y-o),y:o+a*(e.x-i)+s*(e.y-o)}}function A(e,t){var r,s,a,i=m,o=h,n=t.origin;for(r=0;r<e.length;++r)a=t.vx*((s=e[r]).x-n.x)+t.vy*(s.y-n.y),i=Math.min(i,a),o=Math.max(o,a);return{min:i,max:o}}function _(e,t){var r=t.x-e.x,s=t.y-e.y,a=Math.sqrt(r*r+s*s);return{vx:(t.x-e.x)/a,vy:(t.y-e.y)/a,origin:e,ln:a}}var q=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function f(e,t,r){var s=t.positioner(e,t),a=s.vx,i=s.vy;if(!a&&!i)return{x:s.x,y:s.y};var o=r.w,n=r.h,u=t.rotation,l=Math.abs(o/2*Math.cos(u))+Math.abs(n/2*Math.sin(u)),c=Math.abs(o/2*Math.sin(u))+Math.abs(n/2*Math.cos(u)),g=1/Math.max(Math.abs(a),Math.abs(i));return l*=a*g,c*=i*g,{x:s.x+(l+=t.offset*a),y:s.y+(c+=t.offset*i)}}r.default.helpers.extend(q.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,r){this._rotation=r,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,r=t._rect;return!((e=T(e,t.center(),-t._rotation)).x<r.x-1||e.y<r.y-1||e.x>r.x+r.w+2||e.y>r.y+r.h+2)},intersects:function(e){var t,r,s,a=this._points(),i=e._points(),o=[_(a[0],a[1]),_(a[0],a[3])];for(this._rotation!==e._rotation&&o.push(_(i[0],i[1]),_(i[0],i[3])),t=0;t<o.length;++t)if(r=A(a,o[t]),s=A(i,o[t]),r.max<s.min||s.max<r.min)return!1;return!0},_points:function(){var e=this,t=e._rect,r=e._rotation,s=e.center();return[T({x:t.x,y:t.y},s,r),T({x:t.x+t.w,y:t.y},s,r),T({x:t.x+t.w,y:t.y+t.h},s,r),T({x:t.x,y:t.y+t.h},s,r)]}});var x={prepare:function(e){var t,r,s,a,i,o=[];for(t=0,s=e.length;t<s;++t)for(r=0,a=e[t].length;r<a;++r)o.push(i=e[t][r]),i.$layout={_box:new q,_hidable:!1,_visible:!0,_set:t,_idx:r};return o.sort(function(e,t){var r=e.$layout,s=t.$layout;return r._idx===s._idx?s._set-r._set:s._idx-r._idx}),this.update(o),o},update:function(e){var t,r,s,a,i,o=!1;for(t=0,r=e.length;t<r;++t)a=(s=e[t]).model(),(i=s.$layout)._hidable=a&&"auto"===a.display,i._visible=s.visible(),o|=i._hidable;o&&function(e){var t,r,s,a,i,o;for(t=0,r=e.length;t<r;++t)(a=(s=e[t]).$layout)._visible&&(i=s.geometry(),o=f(s._el._model,s.model(),i),a._box.update(o,i,s.rotation()));!function(e,t){var r,s,a,i;for(r=e.length-1;r>=0;--r)for(a=e[r].$layout,s=r-1;s>=0&&a._visible;--s)(i=e[s].$layout)._visible&&a._box.intersects(i._box)&&t(a,i)}(e,function(e,t){var r=e._hidable,s=t._hidable;r&&s||s?t._visible=!1:r&&(e._visible=!1)})}(e)},lookup:function(e,t){var r,s;for(r=e.length-1;r>=0;--r)if((s=e[r].$layout)&&s._visible&&s._box.contains(t))return e[r];return null},draw:function(e,t){var r,s,a,i,o,n;for(r=0,s=t.length;r<s;++r)(i=(a=t[r]).$layout)._visible&&(o=a.geometry(),n=f(a._el._view,a.model(),o),i._box.update(n,o,a.rotation()),a.draw(e,n))}},b=r.default.helpers,v=r.default.helpers,U="$default";function y(e,t,r){if(t){var s,a=r.$context,i=r.$groups;t[i._set]&&(s=t[i._set][i._key])&&!0===v.callback(s,[a])&&(e.$datalabels._dirty=!0,r.update(a))}}return r.default.defaults.global.plugins.datalabels={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(e){if(b.isNullOrUndef(e))return null;var t,r,s,a=e;if(b.isObject(e))if(b.isNullOrUndef(e.label))if(b.isNullOrUndef(e.r))for(a="",s=0,r=(t=Object.keys(e)).length;s<r;++s)a+=(0!==s?", ":"")+t[s]+": "+e[t[s]];else a=e.r;else a=e.label;return""+a},labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},{id:"datalabels",beforeInit:function(e){e.$datalabels={_actives:[]}},beforeUpdate:function(e){var t=e.$datalabels;t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,r){var s,a,i,o,n,u,l,c,g=t.index,d=e.$datalabels,p=d._datasets[g]=[],h=e.isDatasetVisible(g),m=e.data.datasets[g],T=function(e,t){var r,s,a=e.datalabels,i={},o=[];return!1===a?null:(!0===a&&(a={}),t=v.merge({},[t,a]),r=t.labels||{},s=Object.keys(r),delete t.labels,s.length?s.forEach(function(e){r[e]&&o.push(v.merge({},[t,r[e],{_key:e}]))}):o.push(t),i=o.reduce(function(e,t){return v.each(t.listeners||{},function(r,s){e[s]=e[s]||{},e[s][t._key||U]=r}),delete t.listeners,e},{}),{labels:o,listeners:i})}(m,r),A=t.meta.data||[],_=e.ctx;for(_.save(),s=0,i=A.length;s<i;++s)if((l=A[s]).$datalabels=[],h&&l&&!l.hidden&&!l._model.skip)for(a=0,o=T.labels.length;a<o;++a)u=(n=T.labels[a])._key,(c=new Z(n,_,l,s)).$groups={_set:g,_key:u||U},c.$context={active:!1,chart:e,dataIndex:s,dataset:m,datasetIndex:g},c.update(c.$context),l.$datalabels.push(c),p.push(c);_.restore(),v.merge(d._listeners,T.listeners,{merger:function(e,r,s){r[e]=r[e]||{},r[e][t.index]=s[e],d._listened=!0}})},afterUpdate:function(e,t){e.$datalabels._labels=x.prepare(e.$datalabels._datasets,t)},afterDatasetsDraw:function(e){x.draw(e,e.$datalabels._labels)},beforeEvent:function(e,t){if(e.$datalabels._listened)switch(t.type){case"mousemove":case"mouseout":!function(e,t){var r,s,a=e.$datalabels,i=a._listeners;if(i.enter||i.leave){if("mousemove"===t.type)s=x.lookup(a._labels,t);else if("mouseout"!==t.type)return;r=a._hovered,a._hovered=s,function(e,t,r,s){var a,i;(r||s)&&(r?s?r!==s&&(i=a=!0):i=!0:a=!0,i&&y(e,t.leave,r),a&&y(e,t.enter,s))}(e,i,r,s)}}(e,t);break;case"click":!function(e,t){var r=e.$datalabels,s=r._listeners.click,a=s&&x.lookup(r._labels,t);a&&y(e,s,a)}(e,t)}},afterEvent:function(e){var t,s,a,o,n,u,l,c=e.$datalabels,g=c._actives,d=c._actives=e.lastActive||[],p=i.arrayDiff(g,d);for(t=0,s=p.length;t<s;++t)if((n=p[t])[1])for(a=0,o=(l=n[0].$datalabels||[]).length;a<o;++a)(u=l[a]).$context.active=1===n[1],u.update(u.$context);(c._dirty||p.length)&&(x.update(c._labels),function(e){if(!e.animating){for(var t=r.default.animationService.animations,s=0,a=t.length;s<a;++s)if(t[s].chart===e)return;e.render({duration:1,lazy:!0})}}(e)),delete c._dirty}}}(r(6823))},2338:function(e,t,r){var s;e=r.nmd(e),s=function(){var e=null,t={};l("monochrome",null,[[0,0],[100,0]]),l("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),l("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),l("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),l("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),l("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),l("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),l("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]);var r=[],s=function(t){if(null!=(t=t||{}).seed&&t.seed===parseInt(t.seed,10))e=t.seed;else if("string"==typeof t.seed)e=function(e){for(var t=0,r=0;r!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);r++)t+=e.charCodeAt(r);return t}(t.seed);else{if(null!=t.seed)throw new TypeError("The seed value must be an integer or string");e=null}var n,u;if(null!=t.count){for(var l=t.count,g=[],p=0;p<t.count;p++)r.push(!1);for(t.count=null;l>g.length;){var Z=s(t);null!==e&&(t.seed=e),g.push(Z)}return t.count=l,g}return function(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return d(e);case"hsl":var r=d(e);return"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)";case"hsla":var s=d(e),a=t.alpha||Math.random();return"hsla("+s[0]+", "+s[1]+"%, "+s[2]+"%, "+a+")";case"rgbArray":return c(e);case"rgb":return"rgb("+c(e).join(", ")+")";case"rgba":var i=c(e);return a=t.alpha||Math.random(),"rgba("+i.join(", ")+", "+a+")";default:return function(e){var t=c(e);function r(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+r(t[0])+r(t[1])+r(t[2])}(e)}}([n=a(t),u=i(n,t),o(n,u,t)],t)};function a(e){if(r.length>0){var s=u(o=function(e){if(isNaN(e)){if("string"==typeof e)if(t[e]){var r=t[e];if(r.hueRange)return r.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i))return n(g(e)[0]).hueRange}else{var s=parseInt(e);if(s<360&&s>0)return n(e).hueRange}return[0,360]}(e.hue)),a=(o[1]-o[0])/r.length,i=parseInt((s-o[0])/a);return!0===r[i]?i=(i+2)%r.length:r[i]=!0,(s=u(o=[(o[0]+i*a)%359,(o[0]+(i+1)*a)%359]))<0&&(s=360+s),s}var o;return(s=u(o=function(e){if("number"==typeof parseInt(e)){var r=parseInt(e);if(r<360&&r>0)return[r,r]}if("string"==typeof e)if(t[e]){var s=t[e];if(s.hueRange)return s.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var a=g(e)[0];return[a,a]}return[0,360]}(e.hue)))<0&&(s=360+s),s}function i(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return u([0,100]);var r=function(e){return n(e).saturationRange}(e),s=r[0],a=r[1];switch(t.luminosity){case"bright":s=55;break;case"dark":s=a-10;break;case"light":a=55}return u([s,a])}function o(e,t,r){var s=function(e,t){for(var r=n(e).lowerBounds,s=0;s<r.length-1;s++){var a=r[s][0],i=r[s][1],o=r[s+1][0];if(t>=a&&t<=o){var u=(r[s+1][1]-i)/(o-a);return u*t+(i-u*a)}}return 0}(e,t),a=100;switch(r.luminosity){case"dark":a=s+20;break;case"light":s=(a+s)/2;break;case"random":s=0,a=100}return u([s,a])}function n(e){for(var r in e>=334&&e<=360&&(e-=360),t){var s=t[r];if(s.hueRange&&e>=s.hueRange[0]&&e<=s.hueRange[1])return t[r]}return"Color not found"}function u(t){if(null===e){var r=Math.random();return r+=.618033988749895,r%=1,Math.floor(t[0]+r*(t[1]+1-t[0]))}var s=t[0]||0;return e=(9301*e+49297)%233280,Math.floor(s+e/233280*((t[1]||1)-s))}function l(e,r,s){t[e]={hueRange:r,lowerBounds:s,saturationRange:[s[0][0],s[s.length-1][0]],brightnessRange:[s[s.length-1][1],s[0][1]]}}function c(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var r=e[1]/100,s=e[2]/100,a=Math.floor(6*t),i=6*t-a,o=s*(1-r),n=s*(1-i*r),u=s*(1-(1-i)*r),l=256,c=256,g=256;switch(a){case 0:l=s,c=u,g=o;break;case 1:l=n,c=s,g=o;break;case 2:l=o,c=s,g=u;break;case 3:l=o,c=n,g=s;break;case 4:l=u,c=o,g=s;break;case 5:l=s,c=o,g=n}return[Math.floor(255*l),Math.floor(255*c),Math.floor(255*g)]}function g(e){e=3===(e=e.replace(/^#/,"")).length?e.replace(/(.)/g,"$1$1"):e;var t=parseInt(e.substr(0,2),16)/255,r=parseInt(e.substr(2,2),16)/255,s=parseInt(e.substr(4,2),16)/255,a=Math.max(t,r,s),i=a-Math.min(t,r,s),o=a?i/a:0;switch(a){case t:return[(r-s)/i%6*60||0,o,a];case r:return[60*((s-t)/i+2)||0,o,a];case s:return[60*((t-r)/i+4)||0,o,a]}}function d(e){var t=e[1]/100,r=e[2]/100,s=(2-t)*r;return[e[0],Math.round(t*r/(s<1?s:2-s)*1e4)/100,s/2*100]}return s}(),e&&e.exports&&(t=e.exports=s),t.randomColor=s},4666:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ItAdminModule:()=>no});var s=r(4330),a=r(6823),i=r(3184),o=r(8569),n=r.n(o),u=r(7716),l=r(2468),c=r(2340),g=r(1841),d=r(9798);new g.WM({"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Headers":"Content-Type"});let p=(()=>{class e{constructor(e,t){this.http=e,this.toastr=t,this.perPage=10}setHeaders(){return(new g.WM).set("Content-Type","application/x-www-form-urlencoded")}getInwardMaterialAPI(e){return this.http.post(`${c.N.api}/inward/getInwards`,e)}getvendorsAPI(e){return this.http.post(`${c.N.api}/vendor/getVendors`,e)}searchProductAPI(e){return this.http.post(`${c.N.api}/product/searchProducts`,e)}searchInwardProductAPI(e){return this.http.post(`${c.N.api}/product/getSearchInwardProducts`,e)}addInward(e){return this.http.post(`${c.N.api}/inward/addInward`,e)}getCategoryWiseQuantityAndValue(e){return this.http.post(`${c.N.api}/inward/getCategoryWiseQuantityAndValue`,e)}getStatusWiseQuantityAndValue(e){return this.http.post(`${c.N.api}/inward/getStatusWiseQuantityAndValue`,e)}getLocationWiseQuantityAndValue(e){return this.http.post(`${c.N.api}/inward/getLocationWiseQuantityAndValue`,e)}getCostCenterWiseQuantityAndValue(e){return this.http.post(`${c.N.api}/inward/getCostCenterWiseQuantityAndValue`,e)}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(g.eN),u.LFG(d.eP))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Z=r(665);const h=["baseChart"];var m=r(2338);a.Chart.plugins.register(n());let T=(()=>{class e{constructor(e,t){this.dataservice=e,this._inwardService=t,this.LocationwiseChartOptions={responsive:!0,plugins:{datalabels:{backgroundColor:"white",borderColor:"#333",borderWidth:1,color:"#333",font:{weight:"bold"},padding:6,anchor:"end"}}},this.LocationwiseChartLabels=[],this.LocationwiseChartType="bar",this.LocationwiseChartLegend=!0,this.LocationwiseChartPlugins=[],this.LocationwiseChartData=[],this.LocationwiseChartColors=[],this.LocationwisewiseData=[],this.CCwiseChartOptions={responsive:!0,plugins:{datalabels:{backgroundColor:"white",borderColor:"#333",borderWidth:1,color:"#333",font:{weight:"bold"},padding:6,anchor:"end"}}},this.CCwiseChartLabels=[],this.CCwiseChartType="bar",this.CCwiseChartLegend=!0,this.CCwiseChartPlugins=[],this.CCwiseChartData=[],this.CCwiseChartColors=[],this.CCwisewiseData=[],this.statuswiseChartOptions={responsive:!0,legend:{position:"right"},plugins:{datalabels:{backgroundColor:function(e){return e.dataset.backgroundColor},borderColor:"white",borderRadius:25,borderWidth:1,color:"white",font:{weight:"bold"},padding:6}}},this.statuswiseChartLabels=[],this.statuswiseChartData=[],this.statuswiseChartType="pie",this.statuswiseChartLegend=!0,this.statuswiseChartPlugins=[],this.statuswiseChartColors=[{backgroundColor:[m(),m(),m(),m(),m()],borderColor:[]}],this.statuswiseData=[{Status:"Unassigned",Quantity:0,Value:0,CAPEX:0,OPEX:0,Display:"In Stock"},{Status:"Assigned",Quantity:0,Value:0,CAPEX:0,OPEX:0,Display:"Issued"},{Status:"Repair",Quantity:0,Value:0,CAPEX:0,OPEX:0,Display:"Repair"},{Status:"Scrap",Quantity:0,Value:0,CAPEX:0,OPEX:0,Display:"Scrap"},{Status:"Lost",Quantity:0,Value:0,CAPEX:0,OPEX:0,Display:"Lost"}],this.categorywiseChartOptions={responsive:!0,legend:{position:"right"},plugins:{datalabels:{backgroundColor:function(e){return e.dataset.backgroundColor},borderColor:"white",borderRadius:25,borderWidth:1,color:"white",font:{weight:"bold"},padding:6}}},this.categorywiseChartLabels=[],this.categorywiseChartData=[],this.categorywiseChartType="pie",this.categorywiseChartLegend=!0,this.categorywiseChartPlugins=[],this.categorywiseChartColors=[{backgroundColor:[m(),m()],borderColor:[]}],this.categorywiseData=[{Category:"CAPEX",Quantity:0,Value:0,product:{CAPEX:0,OPEX:0},Display:"CAPEX"},{Category:"OPEX",Quantity:0,Value:0,product:{CAPEX:0,OPEX:0},Display:"OPEX"}],this.reportBy="Quantity",this.categoryWise=""}ngOnInit(){this.dataservice.setTitle("Dashboard"),this.getStatusWiseQuantityAndValue(),this.getCategoryWiseQuantityAndValue(),this.getCostCenterWiseQuantityAndValue(),this.getLocationWiseQuantityAndValue()}getStatusWiseQuantityAndValue(){this._inwardService.getStatusWiseQuantityAndValue({Category:this.categoryWise}).subscribe(e=>{this.statuswiseData.forEach((e,t)=>{e.Quantity=0,e.Value=0}),e.data.forEach((e,t)=>{let r=this.statuswiseData.findIndex(t=>t.Status===e.Status);-1!==r&&(this.statuswiseData[r].Quantity=e.Quantity,this.statuswiseData[r].Value=e.Value)}),this.loadStatuswiseData(this.reportBy)})}loadStatuswiseData(e){this.statuswiseChartLabels=this.statuswiseData.map(e=>e.Display),this.statuswiseChartData=this.statuswiseData.map("Quantity"==e?e=>e.Quantity:e=>e.Value)}getCategoryWiseQuantityAndValue(){this._inwardService.getCategoryWiseQuantityAndValue({}).subscribe(e=>{this.categorywiseData.forEach((e,t)=>{e.Quantity=0,e.Value=0}),e.data.forEach((e,t)=>{let r=this.categorywiseData.findIndex(t=>t.Category===e.category);-1!==r&&(this.categorywiseData[r].Quantity=e.Quantity,this.categorywiseData[r].Value=e.Value)}),this.loadCategorywiseData(this.reportBy)})}loadCategorywiseData(e){this.categorywiseChartLabels=this.categorywiseData.map(e=>e.Display),this.categorywiseChartData=this.categorywiseData.map("Quantity"==e?e=>e.Quantity:e=>e.Value)}getCostCenterWiseQuantityAndValue(){this._inwardService.getCostCenterWiseQuantityAndValue({Category:this.categoryWise}).subscribe(e=>{this.CCwisewiseData=e.data,this.loadCostCenterwiseData(this.reportBy)})}loadCostCenterwiseData(e){this.CCwiseChartLabels=this.CCwisewiseData.map(e=>e.Current_Cost_Center),this.CCwiseChartData=[{barThickness:50,data:this.CCwisewiseData.map("Quantity"==e?e=>e.Quantity:e=>e.Value),label:"Cost Center"}];let t=[];for(let r=0;r<this.CCwisewiseData.length;r++)t.push(m());this.CCwiseChartColors=[{backgroundColor:t}]}getLocationWiseQuantityAndValue(){this._inwardService.getLocationWiseQuantityAndValue({Category:this.categoryWise}).subscribe(e=>{this.LocationwisewiseData=e.data,this.loadLocationwiseData(this.reportBy)})}loadLocationwiseData(e){this.LocationwiseChartLabels=this.LocationwisewiseData.map(e=>e.location.Name),this.LocationwiseChartData=[{barThickness:50,data:this.LocationwisewiseData.map("Quantity"==e?e=>e.Quantity:e=>e.Value),label:"Location"}];let t=[];for(let r=0;r<this.LocationwisewiseData.length;r++)t.push(m());this.LocationwiseChartColors=[{backgroundColor:t}]}onSelect(){let e=this.reportBy;this.loadCategorywiseData(e),this.loadCostCenterwiseData(e),this.loadLocationwiseData(e),this.loadStatuswiseData(e)}onChangeCategory(){this.getStatusWiseQuantityAndValue(),this.getCategoryWiseQuantityAndValue(),this.getCostCenterWiseQuantityAndValue(),this.getLocationWiseQuantityAndValue()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(l.D),u.Y36(p))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-dashboard"]],viewQuery:function(e,t){if(1&e&&(u.Gf(i.jh,5),u.Gf(h,5)),2&e){let e;u.iGM(e=u.CRH())&&(t.chart=e.first),u.iGM(e=u.CRH())&&(t.baseChart=e.first)}},decls:57,vars:33,consts:[[1,"row","h-100","w-100","mt-2","mb-3"],[1,"col-auto","d-flex","fw-bold",2,"text-align","right"],[1,"form-check",2,"margin-right","20px","margin-left","10px"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1","value","Quantity",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","flexRadioDefault1",1,"form-check-label"],[1,"form-check"],["type","radio","name","flexRadioDefault","id","flexRadioDefault2","value","Value",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","flexRadioDefault2",1,"form-check-label"],["type","radio","name","flexRadioDefault1","id","flexRadioDefaultAll","value","",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","flexRadioDefaultAll",1,"form-check-label"],["type","radio","name","flexRadioDefault1","id","flexRadioCAPEX1","value","CAPEX",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","flexRadioCAPEX1",1,"form-check-label"],["type","radio","name","flexRadioDefault1","id","flexRadioOPEX","value","OPEX",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","flexRadioOPEX",1,"form-check-label"],[1,"row","g-3"],[1,"col-lg-6"],[1,"card"],[1,"card-header","fw-bold"],[1,"card-body"],[2,"display","block"],["baseChart","",3,"data","labels","chartType","options","plugins","legend","colors"],["baseChart","",3,"datasets","labels","options","plugins","legend","colors","chartType"],["baseChart","base-chart"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"i"),u._uU(3,"Report by:"),u.qZA(),u.TgZ(4,"div",2),u.TgZ(5,"input",3),u.NdJ("ngModelChange",function(e){return t.reportBy=e})("change",function(){return t.onSelect()}),u.qZA(),u.TgZ(6,"label",4),u._uU(7,"Quantity"),u.qZA(),u.qZA(),u.TgZ(8,"div",5),u.TgZ(9,"input",6),u.NdJ("ngModelChange",function(e){return t.reportBy=e})("change",function(){return t.onSelect()}),u.qZA(),u.TgZ(10,"label",7),u._uU(11,"Value"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div",1),u.TgZ(13,"i"),u._uU(14,"By Category:"),u.qZA(),u.TgZ(15,"div",2),u.TgZ(16,"input",8),u.NdJ("ngModelChange",function(e){return t.categoryWise=e})("change",function(){return t.onChangeCategory()}),u.qZA(),u.TgZ(17,"label",9),u._uU(18,"All"),u.qZA(),u.qZA(),u.TgZ(19,"div",2),u.TgZ(20,"input",10),u.NdJ("ngModelChange",function(e){return t.categoryWise=e})("change",function(){return t.onChangeCategory()}),u.qZA(),u.TgZ(21,"label",11),u._uU(22,"CAPEX"),u.qZA(),u.qZA(),u.TgZ(23,"div",5),u.TgZ(24,"input",12),u.NdJ("ngModelChange",function(e){return t.categoryWise=e})("change",function(){return t.onChangeCategory()}),u.qZA(),u.TgZ(25,"label",13),u._uU(26,"OPEX"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(27,"div",14),u.TgZ(28,"div",15),u.TgZ(29,"div",16),u.TgZ(30,"div",17),u._uU(31," Status "),u.qZA(),u.TgZ(32,"div",18),u.TgZ(33,"div",19),u._UZ(34,"canvas",20),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(35,"div",15),u.TgZ(36,"div",16),u.TgZ(37,"div",17),u._uU(38," Location "),u.qZA(),u.TgZ(39,"div",18),u.TgZ(40,"div",19),u._UZ(41,"canvas",21),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(42,"div",15),u.TgZ(43,"div",16),u.TgZ(44,"div",17),u._uU(45," Cost Center "),u.qZA(),u.TgZ(46,"div",18),u.TgZ(47,"div",19),u._UZ(48,"canvas",21,22),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(50,"div",15),u.TgZ(51,"div",16),u.TgZ(52,"div",17),u._uU(53," Category "),u.qZA(),u.TgZ(54,"div",18),u.TgZ(55,"div",19),u._UZ(56,"canvas",20),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(5),u.Q6J("ngModel",t.reportBy),u.xp6(4),u.Q6J("ngModel",t.reportBy),u.xp6(7),u.Q6J("ngModel",t.categoryWise),u.xp6(4),u.Q6J("ngModel",t.categoryWise),u.xp6(4),u.Q6J("ngModel",t.categoryWise),u.xp6(10),u.Q6J("data",t.statuswiseChartData)("labels",t.statuswiseChartLabels)("chartType",t.statuswiseChartType)("options",t.statuswiseChartOptions)("plugins",t.statuswiseChartPlugins)("legend",t.statuswiseChartLegend)("colors",t.statuswiseChartColors),u.xp6(7),u.Q6J("datasets",t.LocationwiseChartData)("labels",t.LocationwiseChartLabels)("options",t.LocationwiseChartOptions)("plugins",t.LocationwiseChartPlugins)("legend",t.LocationwiseChartLegend)("colors",t.LocationwiseChartColors)("chartType",t.LocationwiseChartType),u.xp6(7),u.Q6J("datasets",t.CCwiseChartData)("labels",t.CCwiseChartLabels)("options",t.CCwiseChartOptions)("plugins",t.CCwiseChartPlugins)("legend",t.CCwiseChartLegend)("colors",t.CCwiseChartColors)("chartType",t.CCwiseChartType),u.xp6(8),u.Q6J("data",t.categorywiseChartData)("labels",t.categorywiseChartLabels)("chartType",t.categorywiseChartType)("options",t.categorywiseChartOptions)("plugins",t.categorywiseChartPlugins)("legend",t.categorywiseChartLegend)("colors",t.categorywiseChartColors))},directives:[Z._,Z.Fj,Z.JJ,Z.On,i.jh],styles:[""]}),e})();var A=r(7709),_=r(4395),q=r(7519),f=r(3647),x=r(9866),b=r(7017),v=r(1993),U=r(8583);function y(e,t){if(1&e&&(u.TgZ(0,"option",18),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.ID),u.xp6(1),u.Oqu(e.Name)}}function w(e,t){1&e&&(u.TgZ(0,"div",20),u._uU(1,"Engineer is required"),u.qZA())}function P(e,t){if(1&e&&(u.TgZ(0,"div",10),u.YNc(1,w,2,0,"div",19),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.f.Assigned_To.errors.required)}}let C=(()=>{class e{constructor(e,t,r,s,a){this.bsModalRef=e,this.formBuilder=t,this.spinner=r,this._requestsPagesService=s,this._mastersService=a,this.isWebRequest=!1,this.notifyParent=new u.vpe,this.assignToForm=this.formBuilder.group({Assigned_To:["",[Z.kI.required]]})}ngOnInit(){this.getSupportList()}getSupportList(){this._requestsPagesService.assignToDropdown({id:this.ID}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.response=e.data,this.assignToForm.patchValue(e.data[0].Name))},e=>{console.log(e),this._mastersService.showalert(e.error,"error")})}get f(){return this.assignToForm.controls}onSubmit(){this.isWebRequest=!0;let e={id:this.ID,Assigned_To:this.assignToForm.value.Assigned_To,Request_Type:"Service Request"};this.spinner.show(),this._requestsPagesService.assignTo(e).subscribe(e=>{this.spinner.hide(),this.isWebRequest=!1,e.error?this._mastersService.showalert(e.message,"error"):(this._mastersService.showalert(e.message,"success"),this.notifyParent.emit(!0),this.close())},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}close(){this.bsModalRef.hide(),this.notifyParent.emit(!1)}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(f.UZ),u.Y36(Z.qu),u.Y36(x.t2),u.Y36(b.i),u.Y36(v.R))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-assign-to"]],outputs:{notifyParent:"notifyParent"},decls:23,vars:4,consts:[[1,"modal-header","bg-light"],[1,"modal-title","pull-left","fw-bold","mr-3"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","mx-1"],[1,"mt-3"],[3,"formGroup"],[1,"row"],[1,"col-lg-12","col-12"],["for",""],[1,"text-dark","fw-bold"],[1,"text-danger"],["aria-label","Default select example","formControlName","Assigned_To",1,"form-select"],["disabled","","selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"row","my-2"],[1,"col-12"],[1,"btn","btn-dark",2,"width","100px",3,"disabled","click"],[3,"value"],["class","small",4,"ngIf"],[1,"small"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"h5",1),u._uU(2,"Assign TO"),u.qZA(),u.TgZ(3,"button",2),u.NdJ("click",function(){return t.close()}),u.qZA(),u.qZA(),u.TgZ(4,"div",3),u.TgZ(5,"div",4),u.TgZ(6,"form",5),u.TgZ(7,"div",6),u.TgZ(8,"div",7),u.TgZ(9,"label",8),u.TgZ(10,"small",9),u._uU(11,"Select Engineer"),u.qZA(),u.TgZ(12,"span",10),u._uU(13,"*"),u.qZA(),u.qZA(),u.TgZ(14,"select",11),u.TgZ(15,"option",12),u._uU(16,"Select Engineer"),u.qZA(),u.YNc(17,y,2,2,"option",13),u.qZA(),u.YNc(18,P,2,1,"div",14),u.qZA(),u.qZA(),u.TgZ(19,"div",15),u.TgZ(20,"div",16),u.TgZ(21,"button",17),u.NdJ("click",function(){return t.onSubmit()}),u._uU(22,"Submit"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(6),u.Q6J("formGroup",t.assignToForm),u.xp6(11),u.Q6J("ngForOf",t.response),u.xp6(1),u.Q6J("ngIf",t.f.Assigned_To.touched&&t.f.Assigned_To.errors),u.xp6(3),u.Q6J("disabled",t.assignToForm.invalid||t.isWebRequest))},directives:[Z._Y,Z.JL,Z.sg,Z.EJ,Z.JJ,Z.u,Z.YN,Z.Kr,U.sg,U.O5],styles:[""]}),e})();var N=r(1633),S=r(7651);function L(e,t){if(1&e&&(u.TgZ(0,"div",15),u.TgZ(1,"span",16),u._uU(2," Request Department"),u.qZA(),u.TgZ(3,"p",17),u._uU(4),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(4),u.Oqu(null==e.response||null==e.response.data.user?null:e.response.data.user.Department)}}function D(e,t){if(1&e&&(u.TgZ(0,"div",15),u.TgZ(1,"span",16),u._uU(2,"Cost Center"),u.qZA(),u.TgZ(3,"p",17),u._uU(4),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(4),u.Oqu(null==e.response||null==e.response.data.user?null:e.response.data.user.Cost_Center)}}function I(e,t){if(1&e&&(u.TgZ(0,"div",15),u.TgZ(1,"span",16),u._uU(2,"Location"),u.qZA(),u.TgZ(3,"p",17),u._uU(4),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(4),u.Oqu(null==e.response?null:e.response.data.location.Name)}}function O(e,t){1&e&&(u.TgZ(0,"p",20),u.TgZ(1,"span",21),u._uU(2,"Open"),u.qZA(),u.qZA())}function k(e,t){1&e&&(u.TgZ(0,"p",20),u.TgZ(1,"span",22),u._uU(2,"Delivered"),u.qZA(),u.qZA())}function R(e,t){1&e&&(u.TgZ(0,"p",20),u.TgZ(1,"span",23),u._uU(2,"Ready To Dispatch"),u.qZA(),u.qZA())}function J(e,t){1&e&&(u.TgZ(0,"p",20),u.TgZ(1,"span",24),u._uU(2,"Dispatched"),u.qZA(),u.qZA())}function M(e,t){if(1&e&&(u.TgZ(0,"div",14),u.TgZ(1,"div",15),u.TgZ(2,"span",16),u._uU(3,"Request ID"),u.qZA(),u.TgZ(4,"p",17),u._uU(5),u.qZA(),u.qZA(),u.TgZ(6,"div",15),u.TgZ(7,"span",16),u._uU(8,"Department"),u.qZA(),u.TgZ(9,"p",17),u._uU(10),u.qZA(),u.qZA(),u.TgZ(11,"div",15),u.TgZ(12,"span",16),u._uU(13,"Requester Name"),u.qZA(),u.TgZ(14,"p",17),u._uU(15),u.qZA(),u.qZA(),u.YNc(16,L,5,1,"div",18),u.YNc(17,D,5,1,"div",18),u.YNc(18,I,5,1,"div",18),u.TgZ(19,"div",15),u.TgZ(20,"span",16),u._uU(21,"Date"),u.qZA(),u.TgZ(22,"p",17),u._uU(23),u.ALo(24,"date"),u.qZA(),u.qZA(),u.TgZ(25,"div",15),u.TgZ(26,"span",16),u._uU(27,"Status"),u.qZA(),u.YNc(28,O,3,0,"p",19),u.YNc(29,k,3,0,"p",19),u.YNc(30,R,3,0,"p",19),u.YNc(31,J,3,0,"p",19),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(5),u.Oqu(null==e.response?null:e.response.data.Request_Number),u.xp6(5),u.Oqu(null==e.response?null:e.response.data.Request_Department),u.xp6(5),u.Oqu(null==e.response?null:e.response.data.user.Name),u.xp6(1),u.Q6J("ngIf",null!=(null==e.response?null:e.response.data.user.Department)),u.xp6(1),u.Q6J("ngIf",null!=(null==e.response?null:e.response.data.user.Cost_Center)),u.xp6(1),u.Q6J("ngIf",1==(null==e.response?null:e.response.data.HOD_Approved)&&1==(null==e.response?null:e.response.data.Head_Approved)),u.xp6(5),u.hij(" ",u.xi3(24,11,null==e.response?null:e.response.data.Request_Date,"dd/MM/yyyy")," "),u.xp6(5),u.Q6J("ngIf","Open"==(null==e.response?null:e.response.data.Status)),u.xp6(1),u.Q6J("ngIf","Delivered"==(null==e.response?null:e.response.data.Status)),u.xp6(1),u.Q6J("ngIf","Ready To Dispatch"==(null==e.response?null:e.response.data.Status)),u.xp6(1),u.Q6J("ngIf","Dispatched"==(null==e.response?null:e.response.data.Status))}}function Q(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",28),u._UZ(2,"i",29),u._UZ(3,"i",29),u._UZ(4,"i",29),u._UZ(5,"i",29),u._UZ(6,"i",29),u._UZ(7,"i",29),u._UZ(8,"i",29),u._UZ(9,"i",29),u._UZ(10,"i",29),u.qZA())}function F(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",28),u._UZ(2,"i",28),u._UZ(3,"i",29),u._UZ(4,"i",29),u._UZ(5,"i",29),u._UZ(6,"i",29),u._UZ(7,"i",29),u._UZ(8,"i",29),u._UZ(9,"i",29),u._UZ(10,"i",29),u.qZA())}function Y(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",28),u._UZ(2,"i",28),u._UZ(3,"i",28),u._UZ(4,"i",29),u._UZ(5,"i",29),u._UZ(6,"i",29),u._UZ(7,"i",29),u._UZ(8,"i",29),u._UZ(9,"i",29),u._UZ(10,"i",29),u.qZA())}function E(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",28),u._UZ(2,"i",28),u._UZ(3,"i",28),u._UZ(4,"i",28),u._UZ(5,"i",29),u._UZ(6,"i",29),u._UZ(7,"i",29),u._UZ(8,"i",29),u._UZ(9,"i",29),u._UZ(10,"i",29),u.qZA())}function H(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",28),u._UZ(2,"i",28),u._UZ(3,"i",28),u._UZ(4,"i",28),u._UZ(5,"i",28),u._UZ(6,"i",29),u._UZ(7,"i",29),u._UZ(8,"i",29),u._UZ(9,"i",29),u._UZ(10,"i",29),u.qZA())}function V(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",28),u._UZ(2,"i",28),u._UZ(3,"i",28),u._UZ(4,"i",28),u._UZ(5,"i",28),u._UZ(6,"i",28),u._UZ(7,"i",29),u._UZ(8,"i",29),u._UZ(9,"i",29),u._UZ(10,"i",29),u.qZA())}function $(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",28),u._UZ(2,"i",28),u._UZ(3,"i",28),u._UZ(4,"i",28),u._UZ(5,"i",28),u._UZ(6,"i",28),u._UZ(7,"i",28),u._UZ(8,"i",29),u._UZ(9,"i",29),u._UZ(10,"i",29),u.qZA())}function B(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",28),u._UZ(2,"i",28),u._UZ(3,"i",28),u._UZ(4,"i",28),u._UZ(5,"i",28),u._UZ(6,"i",28),u._UZ(7,"i",28),u._UZ(8,"i",28),u._UZ(9,"i",29),u._UZ(10,"i",29),u.qZA())}function j(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",28),u._UZ(2,"i",28),u._UZ(3,"i",28),u._UZ(4,"i",28),u._UZ(5,"i",28),u._UZ(6,"i",28),u._UZ(7,"i",28),u._UZ(8,"i",28),u._UZ(9,"i",28),u._UZ(10,"i",29),u.qZA())}function X(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",28),u._UZ(2,"i",28),u._UZ(3,"i",28),u._UZ(4,"i",28),u._UZ(5,"i",28),u._UZ(6,"i",28),u._UZ(7,"i",28),u._UZ(8,"i",28),u._UZ(9,"i",28),u._UZ(10,"i",28),u.qZA())}function G(e,t){if(1&e&&(u.TgZ(0,"div",26),u.TgZ(1,"span",16),u._uU(2,"Rating"),u.qZA(),u.YNc(3,Q,11,0,"p",27),u.YNc(4,F,11,0,"p",27),u.YNc(5,Y,11,0,"p",27),u.YNc(6,E,11,0,"p",27),u.YNc(7,H,11,0,"p",27),u.YNc(8,V,11,0,"p",27),u.YNc(9,$,11,0,"p",27),u.YNc(10,B,11,0,"p",27),u.YNc(11,j,11,0,"p",27),u.YNc(12,X,11,0,"p",27),u.qZA()),2&e){const e=u.oxw(2);u.xp6(3),u.Q6J("ngIf",1==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",2==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",3==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",4==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",5==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",6==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",7==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",8==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",9==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",10==(null==e.response?null:e.response.data.Rating))}}function W(e,t){if(1&e&&(u.TgZ(0,"div",26),u.TgZ(1,"span",16),u._uU(2,"Remark"),u.qZA(),u.TgZ(3,"p",17),u._uU(4),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(4),u.Oqu(null==e.response?null:e.response.data.Requester_Remark)}}function z(e,t){if(1&e&&(u.TgZ(0,"div",14),u.YNc(1,G,13,10,"div",25),u.YNc(2,W,5,1,"div",25),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf","Delivered"==(null==e.response?null:e.response.data.Status)&&null!=(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf","Delivered"==(null==e.response?null:e.response.data.Status)&&null!=(null==e.response?null:e.response.data.Requester_Remark))}}function K(e,t){if(1&e&&(u.TgZ(0,"option",37),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.ID),u.xp6(1),u.hij(" ",e.Name," ")}}function ee(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",15),u.TgZ(1,"label",31),u.TgZ(2,"small",32),u._uU(3,"Select Source Location"),u.qZA(),u.TgZ(4,"span",33),u._uU(5,"*"),u.qZA(),u.qZA(),u.TgZ(6,"select",34),u.NdJ("change",function(){return u.CHM(e),u.oxw(2).updateAvailableQty()}),u.TgZ(7,"option",35),u._uU(8,"Select Location"),u.qZA(),u.YNc(9,K,2,2,"option",36),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(9),u.Q6J("ngForOf",e.LocationList)}}function te(e,t){if(1&e&&(u.TgZ(0,"div",30),u.YNc(1,ee,10,1,"div",18),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",1==(null==e.response?null:e.response.data.HOD_Approved)&&1==(null==e.response?null:e.response.data.Head_Approved))}}function re(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr",46),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u.TgZ(8,"input",47),u.NdJ("keyup",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw(2).onQuantityChnage(t)}),u.qZA(),u.qZA(),u.TgZ(9,"td",48),u._uU(10),u.qZA(),u.TgZ(11,"td",48),u._uU(12),u.ALo(13,"number"),u.qZA(),u.TgZ(14,"td",48),u._uU(15),u.ALo(16,"number"),u.qZA(),u.TgZ(17,"td"),u.TgZ(18,"i",49),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw(2).doneRow(t)}),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(),t=e.index,r=e.$implicit;let s;u.Q6J("formGroupName",t),u.xp6(2),u.Oqu(t+1),u.xp6(2),u.Oqu(r.get("Name").value),u.xp6(2),u.Oqu(r.get("UOM").value),u.xp6(2),u.Q6J("ngClass",null!=(s=r.get("Quantity"))&&s.touched&&null!=(s=r.get("Quantity"))&&s.errors?"has-error":""),u.xp6(2),u.hij(" ",r.get("Available_Quantity").value," "),u.xp6(2),u.hij(" ",u.xi3(13,8,r.get("Price").value,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(16,11,r.get("Total_Price").value,"1.2-3")," ")}}function se(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td",48),u._uU(8),u.qZA(),u.TgZ(9,"td",48),u._uU(10),u.qZA(),u.TgZ(11,"td",48),u._uU(12),u.ALo(13,"number"),u.qZA(),u.TgZ(14,"td",48),u._uU(15),u.ALo(16,"number"),u.qZA(),u.TgZ(17,"td"),u.TgZ(18,"i",50),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw(2).editRow(t)}),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(),t=e.index,r=e.$implicit;u.xp6(2),u.Oqu(t+1),u.xp6(2),u.Oqu(r.get("Name").value),u.xp6(2),u.Oqu(r.get("UOM").value),u.xp6(2),u.Oqu(r.get("Quantity").value),u.xp6(2),u.hij(" ",r.get("Available_Quantity").value," "),u.xp6(2),u.hij(" ",u.xi3(13,7,r.get("Price").value,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(16,10,r.get("Total_Price").value,"1.2-3")," ")}}function ae(e,t){if(1&e&&(u.ynx(0,44),u.YNc(1,re,19,14,"tr",45),u.YNc(2,se,19,13,"tr",27),u.BQk()),2&e){const e=t.$implicit;u.xp6(1),u.Q6J("ngIf",e.get("isEditable").value),u.xp6(1),u.Q6J("ngIf",!e.get("isEditable").value)}}function ie(e,t){if(1&e&&(u.TgZ(0,"table",38),u.TgZ(1,"thead",39),u.TgZ(2,"tr"),u.TgZ(3,"th",40),u._uU(4,"Sr.No"),u.qZA(),u.TgZ(5,"th",40),u._uU(6,"Item Name"),u.qZA(),u.TgZ(7,"th",40),u._uU(8,"UOM"),u.qZA(),u.TgZ(9,"th",40),u._uU(10,"Quantity"),u.qZA(),u.TgZ(11,"th",40),u._uU(12,"Available Qty"),u.qZA(),u.TgZ(13,"th",40),u._uU(14,"Per Unit Price \u20b9"),u.qZA(),u.TgZ(15,"th",40),u._uU(16,"Sub Total \u20b9"),u.qZA(),u.TgZ(17,"th",40),u._uU(18,"Action"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(19,"tbody",41),u.YNc(20,ae,3,2,"ng-container",42),u.TgZ(21,"tr"),u._UZ(22,"td"),u._UZ(23,"td"),u._UZ(24,"td"),u._UZ(25,"td"),u._UZ(26,"td"),u.TgZ(27,"td",43),u._uU(28,"Sub Total"),u.qZA(),u.TgZ(29,"td",43),u._uU(30),u.ALo(31,"number"),u.qZA(),u._UZ(32,"td"),u.qZA(),u.TgZ(33,"tr"),u._UZ(34,"td"),u._UZ(35,"td"),u._UZ(36,"td"),u._UZ(37,"td"),u._UZ(38,"td"),u.TgZ(39,"td",43),u._uU(40,"GST"),u.qZA(),u.TgZ(41,"td",43),u._uU(42),u.ALo(43,"number"),u.qZA(),u._UZ(44,"td"),u.qZA(),u.TgZ(45,"tr"),u._UZ(46,"td"),u._UZ(47,"td"),u._UZ(48,"td"),u._UZ(49,"td"),u._UZ(50,"td"),u.TgZ(51,"td",43),u._uU(52,"Total"),u.qZA(),u.TgZ(53,"td",43),u._uU(54),u.ALo(55,"number"),u.qZA(),u._UZ(56,"td"),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(20),u.Q6J("ngForOf",e.getFormControls.controls),u.xp6(10),u.Oqu(u.xi3(31,4,e.total,"1.2-3")),u.xp6(12),u.Oqu(u.xi3(43,7,e.tax,"1.2-3")),u.xp6(12),u.hij(" ",u.xi3(55,10,e.total+e.tax,"1.2-3")," ")}}function oe(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",61),u.TgZ(2,"b",62),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function ne(e,t){if(1&e&&(u.TgZ(0,"tr",41),u.TgZ(1,"td",63),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td",48),u._uU(10),u.ALo(11,"number"),u.qZA(),u.TgZ(12,"td",48),u._uU(13),u.ALo(14,"number"),u.qZA(),u.TgZ(15,"td",48),u._uU(16),u.ALo(17,"number"),u.qZA(),u.TgZ(18,"td",48),u._uU(19),u.ALo(20,"number"),u.qZA(),u.TgZ(21,"td",48),u._uU(22),u.ALo(23,"number"),u.qZA(),u.qZA()),2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.product.Name),u.xp6(2),u.Oqu(e.UOM),u.xp6(2),u.Oqu(e.Quantity),u.xp6(2),u.hij(" ",u.xi3(11,9,e.Per_Unit_Price,"1.2-3")," "),u.xp6(3),u.hij(" \u20b9 ",u.xi3(14,12,e.Total_Price,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(17,15,e.TAX_Percentage,"1.2-3")," "),u.xp6(3),u.Oqu(u.xi3(20,18,e.TAX_Value,"1.2-3")),u.xp6(3),u.Oqu(u.xi3(23,21,e.Sub_Total,"1.2-3"))}}function ue(e,t){if(1&e&&(u.TgZ(0,"tbody",41),u.YNc(1,oe,4,0,"tr",27),u.YNc(2,ne,24,24,"tr",57),u.TgZ(3,"tr",58),u._UZ(4,"td",59),u.TgZ(5,"td",60),u._uU(6,"Sub Total"),u.qZA(),u.TgZ(7,"td",60),u._uU(8),u.ALo(9,"number"),u.qZA(),u.qZA(),u.TgZ(10,"tr",58),u._UZ(11,"td",59),u.TgZ(12,"td",60),u._uU(13,"GST"),u.qZA(),u.TgZ(14,"td",60),u._uU(15),u.ALo(16,"number"),u.qZA(),u.qZA(),u.TgZ(17,"tr",58),u._UZ(18,"td",59),u.TgZ(19,"td",60),u._uU(20,"Total"),u.qZA(),u.TgZ(21,"td",60),u._uU(22),u.ALo(23,"number"),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",0===(null==e.response?null:e.response.data.length)),u.xp6(1),u.Q6J("ngForOf",null==e.response?null:e.response.data.request_items),u.xp6(6),u.hij(" \u20b9 ",u.xi3(9,5,e.total,"1.2-3")," "),u.xp6(7),u.hij(" ",u.xi3(16,8,e.tax,"1.2-3")," "),u.xp6(7),u.hij(" \u20b9 ",u.xi3(23,11,e.total+e.tax,"1.2-3")," ")}}function le(e,t){if(1&e&&(u.TgZ(0,"table",51),u.TgZ(1,"thead",52),u.TgZ(2,"tr"),u.TgZ(3,"th",53),u._uU(4,"Sr.No"),u.qZA(),u.TgZ(5,"th",54),u._uU(6,"Item Name"),u.qZA(),u.TgZ(7,"th",54),u._uU(8,"UOM"),u.qZA(),u.TgZ(9,"th",55),u._uU(10,"Quantity"),u.qZA(),u.TgZ(11,"th",55),u._uU(12,"Per Unit Price \u20b9"),u.qZA(),u.TgZ(13,"th",55),u._uU(14,"Sub Total \u20b9"),u.qZA(),u.TgZ(15,"th",55),u._uU(16,"GST %"),u.qZA(),u.TgZ(17,"th",55),u._uU(18,"GST \u20b9"),u.qZA(),u.TgZ(19,"th",55),u._uU(20,"Total \u20b9"),u.qZA(),u.qZA(),u.qZA(),u.YNc(21,ue,24,14,"tbody",56),u.qZA()),2&e){const e=u.oxw();u.xp6(21),u.Q6J("ngIf",null==e.response?null:e.response.data)}}function ce(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"button",67),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).onReadyToDispatch()}),u._uU(1," Submit "),u.qZA()}if(2&e){const e=u.oxw(2);u.Q6J("disabled",e.requestForm.invalid||e.isWebRequest)}}function ge(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"button",68),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).onDispatch()}),u._uU(1," Submit & Dispatch "),u.qZA()}if(2&e){const e=u.oxw(2);u.Q6J("disabled",e.requestForm.invalid||e.isWebRequest)}}function de(e,t){if(1&e&&(u.TgZ(0,"div",64),u.YNc(1,ce,2,1,"button",65),u.YNc(2,ge,2,1,"button",66),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf","Open"==(null==e.response?null:e.response.data.Status)),u.xp6(1),u.Q6J("ngIf","Open"==(null==e.response?null:e.response.data.Status)||"Ready To Dispatch"==(null==e.response?null:e.response.data.Status))}}function pe(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",64),u.TgZ(1,"button",67),u.NdJ("click",function(){return u.CHM(e),u.oxw().onApproveSubmit()}),u._uU(2," Approve "),u.qZA(),u.qZA()}if(2&e){const e=u.oxw();u.xp6(1),u.Q6J("disabled",e.requestForm.invalid||e.isWebRequest)}}let Ze=(()=>{class e{constructor(e,t,r,s,a,i,o,n){this.bsModalRef=e,this._requestsPagesService=t,this.storageService=r,this._mastersService=s,this.formBuilder=a,this.spinner=i,this.router=o,this._requesterService=n,this.event=new u.vpe,this.notifyParent=new u.vpe,this.reqList=[],this.tableToatal=0,this.total=0,this.tax=0,this.isWebRequest=!1,this.LocationList=[],this.requestForm=this.formBuilder.group({ID:["",[Z.kI.required]],Location_ID:["",[Z.kI.required]],products:this.formBuilder.array([],{validators:Z.kI.required})})}ngOnInit(){console.log("this.IDDDDD---\x3e",this.ID),this.getAllLocationList(),this.viewgetByIDRequests(!0)}getAllLocationList(){this._requesterService.allLocationAPI({}).subscribe(e=>{e.error||(this.LocationList=e.data)})}triggerEvent(e){this.event.emit({data:e})}updateAvailableQty(){this.viewgetByIDRequests(!1)}viewgetByIDRequests(e){let t={id:this.ID};this.requestForm.value.Location_ID&&(t.Location_ID=this.requestForm.value.Location_ID),this._requestsPagesService.getByRequestsID(t).subscribe(t=>{if(t.error)this._mastersService.showalert(t.message?t.message:t.data[0].msg,"error");else{this.response=t,e&&this.requestForm.patchValue({ID:this.response.data.ID,Location_ID:this.response.data.Location_ID,Request_Department:this.response.data.Request_Department});const r=this.requestForm.get("products");r.controls=[],this.response.data.request_items.forEach(e=>{r.push(this.initiateForm({ID:e.ID,Product_ID:e.Product_ID,Name:e.product.Name,Price:e.Per_Unit_Price,Quantity:e.Quantity,TAX_Percentage:e.TAX_Percentage,UOM:e.UOM,Total_Price:e.Per_Unit_Price,TAX_Value:e.Per_Unit_Price*e.TAX_Percentage/100,product:e.product}))}),this.calculateTotal()}},e=>{console.log(e),this._mastersService.showalert(e.error,"error")})}close(){this.notifyParent.emit(!1),this.bsModalRef.hide()}editRow(e){e.get("isEditable").setValue(!0)}doneRow(e){e.get("isEditable").setValue(!1)}get getFormControls(){return this.requestForm.get("products")}initiateForm(e){return this.formBuilder.group({ID:[e.ID,Z.kI.required],Product_ID:[e.Product_ID,Z.kI.required],Name:[e.Name,Z.kI.required],UOM:[e.UOM,Z.kI.required],Available_Quantity:[e.product.AvailableQuantity,Z.kI.required],Price:[e.Price,Z.kI.required],TAX_Percentage:[e.TAX_Percentage,Z.kI.required],Quantity:[e.Quantity,[Z.kI.required,Z.kI.pattern("^(0|[1-9][0-9]*)$")]],Total_Price:[e.Price*e.Quantity,Z.kI.required],TAX_Value:[e.Price*e.Quantity*e.TAX_Percentage/100,Z.kI.required],isEditable:[!0]})}onQuantityChnage(e){var t,r,s;let a=Number(null===(t=e.get("Price"))||void 0===t?void 0:t.value)||0,i=Number(null===(r=e.get("Quantity"))||void 0===r?void 0:r.value)||0,o=Number(null===(s=e.get("TAX_Percentage"))||void 0===s?void 0:s.value)||0,n=a*i;e.get("Total_Price").setValue(n);let u=n*o/100;e.get("TAX_Value").setValue(u),this.calculateTotal()}calculateTotal(){var e,t;this.total=0,this.tax=0;let r=this.requestForm.get("products");for(let s of r.controls)this.total+=Number(null===(e=s.get("Total_Price"))||void 0===e?void 0:e.value),this.tax+=Number(null===(t=s.get("TAX_Value"))||void 0===t?void 0:t.value)}onDispatch(){this.onSubmit("Dispatched")}onReadyToDispatch(){this.onSubmit("Ready To Dispatch")}onSubmit(e){if(this.requestForm.value.products.filter(e=>e.Quantity>e.Available_Quantity).length>0&&"Dispatched"==e)this._mastersService.showalert("Stock not available","warning");else{let t=this.requestForm.value.Location_ID;this.isWebRequest=!0;let r={id:this.requestForm.value.ID,Status:"Dispatched"==e?"Open":e,products:this.requestForm.value.products};this.spinner.show(),this._requestsPagesService.updateRaiseProcurementRequest(r).subscribe(r=>{if(this.spinner.hide(),this.isWebRequest=!1,r.error)this._mastersService.showalert(r.message,"error");else{let s=this.requestForm.value.ID;this.requestForm.reset(),this.total=0,this.tax=0,this.requestForm.get("products").controls=[],this.notifyParent.emit(!0),this.bsModalRef.hide(),"Dispatched"==e?(this.notifyParent.emit(!1),this.bsModalRef.hide(),this.router.navigate(["/home/it-admin/dispatch/"+s+"/"+t])):this._mastersService.showalert(r.message,"success")}},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}}onApproveSubmit(){this.isWebRequest=!0;let e={id:this.requestForm.value.ID};this.spinner.show(),this._requestsPagesService.ApproveRaiseProcurementRequest(e).subscribe(e=>{this.spinner.hide(),this.isWebRequest=!1,e.error?this._mastersService.showalert(e.message,"error"):(this.notifyParent.emit(!0),this.bsModalRef.hide(),this._mastersService.showalert(e.message,"success"))},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(f.UZ),u.Y36(b.i),u.Y36(N.V),u.Y36(v.R),u.Y36(Z.qu),u.Y36(x.t2),u.Y36(s.F0),u.Y36(S.S))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-view-procurment"]],outputs:{notifyParent:"notifyParent"},decls:18,vars:8,consts:[[1,"modal-header","bg-light"],[1,"modal-title","pull-left","fw-bold","mr-3"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","mx-1"],["class","row mb-2",4,"ngIf"],[1,"row","h-100"],[3,"formGroup"],["class","col-3 d-lg-grid mb-2",4,"ngIf"],[1,"col-12","d-lg-grid"],[1,"table-responsive"],["class","table table-bordered table-sm fixed-table",4,"ngIf"],["class","\n              table table-bordered table-sm\n              shadow-sm\n              text-muted\n              white-space-nowap\n              mb-0\n              table-responsive\n            ",4,"ngIf"],[1,"col-12"],["class","text-start my-2",4,"ngIf"],[1,"row","mb-2"],[1,"col-auto"],[1,"fw-bold"],[1,"text-muted"],["class","col-auto",4,"ngIf"],["class","text-dark text-muted",4,"ngIf"],[1,"text-dark","text-muted"],[1,"badge","rounded-pill","bg-primary"],[1,"badge","rounded-pill","bg-success"],[1,"badge","rounded-pill","bg-info"],[1,"badge","rounded-pill","bg-danger"],["class","col-lg-6 col-12",4,"ngIf"],[1,"col-lg-6","col-12"],[4,"ngIf"],["aria-hidden","true",1,"fa","fa-star",2,"font-size","22px","color","#f0a316"],["aria-hidden","true",1,"fa","fa-star-o",2,"font-size","22px","color","#f0a316"],[1,"col-3","d-lg-grid","mb-2"],["for",""],[1,"text-dark","fw-bold"],[1,"text-danger","fw-bold"],["formControlName","Location_ID",1,"form-select",3,"change"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"table","table-bordered","table-sm","fixed-table"],[1,"table-light"],["scope","col"],[1,"bg-white"],["formArrayName","products",4,"ngFor","ngForOf"],[1,"text-end","fw-bold"],["formArrayName","products"],[3,"formGroupName",4,"ngIf"],[3,"formGroupName"],["type","number","placeholder","qty","formControlName","Quantity",1,"form-control",2,"max-width","100px",3,"ngClass","keyup"],[1,"text-end"],[1,"fa","fa-check",2,"margin","5px",3,"click"],[1,"fa","fa-pencil",2,"margin","5px",3,"click"],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0","table-responsive"],[1,"table-light","bg-light"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],["class","bg-white",4,"ngFor","ngForOf"],[1,"bg-light"],["colspan","7"],[1,"text-end","text-dark","fw-bold"],["colspan","9",1,"text-center"],[1,"text-muted",2,"font-size","large"],[2,"width","10px"],[1,"text-start","my-2"],["class","btn btn-dark btn-sm","style","width: 180px; font-size: 14px; margin-right: 10px",3,"disabled","click",4,"ngIf"],["class","btn btn-dark btn-sm","style","width: 180px; font-size: 14px",3,"disabled","click",4,"ngIf"],[1,"btn","btn-dark","btn-sm",2,"width","180px","font-size","14px","margin-right","10px",3,"disabled","click"],[1,"btn","btn-dark","btn-sm",2,"width","180px","font-size","14px",3,"disabled","click"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"h5",1),u._uU(2,"View Details"),u.qZA(),u.TgZ(3,"button",2),u.NdJ("click",function(){return t.close()}),u.qZA(),u.qZA(),u.TgZ(4,"div",3),u.YNc(5,M,32,14,"div",4),u._UZ(6,"hr"),u.YNc(7,z,3,2,"div",4),u.TgZ(8,"div",5),u.TgZ(9,"form",6),u.YNc(10,te,2,1,"div",7),u.TgZ(11,"div",8),u.TgZ(12,"div",9),u.YNc(13,ie,57,13,"table",10),u.YNc(14,le,22,1,"table",11),u.qZA(),u.qZA(),u.TgZ(15,"div",12),u.YNc(16,de,3,2,"div",13),u.YNc(17,pe,3,1,"div",13),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(5),u.Q6J("ngIf",null==t.response?null:t.response.data),u.xp6(2),u.Q6J("ngIf",null==t.response?null:t.response.data),u.xp6(2),u.Q6J("formGroup",t.requestForm),u.xp6(1),u.Q6J("ngIf","Open"==(null==t.response?null:t.response.data.Status)||"Ready To Dispatch"==(null==t.response?null:t.response.data.Status)),u.xp6(3),u.Q6J("ngIf",1==(null==t.response?null:t.response.data.HOD_Approved)&&1==(null==t.response?null:t.response.data.Head_Approved)),u.xp6(1),u.Q6J("ngIf",0==(null==t.response?null:t.response.data.HOD_Approved)&&(1==(null==t.response?null:t.response.data.Head_Approved)||0==(null==t.response?null:t.response.data.Head_Approved))||1==(null==t.response?null:t.response.data.HOD_Approved)&&0==(null==t.response?null:t.response.data.Head_Approved)),u.xp6(2),u.Q6J("ngIf",1==(null==t.response?null:t.response.data.HOD_Approved)&&1==(null==t.response?null:t.response.data.Head_Approved)),u.xp6(1),u.Q6J("ngIf",0==(null==t.response?null:t.response.data.HOD_Approved)&&(1==(null==t.response?null:t.response.data.Head_Approved)||0==(null==t.response?null:t.response.data.Head_Approved))||1==(null==t.response?null:t.response.data.HOD_Approved)&&0==(null==t.response?null:t.response.data.Head_Approved)))},directives:[U.O5,Z._Y,Z.JL,Z.sg,Z.EJ,Z.JJ,Z.u,Z.YN,Z.Kr,U.sg,Z.CE,Z.x0,Z.wV,Z.Fj,U.mk],pipes:[U.uU,U.JJ],styles:[""]}),e})();function he(e,t){if(1&e&&(u.TgZ(0,"div",7),u.TgZ(1,"span",8),u._uU(2,"Requester Department"),u.qZA(),u.TgZ(3,"p",9),u._uU(4),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(4),u.Oqu(null==e.response?null:e.response.data.user.Department)}}function me(e,t){if(1&e&&(u.TgZ(0,"div",7),u.TgZ(1,"span",8),u._uU(2,"Cost Center"),u.qZA(),u.TgZ(3,"p",9),u._uU(4),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(4),u.Oqu(null==e.response?null:e.response.data.user.Cost_Center)}}function Te(e,t){1&e&&(u.TgZ(0,"p",12),u.TgZ(1,"span",13),u._uU(2,"Open"),u.qZA(),u.qZA())}function Ae(e,t){1&e&&(u.TgZ(0,"p",12),u.TgZ(1,"span",14),u._uU(2,"Delivered"),u.qZA(),u.qZA())}function _e(e,t){1&e&&(u.TgZ(0,"p",12),u.TgZ(1,"span",15),u._uU(2,"In Progress"),u.qZA(),u.qZA())}function qe(e,t){1&e&&(u.TgZ(0,"p",12),u.TgZ(1,"span",16),u._uU(2,"Ready To Dispatch"),u.qZA(),u.qZA())}function fe(e,t){1&e&&(u.TgZ(0,"p",12),u.TgZ(1,"span",17),u._uU(2,"Dispatched"),u.qZA(),u.qZA())}function xe(e,t){1&e&&(u.TgZ(0,"p",12),u.TgZ(1,"span",14),u._uU(2,"Resolved"),u.qZA(),u.qZA())}function be(e,t){1&e&&(u.TgZ(0,"p",12),u.TgZ(1,"span",18),u._uU(2,"Discarded"),u.qZA(),u.qZA())}function ve(e,t){if(1&e&&(u.TgZ(0,"div",6),u.TgZ(1,"div",7),u.TgZ(2,"span",8),u._uU(3,"Request ID"),u.qZA(),u.TgZ(4,"p",9),u._uU(5),u.qZA(),u.qZA(),u.TgZ(6,"div",7),u.TgZ(7,"span",8),u._uU(8,"Department"),u.qZA(),u.TgZ(9,"p",9),u._uU(10),u.qZA(),u.qZA(),u.TgZ(11,"div",7),u.TgZ(12,"span",8),u._uU(13,"Requester Name"),u.qZA(),u.TgZ(14,"p",9),u._uU(15),u.qZA(),u.qZA(),u.YNc(16,he,5,1,"div",10),u.YNc(17,me,5,1,"div",10),u.TgZ(18,"div",7),u.TgZ(19,"span",8),u._uU(20,"Date"),u.qZA(),u.TgZ(21,"p",9),u._uU(22),u.ALo(23,"date"),u.qZA(),u.qZA(),u.TgZ(24,"div",7),u.TgZ(25,"span",8),u._uU(26,"Status"),u.qZA(),u.YNc(27,Te,3,0,"p",11),u.YNc(28,Ae,3,0,"p",11),u.YNc(29,_e,3,0,"p",11),u.YNc(30,qe,3,0,"p",11),u.YNc(31,fe,3,0,"p",11),u.YNc(32,xe,3,0,"p",11),u.YNc(33,be,3,0,"p",11),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(5),u.Oqu(null==e.response?null:e.response.data.Request_Number),u.xp6(5),u.Oqu(null==e.response?null:e.response.data.Request_Department),u.xp6(5),u.Oqu(null==e.response?null:e.response.data.user.Name),u.xp6(1),u.Q6J("ngIf",null!=(null==e.response?null:e.response.data.user.Department)),u.xp6(1),u.Q6J("ngIf",null!=(null==e.response?null:e.response.data.user.Cost_Center)),u.xp6(5),u.hij(" ",u.xi3(23,13,null==e.response?null:e.response.data.Request_Date,"dd/MM/yyyy")," "),u.xp6(5),u.Q6J("ngIf","Open"==(null==e.response?null:e.response.data.Status)),u.xp6(1),u.Q6J("ngIf","Delivered"==(null==e.response?null:e.response.data.Status)),u.xp6(1),u.Q6J("ngIf","In Progress"==(null==e.response?null:e.response.data.Status)),u.xp6(1),u.Q6J("ngIf","Ready To Dispatch"==(null==e.response?null:e.response.data.Status)),u.xp6(1),u.Q6J("ngIf","Dispatched"==(null==e.response?null:e.response.data.Status)),u.xp6(1),u.Q6J("ngIf","Resolved"==(null==e.response?null:e.response.data.Status)),u.xp6(1),u.Q6J("ngIf","Discarded"==(null==e.response?null:e.response.data.Status))}}function Ue(e,t){if(1&e&&(u.TgZ(0,"div",6),u.TgZ(1,"div",19),u.TgZ(2,"span",8),u._uU(3,"Name"),u.qZA(),u.TgZ(4,"p",9),u._uU(5),u.qZA(),u.qZA(),u.TgZ(6,"div",19),u.TgZ(7,"span",8),u._uU(8,"Location"),u.qZA(),u.TgZ(9,"p",9),u._uU(10),u.qZA(),u.qZA(),u.TgZ(11,"div",19),u.TgZ(12,"span",8),u._uU(13,"Priority"),u.qZA(),u.TgZ(14,"p",9),u._uU(15),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(5),u.Oqu(null==e.response||null==e.response.data.user?null:e.response.data.user.Name),u.xp6(5),u.Oqu(null==e.response||null==e.response.data.location?null:e.response.data.location.Name),u.xp6(5),u.Oqu(null==e.response?null:e.response.data.Priority)}}function ye(e,t){if(1&e&&(u.TgZ(0,"div",19),u.TgZ(1,"span",8),u._uU(2,"Assigned Engineer"),u.qZA(),u.TgZ(3,"p",9),u._uU(4),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(4),u.Oqu(null==e.response||null==e.response.data.assignUser?null:e.response.data.assignUser.Name)}}function we(e,t){if(1&e&&(u.TgZ(0,"div",6),u.TgZ(1,"div",19),u.TgZ(2,"span",8),u._uU(3,"Type Of Issue"),u.qZA(),u.TgZ(4,"p",9),u._uU(5),u.qZA(),u.qZA(),u.YNc(6,ye,5,1,"div",20),u.qZA()),2&e){const e=u.oxw();u.xp6(5),u.Oqu(null==e.response||null==e.response.data.issue_type?null:e.response.data.issue_type.Name),u.xp6(1),u.Q6J("ngIf",null!=(null==e.response||null==e.response.data.assignUser?null:e.response.data.assignUser.Name))}}function Pe(e,t){if(1&e&&(u.TgZ(0,"div",19),u.TgZ(1,"span",8),u._uU(2,"Assigned Time"),u.qZA(),u.TgZ(3,"p",9),u._uU(4),u.ALo(5,"date"),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(4),u.hij(" ",u.xi3(5,1,null==e.response?null:e.response.data.Assigned_Date,"d/M/yyyy, h:mm a ")," ")}}function Ce(e,t){if(1&e&&(u.TgZ(0,"div",19),u.TgZ(1,"span",8),u._uU(2,"Resolved Time"),u.qZA(),u.TgZ(3,"p",9),u._uU(4),u.ALo(5,"date"),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(4),u.hij(" ",u.xi3(5,1,null==e.response?null:e.response.data.Resolved_Date,"d/M/yyyy, h:mm a ")," ")}}function Ne(e,t){if(1&e&&(u.TgZ(0,"div",19),u.TgZ(1,"span",8),u._uU(2,"TAT"),u.qZA(),u.TgZ(3,"p",9),u._uU(4),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(4),u.hij(" ",null==e.response?null:e.response.data.TAT," ")}}function Se(e,t){if(1&e&&(u.TgZ(0,"div",6),u.YNc(1,Pe,6,4,"div",20),u.YNc(2,Ce,6,4,"div",20),u.YNc(3,Ne,5,1,"div",20),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",null!=(null==e.response?null:e.response.data.Assigned_Date)),u.xp6(1),u.Q6J("ngIf",null!=(null==e.response?null:e.response.data.Resolved_Date)),u.xp6(1),u.Q6J("ngIf",null!=(null==e.response?null:e.response.data.TAT))}}function Le(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",24),u._UZ(2,"i",25),u._UZ(3,"i",25),u._UZ(4,"i",25),u._UZ(5,"i",25),u._UZ(6,"i",25),u._UZ(7,"i",25),u._UZ(8,"i",25),u._UZ(9,"i",25),u._UZ(10,"i",25),u.qZA())}function De(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",24),u._UZ(2,"i",24),u._UZ(3,"i",25),u._UZ(4,"i",25),u._UZ(5,"i",25),u._UZ(6,"i",25),u._UZ(7,"i",25),u._UZ(8,"i",25),u._UZ(9,"i",25),u._UZ(10,"i",25),u.qZA())}function Ie(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",24),u._UZ(2,"i",24),u._UZ(3,"i",24),u._UZ(4,"i",25),u._UZ(5,"i",25),u._UZ(6,"i",25),u._UZ(7,"i",25),u._UZ(8,"i",25),u._UZ(9,"i",25),u._UZ(10,"i",25),u.qZA())}function Oe(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",24),u._UZ(2,"i",24),u._UZ(3,"i",24),u._UZ(4,"i",24),u._UZ(5,"i",25),u._UZ(6,"i",25),u._UZ(7,"i",25),u._UZ(8,"i",25),u._UZ(9,"i",25),u._UZ(10,"i",25),u.qZA())}function ke(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",24),u._UZ(2,"i",24),u._UZ(3,"i",24),u._UZ(4,"i",24),u._UZ(5,"i",24),u._UZ(6,"i",25),u._UZ(7,"i",25),u._UZ(8,"i",25),u._UZ(9,"i",25),u._UZ(10,"i",25),u.qZA())}function Re(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",24),u._UZ(2,"i",24),u._UZ(3,"i",24),u._UZ(4,"i",24),u._UZ(5,"i",24),u._UZ(6,"i",24),u._UZ(7,"i",25),u._UZ(8,"i",25),u._UZ(9,"i",25),u._UZ(10,"i",25),u.qZA())}function Je(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",24),u._UZ(2,"i",24),u._UZ(3,"i",24),u._UZ(4,"i",24),u._UZ(5,"i",24),u._UZ(6,"i",24),u._UZ(7,"i",24),u._UZ(8,"i",25),u._UZ(9,"i",25),u._UZ(10,"i",25),u.qZA())}function Me(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",24),u._UZ(2,"i",24),u._UZ(3,"i",24),u._UZ(4,"i",24),u._UZ(5,"i",24),u._UZ(6,"i",24),u._UZ(7,"i",24),u._UZ(8,"i",24),u._UZ(9,"i",25),u._UZ(10,"i",25),u.qZA())}function Qe(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",24),u._UZ(2,"i",24),u._UZ(3,"i",24),u._UZ(4,"i",24),u._UZ(5,"i",24),u._UZ(6,"i",24),u._UZ(7,"i",24),u._UZ(8,"i",24),u._UZ(9,"i",24),u._UZ(10,"i",25),u.qZA())}function Fe(e,t){1&e&&(u.TgZ(0,"p"),u._UZ(1,"i",24),u._UZ(2,"i",24),u._UZ(3,"i",24),u._UZ(4,"i",24),u._UZ(5,"i",24),u._UZ(6,"i",24),u._UZ(7,"i",24),u._UZ(8,"i",24),u._UZ(9,"i",24),u._UZ(10,"i",24),u.qZA())}function Ye(e,t){if(1&e&&(u.TgZ(0,"div",22),u.TgZ(1,"span",8),u._uU(2,"Rating"),u.qZA(),u.YNc(3,Le,11,0,"p",23),u.YNc(4,De,11,0,"p",23),u.YNc(5,Ie,11,0,"p",23),u.YNc(6,Oe,11,0,"p",23),u.YNc(7,ke,11,0,"p",23),u.YNc(8,Re,11,0,"p",23),u.YNc(9,Je,11,0,"p",23),u.YNc(10,Me,11,0,"p",23),u.YNc(11,Qe,11,0,"p",23),u.YNc(12,Fe,11,0,"p",23),u.qZA()),2&e){const e=u.oxw(2);u.xp6(3),u.Q6J("ngIf",1==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",2==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",3==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",4==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",5==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",6==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",7==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",8==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",9==(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf",10==(null==e.response?null:e.response.data.Rating))}}function Ee(e,t){if(1&e&&(u.TgZ(0,"div",22),u.TgZ(1,"span",8),u._uU(2,"Remark"),u.qZA(),u.TgZ(3,"p",9),u._uU(4),u.qZA(),u.qZA()),2&e){const e=u.oxw(2);u.xp6(4),u.Oqu(null==e.response?null:e.response.data.Requester_Remark)}}function He(e,t){if(1&e&&(u.TgZ(0,"div",6),u.YNc(1,Ye,13,10,"div",21),u.YNc(2,Ee,5,1,"div",21),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf","Resolved"==(null==e.response?null:e.response.data.Status)&&null!=(null==e.response?null:e.response.data.Rating)),u.xp6(1),u.Q6J("ngIf","Resolved"==(null==e.response?null:e.response.data.Status)&&null!=(null==e.response?null:e.response.data.Requester_Remark))}}function Ve(e,t){if(1&e&&(u.TgZ(0,"div",6),u.TgZ(1,"div",7),u.TgZ(2,"span",8),u._uU(3,"Description"),u.qZA(),u.TgZ(4,"p",9),u._uU(5),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(5),u.Oqu(null==e.response?null:e.response.data.Description)}}function $e(e,t){if(1&e&&(u.TgZ(0,"div",6),u.TgZ(1,"div",7),u.TgZ(2,"span",8),u._uU(3,"Support Comment"),u.qZA(),u.TgZ(4,"p",9),u._uU(5),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(5),u.Oqu(null==e.response?null:e.response.data.Support_Comment)}}let Be=(()=>{class e{constructor(e,t,r){this.bsModalRef=e,this._requestsPagesService=t,this._mastersService=r,this.event=new u.vpe,this.reqList=[],this.tableToatal=0,this.response=[]}ngOnInit(){this.viewgetByIDRequests()}triggerEvent(e){this.event.emit({data:e})}viewgetByIDRequests(){this._requestsPagesService.getByRequestsID({id:this.ID}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.response=e,e.data.request_items.forEach(e=>{this.tableToatal+=e.Total_Price}))},e=>{console.log(e),this._mastersService.showalert(e.error,"error")})}close(){this.bsModalRef.hide()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(f.UZ),u.Y36(b.i),u.Y36(v.R))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-view-service-request"]],decls:14,vars:7,consts:[[1,"modal-header","bg-light"],[1,"modal-title","pull-left","fw-bold","mr-3"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","mx-1"],["class","row mb-2",4,"ngIf"],[1,"row"],[1,"row","mb-2"],[1,"col-auto"],[1,"fw-bold"],[1,"text-muted"],["class","col-auto",4,"ngIf"],["class","text-dark text-muted",4,"ngIf"],[1,"text-dark","text-muted"],[1,"badge","rounded-pill","bg-primary"],[1,"badge","rounded-pill","bg-success"],[1,"badge","rounded-pill","bg-warning"],[1,"badge","rounded-pill","bg-info"],[1,"badge","rounded-pillbg-secondary"],[1,"badge","rounded-pill","bg-danger"],[1,"col-lg-4","col-12"],["class","col-lg-4 col-12",4,"ngIf"],["class","col-lg-6 col-12",4,"ngIf"],[1,"col-lg-6","col-12"],[4,"ngIf"],["aria-hidden","true",1,"fa","fa-star",2,"font-size","22px","color","#f0a316"],["aria-hidden","true",1,"fa","fa-star-o",2,"font-size","22px","color","#f0a316"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"h5",1),u._uU(2,"View Details"),u.qZA(),u.TgZ(3,"button",2),u.NdJ("click",function(){return t.close()}),u.qZA(),u.qZA(),u.TgZ(4,"div",3),u.YNc(5,ve,34,16,"div",4),u.TgZ(6,"div",5),u._UZ(7,"hr"),u.qZA(),u.YNc(8,Ue,16,3,"div",4),u.YNc(9,we,7,2,"div",4),u.YNc(10,Se,4,3,"div",4),u.YNc(11,He,3,2,"div",4),u.YNc(12,Ve,6,1,"div",4),u.YNc(13,$e,6,1,"div",4),u.qZA()),2&e&&(u.xp6(5),u.Q6J("ngIf",null==t.response?null:t.response.data),u.xp6(3),u.Q6J("ngIf",null==t.response?null:t.response.data),u.xp6(1),u.Q6J("ngIf",null==t.response?null:t.response.data),u.xp6(1),u.Q6J("ngIf",null==t.response?null:t.response.data),u.xp6(1),u.Q6J("ngIf",null==t.response?null:t.response.data),u.xp6(1),u.Q6J("ngIf",null==t.response?null:t.response.data),u.xp6(1),u.Q6J("ngIf",null!=(null==t.response?null:t.response.data.Support_Comment)))},directives:[U.O5],pipes:[U.uU],styles:[".checked[_ngcontent-%COMP%]{color:orange}"]}),e})();var je=r(9457);new g.WM({"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Headers":"Content-Type"});let Xe=(()=>{class e{constructor(e,t){this.http=e,this.toastr=t,this.perPage=10}setHeaders(){return(new g.WM).set("Content-Type","application/x-www-form-urlencoded")}addPO(e){return this.http.post(`${c.N.api}/purchase/addPurchaseOrder`,e)}deletePO(e){return this.http.post(`${c.N.api}/purchase/deletePurchaseOrder`,e)}addPOHistoryAPI(e){return this.http.post(`${c.N.api}/POHistory/addPOHistory/`,e)}getAllPOHistory(e){return this.http.post(`${c.N.api}/purchase/getPurchaseOrders`,e)}getByIdPOHistory(e){return this.http.post(`${c.N.api}/purchase/getPurchaseOrder`,e)}sendPoPdf(e){return this.http.post(`${c.N.api}/purchase/sendPOPDF`,e)}getPOHistoryExport(e){return this.http.post(`${c.N.api}/purchase/getPurchaseOrder`,e)}downloadPOHistory(e){return this.http.post(`${c.N.api}/purchase/getPOExport`,e,{responseType:"blob"})}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(g.eN),u.LFG(d.eP))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ge=r(4249),We=r(2317),ze=r(4396),Ke=r(3556),et=r(1384);function tt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",16),u.TgZ(1,"app-kpi-counter",17),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw(2).KPIChange(t.key,t.title)}),u.qZA(),u.qZA()}if(2&e){const e=u.oxw().$implicit;u.xp6(1),u.Q6J("title",e.title)("counter",e.counter)("icon",e.icon)("color",e.color)}}function rt(e,t){if(1&e&&(u.ynx(0),u.YNc(1,tt,2,4,"div",15),u.BQk()),2&e){const e=t.$implicit,r=u.oxw(2);u.xp6(1),u.Q6J("ngIf","Deviation Approval"!=e.key||"IT"!=r.role&&"Admin"!=r.role)}}function st(e,t){if(1&e&&(u.TgZ(0,"div",12),u.TgZ(1,"div",13),u.YNc(2,rt,2,1,"ng-container",14),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(2),u.Q6J("ngForOf",e.kpiData)}}function at(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",20),u.TgZ(1,"app-kpi-counter",17),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(2).serviceKPIChange(t.key,t.title)}),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit;u.xp6(1),u.Q6J("title",e.title)("counter",e.counter)("icon",e.icon)("color",e.color)}}function it(e,t){if(1&e&&(u.TgZ(0,"div",18),u.TgZ(1,"div",13),u.YNc(2,at,2,4,"div",19),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(2),u.Q6J("ngForOf",e.kpiDataForService)}}function ot(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",37),u.TgZ(2,"b",38),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function nt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.ALo(13,"date"),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.qZA(),u.TgZ(16,"td",39),u._uU(17),u.ALo(18,"number"),u.qZA(),u.TgZ(19,"td",40),u.TgZ(20,"button",41),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(4).ViewProcurmentModal(t.ID)}),u._uU(21," View Details "),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.Request_Number),u.xp6(2),u.Oqu(e.Request_Department),u.xp6(2),u.Oqu(e.user.Name),u.xp6(2),u.AsE("",null==e.user?null:e.user.Department," ",null!=e.user&&e.user.Cost_Center?"("+(null==e.user?null:e.user.Cost_Center)+")":"",""),u.xp6(2),u.Oqu(u.xi3(13,9,e.Request_Date,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.location.Name),u.xp6(2),u.hij(" ",u.xi3(18,12,e.Request_Amount,"1.2-3")," ")}}function ut(e,t){if(1&e&&(u.TgZ(0,"tbody",36),u.YNc(1,ot,4,0,"tr",11),u.YNc(2,nt,22,15,"tr",14),u.qZA()),2&e){const e=u.oxw(3);u.xp6(1),u.Q6J("ngIf",0===e.response.data.length),u.xp6(1),u.Q6J("ngForOf",e.response.data)}}function lt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",42),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw(3).pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw(3).changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw(3);u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.response.total)("lastPage",e.response.totalPages)}}function ct(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"div",1),u.TgZ(2,"div",21),u.TgZ(3,"div",22),u.TgZ(4,"span",23),u._UZ(5,"img",24),u.qZA(),u.TgZ(6,"input",25),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).search=t})("keyup",function(t){return u.CHM(e),u.oxw(2).searchTasks(t)}),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"table",26),u.TgZ(8,"thead",27),u.TgZ(9,"tr"),u.TgZ(10,"th",28),u._uU(11,"Sr.No"),u.qZA(),u.TgZ(12,"th",29),u._uU(13,"Request ID"),u.qZA(),u.TgZ(14,"th",30),u._uU(15,"Department"),u.qZA(),u.TgZ(16,"th",30),u._uU(17,"Requester Name"),u.qZA(),u.TgZ(18,"th",30),u._uU(19,"Requester Department(Cost Center)"),u.qZA(),u.TgZ(20,"th",31),u._uU(21,"Request Date"),u.qZA(),u.TgZ(22,"th",32),u._uU(23,"Location"),u.qZA(),u.TgZ(24,"th",30),u._uU(25,"Total \u20b9"),u.qZA(),u.TgZ(26,"th",33),u._uU(27,"Action"),u.qZA(),u.qZA(),u.qZA(),u.YNc(28,ut,3,2,"tbody",34),u.qZA(),u.YNc(29,lt,1,4,"app-pagination",35),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(6),u.Q6J("ngModel",e.search),u.xp6(22),u.Q6J("ngIf",null==e.response?null:e.response.data),u.xp6(1),u.Q6J("ngIf",null==e.response?null:e.response.data)}}function gt(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",37),u.TgZ(2,"b",38),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function dt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.ALo(13,"date"),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.qZA(),u.TgZ(16,"td",39),u._uU(17),u.ALo(18,"number"),u.qZA(),u.TgZ(19,"td",40),u.TgZ(20,"button",41),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(4).ViewProcurmentModal(t.ID)}),u._uU(21," View Details "),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.Request_Number),u.xp6(2),u.Oqu(e.Request_Department),u.xp6(2),u.Oqu(e.user.Name),u.xp6(2),u.AsE("",null==e.user?null:e.user.Department," ",null!=e.user&&e.user.Cost_Center?"("+(null==e.user?null:e.user.Cost_Center)+")":"",""),u.xp6(2),u.Oqu(u.xi3(13,9,e.Request_Date,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.location.Name),u.xp6(2),u.hij(" ",u.xi3(18,12,e.Request_Amount,"1.2-3")," ")}}function pt(e,t){if(1&e&&(u.TgZ(0,"tbody",36),u.YNc(1,gt,4,0,"tr",11),u.YNc(2,dt,22,15,"tr",14),u.qZA()),2&e){const e=u.oxw(3);u.xp6(1),u.Q6J("ngIf",0===e.response.data.length),u.xp6(1),u.Q6J("ngForOf",e.response.data)}}function Zt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",42),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw(3).pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw(3).changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw(3);u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.response.total)("lastPage",e.response.totalPages)}}function ht(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"div",1),u.TgZ(2,"div",21),u.TgZ(3,"div",22),u.TgZ(4,"span",23),u._UZ(5,"img",24),u.qZA(),u.TgZ(6,"input",25),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).search=t})("keyup",function(t){return u.CHM(e),u.oxw(2).searchTasks(t)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"div",43),u.TgZ(8,"button",44),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).ProcurementRequestOpenExportToExcel()}),u._uU(9," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"table",26),u.TgZ(11,"thead",27),u.TgZ(12,"tr"),u.TgZ(13,"th",28),u._uU(14,"Sr.No"),u.qZA(),u.TgZ(15,"th",29),u._uU(16,"Request ID"),u.qZA(),u.TgZ(17,"th",30),u._uU(18,"Department"),u.qZA(),u.TgZ(19,"th",30),u._uU(20,"Requester Name"),u.qZA(),u.TgZ(21,"th",30),u._uU(22,"Requester Department(Cost Center)"),u.qZA(),u.TgZ(23,"th",31),u._uU(24,"Request Date"),u.qZA(),u.TgZ(25,"th",32),u._uU(26,"Location"),u.qZA(),u.TgZ(27,"th",30),u._uU(28,"Total \u20b9"),u.qZA(),u.TgZ(29,"th",33),u._uU(30,"Action"),u.qZA(),u.qZA(),u.qZA(),u.YNc(31,pt,3,2,"tbody",34),u.qZA(),u.YNc(32,Zt,1,4,"app-pagination",35),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(6),u.Q6J("ngModel",e.search),u.xp6(25),u.Q6J("ngIf",null==e.response?null:e.response.data),u.xp6(1),u.Q6J("ngIf",null==e.response?null:e.response.data)}}function mt(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",37),u.TgZ(2,"b",38),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function Tt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.ALo(13,"date"),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.qZA(),u.TgZ(16,"td",39),u._uU(17),u.ALo(18,"number"),u.qZA(),u.TgZ(19,"td",40),u.TgZ(20,"button",41),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(4).ViewProcurmentModal(t.ID)}),u._uU(21," View Details "),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.Request_Number),u.xp6(2),u.Oqu(e.Request_Department),u.xp6(2),u.Oqu(e.user.Name),u.xp6(2),u.AsE("",null==e.user?null:e.user.Department," ",null!=e.user&&e.user.Cost_Center?"("+(null==e.user?null:e.user.Cost_Center)+")":"",""),u.xp6(2),u.Oqu(u.xi3(13,9,e.Request_Date,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.location.Name),u.xp6(2),u.hij(" ",u.xi3(18,12,e.Request_Amount,"1.2-3")," ")}}function At(e,t){if(1&e&&(u.TgZ(0,"tbody",36),u.YNc(1,mt,4,0,"tr",11),u.YNc(2,Tt,22,15,"tr",14),u.qZA()),2&e){const e=u.oxw(3);u.xp6(1),u.Q6J("ngIf",0===e.response.data.length),u.xp6(1),u.Q6J("ngForOf",e.response.data)}}function _t(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",42),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw(3).pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw(3).changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw(3);u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.response.total)("lastPage",e.response.totalPages)}}function qt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"div",45),u.TgZ(2,"div",46),u.TgZ(3,"div",22),u.TgZ(4,"span",23),u._UZ(5,"img",24),u.qZA(),u.TgZ(6,"input",25),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).search=t})("keyup",function(t){return u.CHM(e),u.oxw(2).searchTasks(t)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"div",43),u.TgZ(8,"button",44),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).ProcurementRequestReadyToDispatchExportToExcel()}),u._uU(9," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"table",26),u.TgZ(11,"thead",27),u.TgZ(12,"tr"),u.TgZ(13,"th",28),u._uU(14,"Sr.No"),u.qZA(),u.TgZ(15,"th",29),u._uU(16,"Request ID"),u.qZA(),u.TgZ(17,"th",30),u._uU(18,"Department"),u.qZA(),u.TgZ(19,"th",30),u._uU(20,"Requester Name"),u.qZA(),u.TgZ(21,"th",30),u._uU(22,"Requester Department(Cost Center)"),u.qZA(),u.TgZ(23,"th",31),u._uU(24,"Request Date"),u.qZA(),u.TgZ(25,"th",32),u._uU(26,"Location"),u.qZA(),u.TgZ(27,"th",30),u._uU(28,"Total \u20b9"),u.qZA(),u.TgZ(29,"th",33),u._uU(30,"Action"),u.qZA(),u.qZA(),u.qZA(),u.YNc(31,At,3,2,"tbody",34),u.qZA(),u.YNc(32,_t,1,4,"app-pagination",35),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(6),u.Q6J("ngModel",e.search),u.xp6(25),u.Q6J("ngIf",null==e.response?null:e.response.data),u.xp6(1),u.Q6J("ngIf",null==e.response?null:e.response.data)}}function ft(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",37),u.TgZ(2,"b",38),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function xt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.ALo(13,"date"),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.qZA(),u.TgZ(16,"td",39),u._uU(17),u.ALo(18,"number"),u.qZA(),u.TgZ(19,"td",40),u.TgZ(20,"button",41),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(4).ViewProcurmentModal(t.ID)}),u._uU(21," View Details "),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.Request_Number),u.xp6(2),u.Oqu(e.Request_Department),u.xp6(2),u.Oqu(e.user.Name),u.xp6(2),u.AsE("",null==e.user?null:e.user.Department," ",null!=e.user&&e.user.Cost_Center?"("+(null==e.user?null:e.user.Cost_Center)+")":"",""),u.xp6(2),u.Oqu(u.xi3(13,9,e.Request_Date,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.location.Name),u.xp6(2),u.hij(" ",u.xi3(18,12,e.Request_Amount,"1.2-3")," ")}}function bt(e,t){if(1&e&&(u.TgZ(0,"tbody",36),u.YNc(1,ft,4,0,"tr",11),u.YNc(2,xt,22,15,"tr",14),u.qZA()),2&e){const e=u.oxw(3);u.xp6(1),u.Q6J("ngIf",0===e.response.data.length),u.xp6(1),u.Q6J("ngForOf",e.response.data)}}function vt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",42),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw(3).pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw(3).changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw(3);u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.response.total)("lastPage",e.response.totalPages)}}function Ut(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"div",45),u.TgZ(2,"div",46),u.TgZ(3,"div",22),u.TgZ(4,"span",23),u._UZ(5,"img",24),u.qZA(),u.TgZ(6,"input",25),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).search=t})("keyup",function(t){return u.CHM(e),u.oxw(2).searchTasks(t)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"div",43),u.TgZ(8,"button",44),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).ProcurementRequestDispatchedExportToExcel()}),u._uU(9," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"table",26),u.TgZ(11,"thead",27),u.TgZ(12,"tr"),u.TgZ(13,"th",28),u._uU(14,"Sr.No"),u.qZA(),u.TgZ(15,"th",29),u._uU(16,"Request ID"),u.qZA(),u.TgZ(17,"th",30),u._uU(18,"Department"),u.qZA(),u.TgZ(19,"th",30),u._uU(20,"Requester Name"),u.qZA(),u.TgZ(21,"th",30),u._uU(22,"Requester Department(Cost Center)"),u.qZA(),u.TgZ(23,"th",31),u._uU(24,"Request Date"),u.qZA(),u.TgZ(25,"th",32),u._uU(26,"Location"),u.qZA(),u.TgZ(27,"th",30),u._uU(28,"Total \u20b9"),u.qZA(),u.TgZ(29,"th",33),u._uU(30,"Action"),u.qZA(),u.qZA(),u.qZA(),u.YNc(31,bt,3,2,"tbody",34),u.qZA(),u.YNc(32,vt,1,4,"app-pagination",35),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(6),u.Q6J("ngModel",e.search),u.xp6(25),u.Q6J("ngIf",null==e.response?null:e.response.data),u.xp6(1),u.Q6J("ngIf",null==e.response?null:e.response.data)}}function yt(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",37),u.TgZ(2,"b",38),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function wt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.ALo(13,"date"),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.qZA(),u.TgZ(16,"td",39),u._uU(17),u.ALo(18,"number"),u.qZA(),u.TgZ(19,"td",40),u.TgZ(20,"button",41),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(4).ViewProcurmentModal(t.ID)}),u._uU(21," View Details "),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.Request_Number),u.xp6(2),u.Oqu(e.Request_Department),u.xp6(2),u.Oqu(e.user.Name),u.xp6(2),u.AsE("",null==e.user?null:e.user.Department," ",null!=e.user&&e.user.Cost_Center?"("+(null==e.user?null:e.user.Cost_Center)+")":"",""),u.xp6(2),u.Oqu(u.xi3(13,9,e.Request_Date,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.location.Name),u.xp6(2),u.hij(" ",u.xi3(18,12,e.Request_Amount,"1.2-3")," ")}}function Pt(e,t){if(1&e&&(u.TgZ(0,"tbody",36),u.YNc(1,yt,4,0,"tr",11),u.YNc(2,wt,22,15,"tr",14),u.qZA()),2&e){const e=u.oxw(3);u.xp6(1),u.Q6J("ngIf",0===e.response.data.length),u.xp6(1),u.Q6J("ngForOf",e.response.data)}}function Ct(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",42),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw(3).pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw(3).changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw(3);u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.response.total)("lastPage",e.response.totalPages)}}function Nt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"div",45),u.TgZ(2,"div",46),u.TgZ(3,"div",22),u.TgZ(4,"span",23),u._UZ(5,"img",24),u.qZA(),u.TgZ(6,"input",25),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).search=t})("keyup",function(t){return u.CHM(e),u.oxw(2).searchTasks(t)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"div",43),u.TgZ(8,"button",44),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).ProcurementRequestDeliveredExportToExcel()}),u._uU(9," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"table",26),u.TgZ(11,"thead",27),u.TgZ(12,"tr"),u.TgZ(13,"th",28),u._uU(14,"Sr.No"),u.qZA(),u.TgZ(15,"th",29),u._uU(16,"Request ID"),u.qZA(),u.TgZ(17,"th",30),u._uU(18,"Department"),u.qZA(),u.TgZ(19,"th",30),u._uU(20,"Requester Name"),u.qZA(),u.TgZ(21,"th",30),u._uU(22,"Requester Department(Cost Center)"),u.qZA(),u.TgZ(23,"th",31),u._uU(24,"Request Date"),u.qZA(),u.TgZ(25,"th",32),u._uU(26,"Location"),u.qZA(),u.TgZ(27,"th",30),u._uU(28,"Total \u20b9"),u.qZA(),u.TgZ(29,"th",33),u._uU(30,"Action"),u.qZA(),u.qZA(),u.qZA(),u.YNc(31,Pt,3,2,"tbody",34),u.qZA(),u.YNc(32,Ct,1,4,"app-pagination",35),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(6),u.Q6J("ngModel",e.search),u.xp6(25),u.Q6J("ngIf",null==e.response?null:e.response.data),u.xp6(1),u.Q6J("ngIf",null==e.response?null:e.response.data)}}function St(e,t){if(1&e&&(u.TgZ(0,"option",67),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.ID),u.xp6(1),u.hij(" ",e.Name," ")}}function Lt(e,t){1&e&&(u.TgZ(0,"div",70),u._uU(1," Vendor is required "),u.qZA())}function Dt(e,t){if(1&e&&(u.TgZ(0,"div",68),u.YNc(1,Lt,2,0,"div",69),u.qZA()),2&e){const e=u.oxw(3);u.xp6(1),u.Q6J("ngIf",e.f.Vendor_ID.errors.required)}}function It(e,t){1&e&&(u.TgZ(0,"div",70),u._uU(1," Date is required "),u.qZA())}function Ot(e,t){if(1&e&&(u.TgZ(0,"div",68),u.YNc(1,It,2,0,"div",69),u.qZA()),2&e){const e=u.oxw(3);u.xp6(1),u.Q6J("ngIf",e.f.PO_Date.errors.required)}}function kt(e,t){1&e&&(u.TgZ(0,"div",70),u._uU(1," Department is required "),u.qZA())}function Rt(e,t){if(1&e&&(u.TgZ(0,"div",68),u.YNc(1,kt,2,0,"div",69),u.qZA()),2&e){const e=u.oxw(4);u.xp6(1),u.Q6J("ngIf",e.f.department.errors.required)}}function Jt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",48),u.TgZ(1,"label",49),u.TgZ(2,"small",50),u._uU(3,"Department"),u.qZA(),u.TgZ(4,"span",71),u._uU(5,"*"),u.qZA(),u.qZA(),u._UZ(6,"br"),u.TgZ(7,"div",72),u.TgZ(8,"input",73),u.NdJ("change",function(){return u.CHM(e),u.oxw(3).onChangeDepartment()}),u.qZA(),u.TgZ(9,"label",74),u._uU(10,"IT"),u.qZA(),u.qZA(),u.TgZ(11,"div",72),u.TgZ(12,"input",75),u.NdJ("change",function(){return u.CHM(e),u.oxw(3).onChangeDepartment()}),u.qZA(),u.TgZ(13,"label",76),u._uU(14,"Admin"),u.qZA(),u.qZA(),u.YNc(15,Rt,2,1,"div",55),u.qZA()}if(2&e){const e=u.oxw(3);u.xp6(15),u.Q6J("ngIf",e.f.department.touched&&e.f.department.errors)}}function Mt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr",79),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._UZ(8,"input",80),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u.TgZ(12,"input",81),u.NdJ("keyup",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw(3).onQuantityChnage(t)}),u.qZA(),u.qZA(),u.TgZ(13,"td"),u.TgZ(14,"input",82),u.NdJ("keyup",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw(3).onQuantityChnage(t)}),u.qZA(),u.qZA(),u.TgZ(15,"td",39),u._uU(16),u.ALo(17,"number"),u.qZA(),u.TgZ(18,"td",39),u._uU(19),u.ALo(20,"number"),u.qZA(),u.TgZ(21,"td",39),u._uU(22),u.ALo(23,"number"),u.qZA(),u.TgZ(24,"td",39),u._uU(25),u.ALo(26,"number"),u.qZA(),u.TgZ(27,"td"),u.TgZ(28,"i",83),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().index;return u.oxw(3).deleteRow(t)}),u.qZA(),u.TgZ(29,"i",84),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw(3).doneRow(t)}),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(),t=e.index,r=e.$implicit;let s,a,i;u.Q6J("formGroupName",t),u.xp6(2),u.Oqu(t+1),u.xp6(2),u.Oqu(r.get("ALT_Code").value),u.xp6(2),u.Oqu(r.get("Name").value),u.xp6(2),u.Q6J("ngClass",null!=(s=r.get("Description"))&&s.touched&&null!=(s=r.get("Description"))&&s.errors?"has-error":""),u.xp6(2),u.Oqu(r.get("UOM").value),u.xp6(2),u.Q6J("ngClass",null!=(a=r.get("Quantity"))&&a.touched&&null!=(a=r.get("Quantity"))&&a.errors?"has-error":""),u.xp6(2),u.Q6J("ngClass",null!=(i=r.get("Quantity"))&&i.touched&&null!=(i=r.get("Quantity"))&&i.errors?"has-error":""),u.xp6(2),u.hij(" ",u.xi3(17,12,r.get("Total_Price").value,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(20,15,r.get("TAX_Percentage").value,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(23,18,r.get("TAX_Value").value,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(26,21,r.get("Total_Price").value+r.get("TAX_Value").value,"1.2-3")," ")}}function Qt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td",39),u._uU(12),u.qZA(),u.TgZ(13,"td",39),u._uU(14),u.ALo(15,"number"),u.qZA(),u.TgZ(16,"td",39),u._uU(17),u.ALo(18,"number"),u.qZA(),u.TgZ(19,"td",39),u._uU(20),u.ALo(21,"number"),u.qZA(),u.TgZ(22,"td",39),u._uU(23),u.ALo(24,"number"),u.qZA(),u.TgZ(25,"td",39),u._uU(26),u.ALo(27,"number"),u.qZA(),u.TgZ(28,"td"),u.TgZ(29,"i",85),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw(3).editRow(t)}),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(),t=e.index,r=e.$implicit;u.xp6(2),u.Oqu(t+1),u.xp6(2),u.Oqu(r.get("ALT_Code").value),u.xp6(2),u.Oqu(r.get("Name").value),u.xp6(2),u.Oqu(r.get("Description").value),u.xp6(2),u.Oqu(r.get("UOM").value),u.xp6(2),u.Oqu(r.get("Quantity").value),u.xp6(2),u.hij(" ",u.xi3(15,11,r.get("Price").value,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(18,14,r.get("Total_Price").value,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(21,17,r.get("TAX_Percentage").value,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(24,20,r.get("TAX_Value").value,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(27,23,r.get("Total_Price").value+r.get("TAX_Value").value,"1.2-3")," ")}}function Ft(e,t){if(1&e&&(u.ynx(0,77),u.YNc(1,Mt,30,24,"tr",78),u.YNc(2,Qt,30,26,"tr",11),u.BQk()),2&e){const e=t.$implicit;u.xp6(1),u.Q6J("ngIf",e.get("isEditable").value),u.xp6(1),u.Q6J("ngIf",!e.get("isEditable").value)}}const Yt=function(){return{standalone:!0}};function Et(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"form",47),u.TgZ(2,"div",13),u.TgZ(3,"div",48),u.TgZ(4,"label",49),u.TgZ(5,"small",50),u._uU(6,"Select Vendor"),u.qZA(),u.TgZ(7,"span",51),u._uU(8,"*"),u.qZA(),u.qZA(),u.TgZ(9,"select",52),u.TgZ(10,"option",53),u._uU(11,"Select Vendor"),u.qZA(),u.YNc(12,St,2,2,"option",54),u.qZA(),u.YNc(13,Dt,2,1,"div",55),u.qZA(),u.TgZ(14,"div",48),u.TgZ(15,"label",49),u.TgZ(16,"small",56),u._uU(17,"PO Date"),u.qZA(),u.TgZ(18,"span",51),u._uU(19,"*"),u.qZA(),u.qZA(),u._UZ(20,"input",57),u.YNc(21,Ot,2,1,"div",55),u.qZA(),u.YNc(22,Jt,16,1,"div",58),u.qZA(),u.TgZ(23,"div",45),u.TgZ(24,"div",21),u.TgZ(25,"ng-select",59),u.NdJ("change",function(t){return u.CHM(e),u.oxw(2).addRow(t)})("search",function(t){return u.CHM(e),u.oxw(2).searchTermChanged.next(t.term)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(26,"table",60),u.TgZ(27,"thead",27),u.TgZ(28,"tr"),u.TgZ(29,"th",28),u._uU(30,"Sr.No"),u.qZA(),u.TgZ(31,"th",29),u._uU(32,"Item Code"),u.qZA(),u.TgZ(33,"th",29),u._uU(34,"Item"),u.qZA(),u.TgZ(35,"th",29),u._uU(36,"Description"),u.qZA(),u.TgZ(37,"th",29),u._uU(38,"UOM"),u.qZA(),u.TgZ(39,"th",30),u._uU(40,"Quantity"),u.qZA(),u.TgZ(41,"th",30),u._uU(42,"Per Unit Price \u20b9"),u.qZA(),u.TgZ(43,"th",30),u._uU(44,"Sub Total \u20b9"),u.qZA(),u.TgZ(45,"th",30),u._uU(46,"GST %"),u.qZA(),u.TgZ(47,"th",30),u._uU(48,"GST Value \u20b9"),u.qZA(),u.TgZ(49,"th",30),u._uU(50,"Total \u20b9"),u.qZA(),u.TgZ(51,"th",30),u._uU(52,"Action"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(53,"tbody"),u.YNc(54,Ft,3,2,"ng-container",61),u.TgZ(55,"tr"),u._UZ(56,"td"),u._UZ(57,"td"),u._UZ(58,"td"),u._UZ(59,"td"),u._UZ(60,"td"),u._UZ(61,"td"),u._UZ(62,"td"),u._UZ(63,"td"),u._UZ(64,"td"),u.TgZ(65,"td",39),u._uU(66,"Sub Total"),u.qZA(),u.TgZ(67,"td",39),u._uU(68),u.ALo(69,"number"),u.qZA(),u.qZA(),u.TgZ(70,"tr"),u._UZ(71,"td"),u._UZ(72,"td"),u._UZ(73,"td"),u._UZ(74,"td"),u._UZ(75,"td"),u._UZ(76,"td"),u._UZ(77,"td"),u._UZ(78,"td"),u._UZ(79,"td"),u.TgZ(80,"td",39),u._uU(81,"GST"),u.qZA(),u.TgZ(82,"td",39),u._uU(83),u.ALo(84,"number"),u.qZA(),u.qZA(),u.TgZ(85,"tr"),u._UZ(86,"td"),u._UZ(87,"td"),u._UZ(88,"td"),u._UZ(89,"td"),u._UZ(90,"td"),u._UZ(91,"td"),u._UZ(92,"td"),u._UZ(93,"td"),u._UZ(94,"td"),u.TgZ(95,"td",39),u._uU(96,"Total"),u.qZA(),u.TgZ(97,"td",39),u._uU(98),u.ALo(99,"number"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(100,"div",13),u.TgZ(101,"div",62),u.TgZ(102,"label",49),u.TgZ(103,"small",56),u._uU(104,"Terms And Condtions"),u.qZA(),u.qZA(),u.TgZ(105,"textarea",63),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).TermsAndConditions=t}),u._uU(106,"            "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(107,"div",64),u.TgZ(108,"div",65),u.TgZ(109,"button",66),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).onSubmit()}),u._uU(110," Submit "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(1),u.Q6J("formGroup",e.raisePOForm),u.xp6(11),u.Q6J("ngForOf",e.vendorList),u.xp6(1),u.Q6J("ngIf",e.f.Vendor_ID.touched&&e.f.Vendor_ID.errors),u.xp6(8),u.Q6J("ngIf",e.f.PO_Date.touched&&e.f.PO_Date.errors),u.xp6(1),u.Q6J("ngIf","System Admin"==e.role),u.xp6(3),u.Q6J("loading",e.searchFlag)("items",e.SearchDataList),u.xp6(29),u.Q6J("ngForOf",e.getFormControls.controls),u.xp6(14),u.Oqu(u.xi3(69,14,e.total,"1.2-3")),u.xp6(15),u.Oqu(u.xi3(84,17,e.tax,"1.2-3")),u.xp6(15),u.Oqu(u.xi3(99,20,e.total+e.tax,"1.2-3")),u.xp6(7),u.Q6J("ngModel",e.TermsAndConditions)("ngModelOptions",u.DdM(23,Yt)),u.xp6(4),u.Q6J("disabled",e.raisePOForm.invalid||e.isWebRequest)}}function Ht(e,t){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,ct,30,3,"div",11),u.YNc(2,ht,33,3,"div",11),u.YNc(3,qt,33,3,"div",11),u.YNc(4,Ut,33,3,"div",11),u.YNc(5,Nt,33,3,"div",11),u.YNc(6,Et,111,24,"div",11),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf","Deviation Approval"===e.activeKPI&&"IT"!=e.role&&"Admin"!=e.role),u.xp6(1),u.Q6J("ngIf","Open"===e.activeKPI),u.xp6(1),u.Q6J("ngIf","Ready To Dispatch"===e.activeKPI),u.xp6(1),u.Q6J("ngIf","Dispatched"===e.activeKPI),u.xp6(1),u.Q6J("ngIf","Delivered"===e.activeKPI),u.xp6(1),u.Q6J("ngIf","Raise PO"===e.activeKPI)}}function Vt(e,t){1&e&&(u.TgZ(0,"th",31),u._uU(1," Assign To "),u.qZA())}function $t(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",37),u.TgZ(2,"b",38),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function Bt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"td"),u.TgZ(1,"a",87),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw(4).AssignToModal(t.ID)}),u._uU(2),u.qZA(),u.qZA()}if(2&e){const e=u.oxw().$implicit;u.xp6(2),u.Oqu(null==e.Assigned_To?"Assign":null==e.assignUser?null:e.assignUser.Name)}}function jt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.ALo(13,"date"),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.qZA(),u.TgZ(16,"td"),u._uU(17),u.qZA(),u.YNc(18,Bt,3,1,"td",11),u.TgZ(19,"td",40),u.TgZ(20,"button",41),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(4).ViewServiceRequestModal(t.ID)}),u._uU(21," View Details "),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit,r=t.index,s=u.oxw(4);u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.Request_Number),u.xp6(2),u.Oqu(e.Request_Department),u.xp6(2),u.Oqu(e.user.Name),u.xp6(2),u.AsE("",null==e.user?null:e.user.Department," ",null!=e.user&&e.user.Cost_Center?"("+(null==e.user?null:e.user.Cost_Center)+")":"",""),u.xp6(2),u.Oqu(u.xi3(13,10,e.Request_Date,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.Description),u.xp6(2),u.Oqu(e.location.Name),u.xp6(1),u.Q6J("ngIf","System Admin"==s.role||"IT System Admin"==s.role||"Admin System Admin"==s.role)}}function Xt(e,t){if(1&e&&(u.TgZ(0,"tbody",36),u.YNc(1,$t,4,0,"tr",11),u.YNc(2,jt,22,13,"tr",14),u.qZA()),2&e){const e=u.oxw(3);u.xp6(1),u.Q6J("ngIf",0===e.response.data.length),u.xp6(1),u.Q6J("ngForOf",e.response.data)}}function Gt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",42),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw(3).pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw(3).changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw(3);u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.response.total)("lastPage",e.response.totalPages)}}function Wt(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"div",45),u.TgZ(2,"div",46),u.TgZ(3,"div",22),u.TgZ(4,"span",23),u._UZ(5,"img",24),u.qZA(),u.TgZ(6,"input",25),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).search=t})("keyup",function(t){return u.CHM(e),u.oxw(2).searchTasks(t)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"div",43),u.TgZ(8,"button",44),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).ServiceRequestOpenExportToExcel()}),u._uU(9," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"table",26),u.TgZ(11,"thead",27),u.TgZ(12,"tr"),u.TgZ(13,"th",28),u._uU(14,"Sr.No"),u.qZA(),u.TgZ(15,"th",29),u._uU(16,"Request ID"),u.qZA(),u.TgZ(17,"th",30),u._uU(18,"Department"),u.qZA(),u.TgZ(19,"th",29),u._uU(20,"Name"),u.qZA(),u.TgZ(21,"th",30),u._uU(22,"Requester Department(Cost Center)"),u.qZA(),u.TgZ(23,"th",31),u._uU(24,"Request Date"),u.qZA(),u.TgZ(25,"th",31),u._uU(26,"Description"),u.qZA(),u.TgZ(27,"th",32),u._uU(28,"Location"),u.qZA(),u.YNc(29,Vt,2,0,"th",86),u.TgZ(30,"th",33),u._uU(31,"Action"),u.qZA(),u.qZA(),u.qZA(),u.YNc(32,Xt,3,2,"tbody",34),u.qZA(),u.YNc(33,Gt,1,4,"app-pagination",35),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(6),u.Q6J("ngModel",e.search),u.xp6(23),u.Q6J("ngIf","System Admin"==e.role||"IT System Admin"==e.role||"Admin System Admin"==e.role),u.xp6(3),u.Q6J("ngIf",null==e.response?null:e.response.data),u.xp6(1),u.Q6J("ngIf",null==e.response?null:e.response.data)}}function zt(e,t){1&e&&(u.TgZ(0,"th",31),u._uU(1," Assign To "),u.qZA())}function Kt(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",37),u.TgZ(2,"b",38),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function er(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"td"),u.TgZ(1,"a",87),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw(4).AssignToModal(t.ID)}),u._uU(2),u.qZA(),u.qZA()}if(2&e){const e=u.oxw().$implicit;u.xp6(2),u.Oqu(null==e.Assigned_To?"Assign":null==e.assignUser?null:e.assignUser.Name)}}function tr(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.ALo(13,"date"),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.qZA(),u.TgZ(16,"td"),u._uU(17),u.qZA(),u.YNc(18,er,3,1,"td",11),u.TgZ(19,"td",40),u.TgZ(20,"button",41),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(4).ViewServiceRequestModal(t.ID)}),u._uU(21," View Details "),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit,r=t.index,s=u.oxw(4);u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.Request_Number),u.xp6(2),u.Oqu(e.Request_Department),u.xp6(2),u.Oqu(e.user.Name),u.xp6(2),u.AsE("",null==e.user?null:e.user.Department," ",null!=e.user&&e.user.Cost_Center?"("+(null==e.user?null:e.user.Cost_Center)+")":"",""),u.xp6(2),u.Oqu(u.xi3(13,10,e.Request_Date,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.Description),u.xp6(2),u.Oqu(e.location.Name),u.xp6(1),u.Q6J("ngIf","System Admin"==s.role||"IT System Admin"==s.role||"Admin System Admin"==s.role)}}function rr(e,t){if(1&e&&(u.TgZ(0,"tbody",36),u.YNc(1,Kt,4,0,"tr",11),u.YNc(2,tr,22,13,"tr",14),u.qZA()),2&e){const e=u.oxw(3);u.xp6(1),u.Q6J("ngIf",0===e.response.data.length),u.xp6(1),u.Q6J("ngForOf",e.response.data)}}function sr(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",42),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw(3).pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw(3).changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw(3);u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.response.total)("lastPage",e.response.totalPages)}}function ar(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"div",45),u.TgZ(2,"div",46),u.TgZ(3,"div",22),u.TgZ(4,"span",23),u._UZ(5,"img",24),u.qZA(),u.TgZ(6,"input",25),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).search=t})("keyup",function(t){return u.CHM(e),u.oxw(2).searchTasks(t)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"div",43),u.TgZ(8,"button",44),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).ServiceRequestOverdueExportToExcel()}),u._uU(9," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"table",26),u.TgZ(11,"thead",27),u.TgZ(12,"tr"),u.TgZ(13,"th",28),u._uU(14,"Sr.No"),u.qZA(),u.TgZ(15,"th",29),u._uU(16,"Request ID"),u.qZA(),u.TgZ(17,"th",30),u._uU(18,"Department"),u.qZA(),u.TgZ(19,"th",29),u._uU(20,"Name"),u.qZA(),u.TgZ(21,"th",30),u._uU(22,"Requester Department(Cost Center)"),u.qZA(),u.TgZ(23,"th",31),u._uU(24,"Request Date"),u.qZA(),u.TgZ(25,"th",31),u._uU(26,"Description"),u.qZA(),u.TgZ(27,"th",32),u._uU(28,"Location"),u.qZA(),u.YNc(29,zt,2,0,"th",86),u.TgZ(30,"th",33),u._uU(31,"Action"),u.qZA(),u.qZA(),u.qZA(),u.YNc(32,rr,3,2,"tbody",34),u.qZA(),u.YNc(33,sr,1,4,"app-pagination",35),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(6),u.Q6J("ngModel",e.search),u.xp6(23),u.Q6J("ngIf","System Admin"==e.role||"IT System Admin"==e.role||"Admin System Admin"==e.role),u.xp6(3),u.Q6J("ngIf",null==e.response?null:e.response.data),u.xp6(1),u.Q6J("ngIf",null==e.response?null:e.response.data)}}function ir(e,t){1&e&&(u.TgZ(0,"th",31),u._uU(1," Assign To "),u.qZA())}function or(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",37),u.TgZ(2,"b",38),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function nr(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"td"),u.TgZ(1,"a",87),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw(4).AssignToModal(t.ID)}),u._uU(2),u.qZA(),u.qZA()}if(2&e){const e=u.oxw().$implicit;u.xp6(2),u.Oqu(null==e.Assigned_To?"Assign":null==e.assignUser?null:e.assignUser.Name)}}function ur(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.ALo(13,"date"),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.qZA(),u.TgZ(16,"td"),u._uU(17),u.qZA(),u.YNc(18,nr,3,1,"td",11),u.TgZ(19,"td",40),u.TgZ(20,"button",41),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(4).ViewServiceRequestModal(t.ID)}),u._uU(21," View Details "),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit,r=t.index,s=u.oxw(4);u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.Request_Number),u.xp6(2),u.Oqu(e.Request_Department),u.xp6(2),u.Oqu(e.user.Name),u.xp6(2),u.AsE("",null==e.user?null:e.user.Department," ",null!=e.user&&e.user.Cost_Center?"("+(null==e.user?null:e.user.Cost_Center)+")":"",""),u.xp6(2),u.Oqu(u.xi3(13,10,e.Request_Date,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.Description),u.xp6(2),u.Oqu(e.location.Name),u.xp6(1),u.Q6J("ngIf","System Admin"==s.role||"IT System Admin"==s.role||"Admin System Admin"==s.role)}}function lr(e,t){if(1&e&&(u.TgZ(0,"tbody",36),u.YNc(1,or,4,0,"tr",11),u.YNc(2,ur,22,13,"tr",14),u.qZA()),2&e){const e=u.oxw(3);u.xp6(1),u.Q6J("ngIf",0===e.response.data.length),u.xp6(1),u.Q6J("ngForOf",e.response.data)}}function cr(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",42),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw(3).pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw(3).changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw(3);u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.response.total)("lastPage",e.response.totalPages)}}function gr(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"div",45),u.TgZ(2,"div",46),u.TgZ(3,"div",22),u.TgZ(4,"span",23),u._UZ(5,"img",24),u.qZA(),u.TgZ(6,"input",25),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).search=t})("keyup",function(t){return u.CHM(e),u.oxw(2).searchTasks(t)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"div",43),u.TgZ(8,"button",44),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).ServiceRequestResolvedExportToExcel()}),u._uU(9," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"table",26),u.TgZ(11,"thead",27),u.TgZ(12,"tr"),u.TgZ(13,"th",28),u._uU(14,"Sr.No"),u.qZA(),u.TgZ(15,"th",29),u._uU(16,"Request ID"),u.qZA(),u.TgZ(17,"th",30),u._uU(18,"Department"),u.qZA(),u.TgZ(19,"th",29),u._uU(20,"Name"),u.qZA(),u.TgZ(21,"th",30),u._uU(22,"Requester Department(Cost Center)"),u.qZA(),u.TgZ(23,"th",31),u._uU(24,"Request Date"),u.qZA(),u.TgZ(25,"th",31),u._uU(26,"Description"),u.qZA(),u.TgZ(27,"th",32),u._uU(28,"Location"),u.qZA(),u.YNc(29,ir,2,0,"th",86),u.TgZ(30,"th",33),u._uU(31,"Action"),u.qZA(),u.qZA(),u.qZA(),u.YNc(32,lr,3,2,"tbody",34),u.qZA(),u.YNc(33,cr,1,4,"app-pagination",35),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(6),u.Q6J("ngModel",e.search),u.xp6(23),u.Q6J("ngIf","System Admin"==e.role||"IT System Admin"==e.role||"Admin System Admin"==e.role),u.xp6(3),u.Q6J("ngIf",null==e.response?null:e.response.data),u.xp6(1),u.Q6J("ngIf",null==e.response?null:e.response.data)}}function dr(e,t){1&e&&(u.TgZ(0,"th",31),u._uU(1," Assign To "),u.qZA())}function pr(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",37),u.TgZ(2,"b",38),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function Zr(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"td"),u.TgZ(1,"a",87),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw(4).AssignToModal(t.ID)}),u._uU(2),u.qZA(),u.qZA()}if(2&e){const e=u.oxw().$implicit;u.xp6(2),u.Oqu(null==e.Assigned_To?"Assign":null==e.assignUser?null:e.assignUser.Name)}}function hr(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.ALo(13,"date"),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.qZA(),u.TgZ(16,"td"),u._uU(17),u.qZA(),u.YNc(18,Zr,3,1,"td",11),u.TgZ(19,"td",40),u.TgZ(20,"button",41),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(4).ViewServiceRequestModal(t.ID)}),u._uU(21," View Details "),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit,r=t.index,s=u.oxw(4);u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.Request_Number),u.xp6(2),u.Oqu(e.Request_Department),u.xp6(2),u.Oqu(e.user.Name),u.xp6(2),u.AsE("",null==e.user?null:e.user.Department," ",null!=e.user&&e.user.Cost_Center?"("+(null==e.user?null:e.user.Cost_Center)+")":"",""),u.xp6(2),u.Oqu(u.xi3(13,10,e.Request_Date,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.Description),u.xp6(2),u.Oqu(e.location.Name),u.xp6(1),u.Q6J("ngIf","System Admin"==s.role||"IT System Admin"==s.role||"Admin System Admin"==s.role)}}function mr(e,t){if(1&e&&(u.TgZ(0,"tbody",36),u.YNc(1,pr,4,0,"tr",11),u.YNc(2,hr,22,13,"tr",14),u.qZA()),2&e){const e=u.oxw(3);u.xp6(1),u.Q6J("ngIf",0===e.response.data.length),u.xp6(1),u.Q6J("ngForOf",e.response.data)}}function Tr(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",42),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw(3).pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw(3).changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw(3);u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.response.total)("lastPage",e.response.totalPages)}}function Ar(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"div",45),u.TgZ(2,"div",46),u.TgZ(3,"div",22),u.TgZ(4,"span",23),u._UZ(5,"img",24),u.qZA(),u.TgZ(6,"input",25),u.NdJ("ngModelChange",function(t){return u.CHM(e),u.oxw(2).search=t})("keyup",function(t){return u.CHM(e),u.oxw(2).searchTasks(t)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"div",43),u.TgZ(8,"button",44),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).ServiceRequestDiscardedExportToExcel()}),u._uU(9," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"table",26),u.TgZ(11,"thead",27),u.TgZ(12,"tr"),u.TgZ(13,"th",28),u._uU(14,"Sr.No"),u.qZA(),u.TgZ(15,"th",29),u._uU(16,"Request ID"),u.qZA(),u.TgZ(17,"th",30),u._uU(18,"Department"),u.qZA(),u.TgZ(19,"th",29),u._uU(20,"Name"),u.qZA(),u.TgZ(21,"th",30),u._uU(22,"Requester Department(Cost Center)"),u.qZA(),u.TgZ(23,"th",31),u._uU(24,"Request Date"),u.qZA(),u.TgZ(25,"th",31),u._uU(26,"Description"),u.qZA(),u.TgZ(27,"th",32),u._uU(28,"Location"),u.qZA(),u.YNc(29,dr,2,0,"th",86),u.TgZ(30,"th",33),u._uU(31,"Action"),u.qZA(),u.qZA(),u.qZA(),u.YNc(32,mr,3,2,"tbody",34),u.qZA(),u.YNc(33,Tr,1,4,"app-pagination",35),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(6),u.Q6J("ngModel",e.search),u.xp6(23),u.Q6J("ngIf","System Admin"==e.role||"IT System Admin"==e.role||"Admin System Admin"==e.role),u.xp6(3),u.Q6J("ngIf",null==e.response?null:e.response.data),u.xp6(1),u.Q6J("ngIf",null==e.response?null:e.response.data)}}function _r(e,t){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,Wt,34,4,"div",11),u.YNc(2,ar,34,4,"div",11),u.YNc(3,gr,34,4,"div",11),u.YNc(4,Ar,34,4,"div",11),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf","Open"===e.serviceactiveKPI),u.xp6(1),u.Q6J("ngIf","Overdue"===e.serviceactiveKPI),u.xp6(1),u.Q6J("ngIf","Resolved"===e.serviceactiveKPI),u.xp6(1),u.Q6J("ngIf","Discarded"===e.serviceactiveKPI)}}const qr=function(e){return{"btn-color-1":e}};let fr=(()=>{class e{constructor(e,t,r,s,a,i,o,n,u,l,c,g){var d,p,h,m;if(this.formBuilder=e,this.modalService=t,this.dataservice=r,this._requestsPagesService=s,this._requesterService=a,this._mastersService=i,this._poService=o,this._excelService=n,this.storageService=u,this.spinner=l,this.router=c,this._authService=g,this.eventsCounter=new A.xQ,this.ngUnsubscribe=new A.xQ,this.typeofRequest="Procurement",this.activeKPI="Open",this.activeTitle="Open",this.serviceactiveTitle="Open",this.serviceactiveKPI="Open",this.response=[],this.status="Open",this.search="",this.vendorList=[],this.SearchDataList=[],this.searchTermChanged=new A.xQ,this.searchTermChanged1=new A.xQ,this.total=0,this.tax=0,this.isWebRequest=!1,this.TermsAndConditions="1.Invoice to be made as per PO<br/>\n2.If any material will be damage/Faulty, we will return at time of delivery<br/>\n3. Material Replacement will be applicable <br/>\n4.Payment Term:- 7 days after bill submission",this.kpiData=[{icon:"raise-PO.png",title:"Deviation Approval",counter:0,color:"#35baba",key:"Deviation Approval"},{icon:"Open.png",title:"Open",counter:0,color:"#3a77af",key:"Open"},{icon:"Ready-to-dispatch.png",title:"Ready To Dispatch",counter:0,color:"#c48920",key:"Ready To Dispatch"},{icon:"Disaptch-material.png",title:"Dispatched",counter:0,color:"#e22789",key:"Dispatched"},{icon:"Deleiverd.png",title:"Delivered",counter:0,color:"#0baa4b",key:"Delivered"},{icon:"raise-PO.png",title:"Raise PO",counter:0,color:"#35baba",key:"Raise PO"}],this.kpiDataForService=[{icon:"Open.png",title:"Open",counter:0,color:"#3a77af",key:"Open"},{icon:"Overdue.png",title:"Overdue",counter:0,color:"#c48920",key:"Overdue"},{icon:"Disaptch-material.png",title:"Resolved",counter:0,color:"#e22789",key:"Resolved"},{icon:"Deleiverd.png",title:"Discarded",counter:0,color:"#0baa4b",key:"Discarded"}],this.excelRequestsList=[],this.searchFlag=!1,this.role=this.storageService.secureStorage.getItem("role"),this.raisePOForm=this.formBuilder.group({Vendor_ID:["",Z.kI.required],PO_Date:[null,Z.kI.required],department:[g.getDepartment(this.role),Z.kI.required],products:this.formBuilder.array([],{validators:Z.kI.required}),TermsAndCondition:[null]}),this.products=null===(p=null===(d=this.router.getCurrentNavigation())||void 0===d?void 0:d.extras.state)||void 0===p?void 0:p.data,this.products){console.log(null===(m=null===(h=this.router.getCurrentNavigation())||void 0===h?void 0:h.extras.state)||void 0===m?void 0:m.data),this.KPIChange("Raise PO","Raise PO"),this.raisePOForm.patchValue({department:this.products.Department});for(let e=0;e<this.products.productList.length;e++){let t=this.products.productList[e];this.raisePOForm.get("products").push(this.initiateForm(t))}this.calculateTotal()}this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.getSearchProductList(e)}),this.dataservice.setTitle("Requests"),this.getKpisList(),this.getRequests(),this.getAllVendorList()}searchTasks(e){0===this.searchTermChanged1.observers.length&&this.searchTermChanged1.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.currentPage=1,this.getRequests()}),this.searchTermChanged1.next(e)}get f(){return this.raisePOForm.controls}KPIChange(e,t){this.activeKPI=e,console.log("this.activeKPI",this.activeKPI),this.activeTitle=t,this.currentPage=1,this.getRequests()}serviceKPIChange(e,t){this.serviceactiveKPI=e,this.activeTitle=t,console.log("this.serviceactiveKPI",this.activeKPI),console.log("this.activeTitle",this.activeKPI),this.currentPage=1,this.getRequests()}onChange(e){this.typeofRequest=e,console.log("this.activeTitle",this.typeofRequest),this.currentPage=1,("Procurement"==e||"Service Request"==e)&&(this.activeTitle="Open",this.getKpisList(),this.getRequests())}onChangeDepartment(){this.tax=0,this.total=0,this.raisePOForm.get("products").controls=[],this.SearchDataList=[]}getKpisList(){this._requestsPagesService.getRequestsKPIService({Request_Type:this.typeofRequest}).subscribe(e=>{"Procurement"==this.typeofRequest?(this.KPIlist=e.data,this.kpiData.forEach((e,t)=>{e.counter=0}),e.data.forEach((e,t)=>{let r=this.kpiData.findIndex(t=>t.title===e.Status);-1!=r&&(this.kpiData[r].counter=e.StatusCount)})):"Service Request"==this.typeofRequest&&(this.KPIlist=e.data,this.kpiDataForService.forEach((e,t)=>{e.counter=0}),this.KPIlist=e.data,e.data.forEach((e,t)=>{let r=this.kpiDataForService.findIndex(t=>t.title===e.Status);-1!=r&&(this.kpiDataForService[r].counter=e.StatusCount)}))},e=>{400===e.status&&(this._mastersService=e.error.message)})}getRequests(){this._requesterService.getRequests({pageNumber:this.currentPage,numberOfRows:this.perPage,search:this.search,Request_Type:this.typeofRequest,Status:this.activeTitle}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.response=e},e=>{console.log(e),this._mastersService.showalert(e.error,"error")})}getAllVendorList(){this._mastersService.allMastersVendors({}).subscribe(e=>{e.error||(this.vendorList=e.data)})}onVendorChange(e){this.Address=e}getSearchProductList(e){const t={department:this.raisePOForm.value.department,search:e};this.searchFlag=!0,this._requesterService.searchProductAPI(t).subscribe(e=>{e.error||(this.SearchDataList=e.data),this.searchFlag=!1})}addRow(e){let t=e;t.Quantity=0,this.raisePOForm.get("products").push(this.initiateForm(t)),this.SearchDataList=[]}deleteRow(e){this.raisePOForm.get("products").removeAt(e)}editRow(e){e.get("isEditable").setValue(!0)}doneRow(e){e.get("isEditable").setValue(!1)}get getFormControls(){return this.raisePOForm.get("products")}initiateForm(e){return this.formBuilder.group({ID:[e.ID,Z.kI.required],ALT_Code:[e.ALT_Code],Name:[e.Name,Z.kI.required],Description:[null],Address:[null],Vendor_Name:[null],TAX_Number:[null],UOM:[e.UOM,Z.kI.required],Price:[e.Price,Z.kI.required],TAX_Percentage:[e.TAX_Percentage,Z.kI.required],Quantity:[e.Quantity,[Z.kI.required,Z.kI.min(1),Z.kI.pattern("^(0|[1-9][0-9]*)$")]],Total_Price:[e.Price*e.Quantity,Z.kI.required],TAX_Value:[e.Price*e.Quantity*e.TAX_Percentage/100,Z.kI.required],isEditable:[!0]})}onQuantityChnage(e){var t,r,s;let a=Number(null===(t=e.get("Price"))||void 0===t?void 0:t.value)||0,i=Number(null===(r=e.get("Quantity"))||void 0===r?void 0:r.value)||0,o=Number(null===(s=e.get("TAX_Percentage"))||void 0===s?void 0:s.value)||0,n=a*i;e.get("Total_Price").setValue(n);let u=n*o/100;e.get("TAX_Value").setValue(u),this.calculateTotal()}calculateTotal(){var e,t;this.total=0,this.tax=0;let r=this.raisePOForm.get("products");for(let s of r.controls)this.total+=Number(null===(e=s.get("Total_Price"))||void 0===e?void 0:e.value),this.tax+=Number(null===(t=s.get("TAX_Value"))||void 0===t?void 0:t.value)}ViewProcurmentModal(e){this.bsModalRef1=this.modalService.show(Ze,{initialState:{type:"view-procurment",ID:e},animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-lg requests-modal"}),this.bsModalRef1.content.notifyParent.subscribe(e=>{e&&(this.getKpisList(),this.getRequests())})}ViewServiceRequestModal(e){this.bsModalRef1=this.modalService.show(Be,{initialState:{type:"view-service-request",ID:e},animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-lg"})}AssignToModal(e){this.bsModalRef1=this.modalService.show(C,{initialState:{type:"Assign-To",ID:e},animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-sm"}),this.bsModalRef1.content.notifyParent.subscribe(e=>{e&&this.getRequests()})}onSubmit(){this.isWebRequest=!0;let e={Vendor_ID:this.raisePOForm.value.Vendor_ID,PO_Date:this.raisePOForm.value.PO_Date,department:this.raisePOForm.value.department,products:this.raisePOForm.value.products,TermsAndCondition:this.TermsAndConditions};this.spinner.show(),this._poService.addPO(e).subscribe(e=>{this.spinner.hide(),this.isWebRequest=!1,e.error?this._mastersService.showalert(e.message,"error"):(this._mastersService.showalert(e.message,"success"),this.resetForm())},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}resetForm(){this.raisePOForm.reset(),this.raisePOForm.patchValue({Vendor_ID:"",PO_Date:null}),this.raisePOForm.get("products").controls=[],this.total=0,this.tax=0}pager(e){this.currentPage=e,this.getRequests()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getRequests()}ServiceRequestOpenExportToExcel(){this._excelService.downloadServiceRequestExport({search:this.search,Request_Type:this.typeofRequest,Status:this.activeTitle}).subscribe(e=>(0,je.saveAs)(e,"Service-Request-Status-Open.xlsx"))}ServiceRequestOverdueExportToExcel(){this._excelService.downloadServiceRequestExport({search:this.search,Request_Type:this.typeofRequest,Status:this.activeTitle}).subscribe(e=>(0,je.saveAs)(e,"Service-Request-Status-Overdue.xlsx"))}ServiceRequestResolvedExportToExcel(){this._excelService.downloadServiceRequestExport({search:this.search,Request_Type:this.typeofRequest,Status:this.activeTitle}).subscribe(e=>(0,je.saveAs)(e,"Service-Request-Status-Resolved.xlsx"))}ServiceRequestDiscardedExportToExcel(){this._excelService.downloadServiceRequestExport({search:this.search,Request_Type:this.typeofRequest,Status:this.activeTitle}).subscribe(e=>(0,je.saveAs)(e,"Service-Request-Status-Discarded.xlsx"))}ProcurementRequestOpenExportToExcel(){this._excelService.downloadProcurementRequestExport({search:this.search,Request_Type:this.typeofRequest,Status:this.activeTitle}).subscribe(e=>(0,je.saveAs)(e,"Procurement-Request-Status-Open.xlsx"))}ProcurementRequestReadyToDispatchExportToExcel(){this._excelService.downloadProcurementRequestExport({search:this.search,Request_Type:this.typeofRequest,Status:this.activeTitle}).subscribe(e=>(0,je.saveAs)(e,"Procurement-Request-Status-Ready To Dispatch.xlsx"))}ProcurementRequestDispatchedExportToExcel(){this._excelService.downloadProcurementRequestExport({search:this.search,Request_Type:this.typeofRequest,Status:this.activeTitle}).subscribe(e=>(0,je.saveAs)(e,"Procurement-Request-Status-Dispatched.xlsx"))}ProcurementRequestDeliveredExportToExcel(){this._excelService.downloadProcurementRequestExport({search:this.search,Request_Type:this.typeofRequest,Status:this.activeTitle}).subscribe(e=>(0,je.saveAs)(e,"Procurement-Request-Status-Delivered.xlsx"))}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(Z.qu),u.Y36(f.tT),u.Y36(l.D),u.Y36(b.i),u.Y36(S.S),u.Y36(v.R),u.Y36(Xe),u.Y36(Ge.x),u.Y36(N.V),u.Y36(x.t2),u.Y36(s.F0),u.Y36(We.$))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-requests"]],decls:18,vars:11,consts:[[1,"container-fluid","mb-2","main-container"],[1,"row","my-2"],[1,"col-auto"],["type","button",1,"btn","btn-light","pro",3,"ngClass","click"],[1,"badge","badge-primary","bg-primary"],["type","button",1,"btn","btn-light","sr-request",3,"ngClass","click"],["class","card card-body shadow w-auto mb-2",4,"ngIf"],["class","card card-body shadow w-auto mb-2","style","cursor: pointer !important",4,"ngIf"],[1,"row","h-100","mb-2"],[1,"col-lg"],[1,"fw-bold","float-left","text-muted"],[4,"ngIf"],[1,"card","card-body","shadow","w-auto","mb-2"],[1,"row"],[4,"ngFor","ngForOf"],["class","col-auto custom-col-kpi-counter","style","cursor: pointer !important",4,"ngIf"],[1,"col-auto","custom-col-kpi-counter",2,"cursor","pointer !important"],[3,"title","counter","icon","color","click"],[1,"card","card-body","shadow","w-auto","mb-2",2,"cursor","pointer !important"],["class","custom-col-kpi-counter",4,"ngFor","ngForOf"],[1,"custom-col-kpi-counter"],[1,"col-lg-4","col-12"],[1,"input-group","input-group"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col",1,"w-10"],["scope","col"],["scope","col",1,"w-6"],["scope","col",1,"w-6","text-center"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],[1,"bg-white"],["colspan","9",1,"text-center"],[1,"text-muted",2,"font-size","large"],[1,"text-end"],[1,"text-center"],[1,"btn","btn-dark","btn-sm",2,"width","100px","font-size","10px",3,"click"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"],[1,"col-auto","ms-auto"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"],[1,"row","d-flex","my-2"],[1,"col-lg-5","col-12"],[3,"formGroup"],[1,"col-lg-3","col-12"],["for",""],[1,"text-dark","fw-bold"],[1,"fw-bold","text-danger"],["formControlName","Vendor_ID",1,"form-select"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"fw-bold"],["type","Date","formControlName","PO_Date",1,"form-control","input-group-sm"],["class","col-lg-3 col-12",4,"ngIf"],["appendTo","body","bindLabel","Name","bindValue","Name","placeholder","Search...",1,"ngselect",3,"loading","items","change","search"],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-3"],["formArrayName","products",4,"ngFor","ngForOf"],[1,"col-lg-6"],["rows","4","cols","50",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","mb-2","my-3"],[1,"col-12"],[1,"btn","btn-dark",2,"width","100px","font-size","10px",3,"disabled","click"],[3,"value"],[1,"text-danger"],["class","small",4,"ngIf"],[1,"small"],[1,"text-danger","fw-bold"],[1,"form-check","form-check-inline"],["type","radio","formControlName","department","name","department","id","inlineRadioIT","value","IT",1,"form-check-input",3,"change"],["for","inlineRadioIT",1,"form-check-label"],["formControlName","department","type","radio","name","department","id","inlineRadioAdmin","value","Admin",1,"form-check-input",3,"change"],["for","inlineRadioAdmin",1,"form-check-label"],["formArrayName","products"],[3,"formGroupName",4,"ngIf"],[3,"formGroupName"],["type","text","placeholder","description","formControlName","Description",1,"form-control",2,"max-width","250px",3,"ngClass"],["type","number","placeholder","qty","formControlName","Quantity",1,"form-control",2,"max-width","100px",3,"ngClass","keyup"],["type","number","placeholder","qty","formControlName","Price",1,"form-control",2,"max-width","100px",3,"ngClass","keyup"],[1,"fa","fa-trash",2,"margin","5px",3,"click"],[1,"fa","fa-check",2,"margin","5px",3,"click"],[1,"fa","fa-pencil",2,"margin","5px",3,"click"],["scope","col",4,"ngIf"],[1,"text-decoration-underline","text-info","pe-auto",2,"cursor","pointer",3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"button",3),u.NdJ("click",function(){return t.onChange("Procurement")}),u._uU(4," Procurement "),u._UZ(5,"span",4),u.qZA(),u._uU(6,"\xa0 "),u.TgZ(7,"button",5),u.NdJ("click",function(){return t.onChange("Service Request")}),u._uU(8," Service Request "),u._UZ(9,"span",4),u.qZA(),u.qZA(),u.qZA(),u.YNc(10,st,3,1,"div",6),u.YNc(11,it,3,1,"div",7),u.TgZ(12,"div",8),u.TgZ(13,"div",9),u.TgZ(14,"h4",10),u._uU(15),u.qZA(),u.qZA(),u.qZA(),u.YNc(16,Ht,7,6,"div",11),u.YNc(17,_r,5,4,"div",11),u.qZA()),2&e&&(u.xp6(3),u.Q6J("ngClass",u.VKq(7,qr,"Procurement"==t.typeofRequest)),u.xp6(4),u.Q6J("ngClass",u.VKq(9,qr,"Service Request"==t.typeofRequest)),u.xp6(3),u.Q6J("ngIf","Procurement"==t.typeofRequest),u.xp6(1),u.Q6J("ngIf","Service Request"==t.typeofRequest),u.xp6(4),u.Oqu(t.activeTitle),u.xp6(1),u.Q6J("ngIf","Procurement"==t.typeofRequest),u.xp6(1),u.Q6J("ngIf","Service Request"==t.typeofRequest))},directives:[U.mk,U.O5,U.sg,ze.k,Z.Fj,Z.JJ,Z.On,Ke.Q,Z._Y,Z.JL,Z.sg,Z.EJ,Z.u,Z.YN,Z.Kr,et.w9,Z._,Z.CE,Z.x0,Z.wV],pipes:[U.uU,U.JJ],styles:[".pro[_ngcontent-%COMP%]:active, .pro[_ngcontent-%COMP%]:focus, .sr-request[_ngcontent-%COMP%]:active, .sr-request[_ngcontent-%COMP%]:focus{background-color:#fff;font-weight:600}.card[_ngcontent-%COMP%]{border-radius:10px}.btn-color-1[_ngcontent-%COMP%]{background-color:beige!important;border:2px solid #e4e4a1}"]}),e})();new g.WM({"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Headers":"Content-Type"});let xr=(()=>{class e{constructor(e,t){this.http=e,this.toastr=t,this.perPage=10}setHeaders(){return(new g.WM).set("Content-Type","application/x-www-form-urlencoded")}addDispatchAPI(e){return this.http.post(`${c.N.api}/dispatch/adddispatch/`,e)}getDispatchAPI(e){return this.http.post(`${c.N.api}/dispatch/getDispatches`,e)}allLocationAPI(e){return this.http.post(`${c.N.api}/location/getAllLocation`,e)}searchProductAPI(e){return this.http.post(`${c.N.api}/product/searchProducts`,e)}searchProduct(e){return this.http.post(`${c.N.api}/inward/searchAssets`,e)}addDispatch(e){return this.http.post(`${c.N.api}/dispatch/addDispatch`,e)}getAllMasterDepartments(e){return this.http.post(`${c.N.api}/department/getAllDepartment`,e)}getAllMasterCostCenter(e){return this.http.post(`${c.N.api}/costcenter/getAllCostCenter`,e)}getDispatchFromRequest(e){return this.http.post(`${c.N.api}/dispatch/getDispatchFromRequest`,e)}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(g.eN),u.LFG(d.eP))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function br(e,t){1&e&&(u.TgZ(0,"div",42),u._uU(1," Type Of Issue is required "),u.qZA())}function vr(e,t){if(1&e&&(u.TgZ(0,"div",40),u.YNc(1,br,2,0,"div",41),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.f.Type_Of_Issue.errors.required)}}function Ur(e,t){if(1&e&&(u.TgZ(0,"option",43),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.ID),u.xp6(1),u.hij(" ",e.Name," ")}}function yr(e,t){1&e&&(u.TgZ(0,"div",42),u._uU(1," Location is required "),u.qZA())}function wr(e,t){if(1&e&&(u.TgZ(0,"div",40),u.YNc(1,yr,2,0,"div",41),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.f.From_Location.errors.required)}}function Pr(e,t){if(1&e&&(u.TgZ(0,"option",43),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.ID),u.xp6(1),u.hij(" ",e.Name," ")}}function Cr(e,t){1&e&&(u.TgZ(0,"div",42),u._uU(1," Location is required "),u.qZA())}function Nr(e,t){if(1&e&&(u.TgZ(0,"div",40),u.YNc(1,Cr,2,0,"div",41),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.f.To_Location.errors.required)}}function Sr(e,t){1&e&&(u.TgZ(0,"div",42),u._uU(1," Date is required "),u.qZA())}function Lr(e,t){if(1&e&&(u.TgZ(0,"div",40),u.YNc(1,Sr,2,0,"div",41),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.f.Dated_On.errors.required)}}function Dr(e,t){1&e&&(u.TgZ(0,"div",42),u._uU(1," Collected By is required "),u.qZA())}function Ir(e,t){if(1&e&&(u.TgZ(0,"div",40),u.YNc(1,Dr,2,0,"div",41),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.f.Collected_By.errors.required)}}function Or(e,t){if(1&e&&(u.TgZ(0,"option",43),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function kr(e,t){1&e&&(u.TgZ(0,"div",42),u._uU(1," Department is required "),u.qZA())}function Rr(e,t){if(1&e&&(u.TgZ(0,"div",40),u.YNc(1,kr,2,0,"div",41),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.f.Department.errors.required)}}function Jr(e,t){1&e&&(u.TgZ(0,"div",42),u._uU(1," Cost Center is required "),u.qZA())}function Mr(e,t){if(1&e&&(u.TgZ(0,"div",40),u.YNc(1,Jr,2,0,"div",41),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.f.Cost_Center.errors.required)}}function Qr(e,t){1&e&&(u.TgZ(0,"div",42),u._uU(1," Mode Of Transport is required "),u.qZA())}function Fr(e,t){if(1&e&&(u.TgZ(0,"div",40),u.YNc(1,Qr,2,0,"div",41),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.f.Mode_Of_Transport.errors.required)}}function Yr(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",38),u.TgZ(1,"label",4),u.TgZ(2,"small",5),u._uU(3,"Department"),u.qZA(),u.TgZ(4,"span",6),u._uU(5,"*"),u.qZA(),u.qZA(),u._UZ(6,"br"),u.TgZ(7,"div",44),u.TgZ(8,"input",45),u.NdJ("click",function(t){return u.CHM(e),u.oxw().onChangeDepartment(t)}),u.qZA(),u.TgZ(9,"label",46),u._uU(10,"IT"),u.qZA(),u.qZA(),u.TgZ(11,"div",44),u.TgZ(12,"input",47),u.NdJ("click",function(t){return u.CHM(e),u.oxw().onChangeDepartment(t)}),u.qZA(),u.TgZ(13,"label",48),u._uU(14,"Admin"),u.qZA(),u.qZA(),u.qZA()}}function Er(e,t){if(1&e&&(u.TgZ(0,"option",61),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Barcode),u.Q6J("disabled",e.disabled),u.xp6(1),u.hij(" ",e.Barcode," ")}}function Hr(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"i",62),u.NdJ("click",function(){u.CHM(e);const t=u.oxw(2),r=t.index,s=t.$implicit;return u.oxw().copyRow(r,s)}),u.qZA()}}function Vr(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr",52),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u.TgZ(8,"select",53),u.NdJ("change",function(){return u.CHM(e),u.oxw(2).onBarcodeChange()}),u.TgZ(9,"option",8),u._uU(10,"Select Barcode"),u.qZA(),u.YNc(11,Er,2,3,"option",54),u.qZA(),u.qZA(),u.TgZ(12,"td"),u._uU(13),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.qZA(),u.TgZ(16,"td"),u._UZ(17,"input",55),u.qZA(),u.TgZ(18,"td"),u._UZ(19,"input",56),u.qZA(),u.TgZ(20,"td"),u._UZ(21,"input",57),u.qZA(),u.TgZ(22,"td"),u.YNc(23,Hr,1,0,"i",58),u.TgZ(24,"i",59),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().index;return u.oxw().deleteRow(t)}),u.qZA(),u.TgZ(25,"i",60),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw().doneRow(t)}),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(),t=e.index,r=e.$implicit,s=u.oxw();let a,i,o,n;u.Q6J("formGroupName",t),u.xp6(2),u.Oqu(t+1),u.xp6(2),u.Oqu(r.get("ALT_Code").value),u.xp6(2),u.Oqu(r.get("Name").value),u.xp6(2),u.Q6J("ngClass",null!=(a=r.get("Barcode"))&&a.touched&&null!=(a=r.get("Barcode"))&&a.errors?"has-error":""),u.xp6(3),u.Q6J("ngForOf",s.productBarcodes[t]),u.xp6(2),u.Oqu(r.get("UOM").value),u.xp6(2),u.Oqu(r.get("Available_Quantity").value),u.xp6(2),u.Q6J("ngClass",null!=(i=r.get("Quantity"))&&i.touched&&null!=(i=r.get("Quantity"))&&i.errors?"has-error":""),u.xp6(2),u.Q6J("ngClass",null!=(o=r.get("UserName"))&&o.touched&&null!=(o=r.get("UserName"))&&o.errors?"has-error":""),u.xp6(2),u.Q6J("ngClass",null!=(n=r.get("Remark"))&&n.touched&&null!=(n=r.get("Remark"))&&n.errors?"has-error":""),u.xp6(2),u.Q6J("ngIf",r.get("Is_Individual_Tracking").value)}}function $r(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td",63),u._uU(14),u.qZA(),u.TgZ(15,"td"),u._uU(16),u.qZA(),u.TgZ(17,"td"),u._uU(18),u.qZA(),u.TgZ(19,"td"),u.TgZ(20,"i",64),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw().editRow(t)}),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(),t=e.index,r=e.$implicit;u.xp6(2),u.Oqu(t+1),u.xp6(2),u.Oqu(r.get("ALT_Code").value),u.xp6(2),u.Oqu(r.get("Name").value),u.xp6(2),u.Oqu(r.get("Barcode").value),u.xp6(2),u.Oqu(r.get("UOM").value),u.xp6(2),u.Oqu(r.get("Available_Quantity").value),u.xp6(2),u.Oqu(r.get("Quantity").value),u.xp6(2),u.Oqu(r.get("Remark").value),u.xp6(2),u.Oqu(r.get("UserName").value)}}function Br(e,t){if(1&e&&(u.ynx(0,49),u.YNc(1,Vr,26,12,"tr",50),u.YNc(2,$r,21,9,"tr",51),u.BQk()),2&e){const e=t.$implicit;u.xp6(1),u.Q6J("ngIf",e.get("isEditable").value),u.xp6(1),u.Q6J("ngIf",!e.get("isEditable").value)}}let jr=(()=>{class e{constructor(e,t,r,s,a,i,o,n,u,l,c){this.dataservice=e,this._mastersService=t,this.storageService=r,this._dispatch=s,this._dispatchService=a,this.formBuilder=i,this.spinner=o,this.activatedRoute=n,this._requestsPagesService=u,this._authServive=l,this.router=c,this.LocationList=[],this.SearchDataList=[],this.searchTermChanged=new A.xQ,this.isWebRequest=!1,this.productBarcodes=[],this.DepartmentList=[],this.CostCenterList=[],this.requestID=void 0,this.requestLocation=void 0,this.searchFlag=!1,this.selectedBarcodeID=[],this.role=this.storageService.secureStorage.getItem("role"),this.dispatchForm=this.formBuilder.group({From_Location:["",Z.kI.required],To_Location:["",Z.kI.required],Type_Of_Issue:["",Z.kI.required],Dated_On:["",Z.kI.required],Department:["",Z.kI.required],Cost_Center:["",Z.kI.required],Mode_Of_Transport:["",Z.kI.required],Collected_By:["",Z.kI.required],User_Type:[this._authServive.getDepartment(this.role)],products:this.formBuilder.array([],{validators:Z.kI.required})}),this.activatedRoute.params.subscribe(e=>{this.requestID=e.id,this.requestLocation=e.location,this.requestID&&this.requestLocation&&this.getAssestAgainstRequest(e.id)})}ngOnInit(){this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.getSearchProductList(e)}),this.dataservice.setTitle("Dispatch"),this.getAllLocationList(),this.getAllDepartmentList()}addRow(e){let t=e;t.Quantity=0,this.dispatchForm.get("products").push(this.initiateForm(t)),console.log("product asset",t.assets);let r=[];for(let s=0;s<t.assets.length;s++){let e=t.assets[s];e.disabled=!(null!==e.Barcode&&!this.selectedBarcodeID.includes(e.Barcode)),r.push(e)}this.productBarcodes.push(r),console.log("redirect barcode",this.productBarcodes)}deleteRow(e){this.dispatchForm.get("products").removeAt(e),this.productBarcodes.splice(e,1),this.onBarcodeChange()}editRow(e){e.get("isEditable").setValue(!0)}doneRow(e){e.get("isEditable").setValue(!1)}copyRow(e,t){let r={ID:t.get("Product_ID").value,ALT_Code:t.get("ALT_Code").value,Name:t.get("Name").value,Is_Individual_Tracking:t.get("Is_Individual_Tracking").value,Category:t.get("Category").value,UOM:t.get("UOM").value,assets:Array(t.get("Available_Quantity").value),Quantity:1};this.dispatchForm.get("products").push(this.initiateForm(r)),this.productBarcodes.push(this.productBarcodes[e])}get getFormControls(){return this.dispatchForm.get("products")}initiateForm(e){return this.formBuilder.group({Product_ID:[e.ID,Z.kI.required],ALT_Code:[e.ALT_Code,Z.kI.required],Name:[e.Name,Z.kI.required],Is_Individual_Tracking:[e.Is_Individual_Tracking,Z.kI.required],Barcode:["",1==e.Is_Individual_Tracking?Z.kI.required:null],UOM:[e.UOM,Z.kI.required],Available_Quantity:e.assets.length,Category:[e.Category],Quantity:[1==e.Is_Individual_Tracking?1:e.Quantity,[Z.kI.required,Z.kI.min(1),Z.kI.max(1==e.Is_Individual_Tracking?1:e.assets.length),Z.kI.pattern("^(0|[1-9][0-9]*)$")]],Remark:[""],Username:[""],isEditable:[!0]})}onBarcodeChange(){this.selectedBarcodeID=[];for(let e=0;e<this.getFormControls.controls.length;e++){let t=this.getFormControls.controls[e].value.Barcode;for(let e=0;e<this.productBarcodes.length;e++)for(let r=0;r<this.productBarcodes[e].length;r++)this.productBarcodes[e][r].disabled=!1,t==this.productBarcodes[e][r].Barcode&&(this.selectedBarcodeID.includes(this.productBarcodes[e][r].Barcode)||this.selectedBarcodeID.push(this.productBarcodes[e][r].Barcode))}console.log("arr",this.selectedBarcodeID),console.log("product barcode",this.productBarcodes);for(let e=0;e<this.productBarcodes.length;e++)for(let t=0;t<this.productBarcodes[e].length;t++)this.productBarcodes[e][t].disabled=!1,this.selectedBarcodeID.includes(this.productBarcodes[e][t].Barcode)&&(this.productBarcodes[e][t].disabled=!0)}onChangeLocation(){this.dispatchForm.get("products").controls=[],this.SearchDataList=[]}onDepartment(e){this.departmentBind=e.target.value,this.DepartmentList.forEach(t=>{t.Name==e.target.value&&this.dispatchForm.controls.Cost_Center.setValue(t.Cost_Center_Name)})}get f(){return this.dispatchForm.controls}getSearchProductList(e){if(""!=this.dispatchForm.value.From_Location&&""!=this.dispatchForm.value.Type_Of_Issue){const t={From_Location:this.dispatchForm.value.From_Location,Type_Of_Issue:this.dispatchForm.value.Type_Of_Issue,search:e,User_Type:this.dispatchForm.value.User_Type};this.searchFlag=!0,this._dispatchService.searchProduct(t).subscribe(e=>{e.error||(this.SearchDataList=e.data),this.searchFlag=!1})}else this._mastersService.showalert("Please select Type of Issue & From Location","warning")}getAllLocationList(){this._dispatchService.allLocationAPI({}).subscribe(e=>{e.error||(this.LocationList=e.data)})}getAllDepartmentList(){this._dispatchService.getAllMasterDepartments({}).subscribe(e=>{e.error||(this.DepartmentList=e.data)})}getAllCostCenterList(){this._dispatchService.getAllMasterCostCenter({}).subscribe(e=>{e.error||(this.CostCenterList=e.data)})}getAssestAgainstRequest(e){this._dispatchService.getDispatchFromRequest({ID:e,Location_ID:this.requestLocation}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.dispatchForm.patchValue({From_Location:e.fromLocation,To_Location:e.toLocation,Type_Of_Issue:"Issue",Dated_On:e.date,Department:e.department,Cost_Center:e.costCenter,Mode_Of_Transport:e.modeOfTransport,Collected_By:e.collected_By}),e.items.forEach(e=>{if(e.Is_Individual_Tracking)for(let t=0;t<e.Request_Quantity;t++){let t={ID:e.ID,ALT_Code:e.ALT_Code,Name:e.Name,Is_Individual_Tracking:e.Is_Individual_Tracking,Category:e.Category,Price:e.Per_Unit_Price,TAX_Percentage:e.TAX_Percentage,UOM:e.UOM,assets:e.assets,Quantity:1};this.dispatchForm.get("products").push(this.initiateForm(t));let r=[];for(let s=0;s<e.assets.length;s++){let t=e.assets[s];null!==t.barcode&&(t.disabled=!1,r.push(t))}this.productBarcodes.push(r),console.log("redirect barcode",this.productBarcodes)}else{let t={ID:e.ID,ALT_Code:e.ALT_Code,Name:e.Name,Is_Individual_Tracking:e.Is_Individual_Tracking,Category:e.Category,Price:e.Per_Unit_Price,TAX_Percentage:e.TAX_Percentage,UOM:e.UOM,assets:e.assets,Quantity:e.Request_Quantity};this.dispatchForm.get("products").push(this.initiateForm(t));let r=[];for(let s=0;s<e.assets.length;s++){let t=e.assets[s];null!==t.barcode&&(t.disabled=!1,r.push(t))}this.productBarcodes.push(r),console.log("redirect barcode",this.productBarcodes)}}))},e=>{this._mastersService.showalert(e.error.message,"error")})}onChangeDepartment(e){this.departmentValue=e.target.value}onSubmit(){if(this.dispatchForm.valid){this.isWebRequest=!0;let e={From_Location:this.dispatchForm.value.From_Location,To_Location:this.dispatchForm.value.To_Location,Type_Of_Issue:this.dispatchForm.value.Type_Of_Issue,Department:this.dispatchForm.value.Department,Cost_Center:this.dispatchForm.value.Cost_Center,Dated_On:this.dispatchForm.value.Dated_On,Collected_By:this.dispatchForm.value.Collected_By,Mode_Of_Transport:this.dispatchForm.value.Mode_Of_Transport,assets:this.dispatchForm.value.products,User_Type:this.dispatchForm.value.User_Type};this.spinner.show(),this._dispatchService.addDispatch(e).subscribe(e=>{this.spinner.hide(),this.isWebRequest=!1,e.error?this._mastersService.showalert(e.message,"error"):(this._mastersService.showalert(e.message,"success"),this.resetForm(),this.productBarcodes=[],this.onChangeLocation(),this.requestID&&this.markDispatched(this.requestID))},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}}resetForm(){this.dispatchForm.reset(),this.dispatchForm.patchValue({From_Location:"",To_Location:"",Type_Of_Issue:"",Department:"",Cost_Center:"",Dated_On:"",Collected_By:"",Mode_Of_Transport:"",User_Type:"IT",assets:""})}markDispatched(e){this.isWebRequest=!0,this._requestsPagesService.markRequestAsDispatch({id:e}).subscribe(e=>{e.error&&this._mastersService.showalert(e.message,"error")},e=>{this._mastersService.showalert(e.error.message,"error")})}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(l.D),u.Y36(v.R),u.Y36(N.V),u.Y36(xr),u.Y36(xr),u.Y36(Z.qu),u.Y36(x.t2),u.Y36(s.gz),u.Y36(b.i),u.Y36(We.$),u.Y36(s.F0))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-dispatch"]],decls:122,vars:17,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"row","h-100","mb-2"],[1,"col-lg-3","col-12"],["for",""],[1,"text-dark","fw-bold"],[1,"text-danger","fw-bold"],["formControlName","Type_Of_Issue",1,"form-select",3,"change"],["value",""],["value","Issue"],["value","Return"],["value","Repair"],["value","Scrap"],["value","Lost"],["class","text-danger",4,"ngIf"],["formControlName","From_Location",1,"form-select",3,"change"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","To_Location",1,"form-select"],[1,"fw-bold","text-dark"],["type","Date","formControlName","Dated_On",1,"form-control","input-group-sm"],[1,"row","h-100","mb-3"],["type","text","formControlName","Collected_By","placeholder","Enter Collected By Name",1,"form-control","input-group-sm"],["formControlName","Department",1,"form-select",3,"change"],["type","text","formControlName","Cost_Center","readonly","",1,"form-control"],["type","text","formControlName","Mode_Of_Transport","placeholder","Enter Mode Of Transport",1,"form-control","input-group-sm"],[1,"row","mb-3"],["class","col-auto",4,"ngIf"],[1,"row","h-100"],[1,"col-lg-4","col-12","mb-2"],["appendTo","body","bindLabel","Name","bindValue","Name","placeholder","Search...",1,"ngselect",3,"loading","items","change","search"],[1,""],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col"],[1,"bg-white"],["formArrayName","products",4,"ngFor","ngForOf"],[1,"row","my-2"],[1,"col-auto"],[1,"btn","btn-dark","btn-sm","float-right",2,"width","180px","font-size","14px",3,"disabled","click"],[1,"text-danger"],["class","small",4,"ngIf"],[1,"small"],[3,"value"],[1,"form-check","form-check-inline"],["type","radio","formControlName","User_Type","name","User_Type","id","inlineRadioIT","value","IT","checked","",1,"form-check-input",3,"click"],["for","inlineRadioIT",1,"form-check-label"],["formControlName","User_Type","type","radio","name","User_Type","id","inlineRadioAdmin","value","Admin",1,"form-check-input",3,"click"],["for","inlineRadioAdmin",1,"form-check-label"],["formArrayName","products"],[3,"formGroupName",4,"ngIf"],[4,"ngIf"],[3,"formGroupName"],["formControlName","Barcode",1,"form-control",2,"max-width","250px",3,"ngClass","change"],[3,"value","disabled",4,"ngFor","ngForOf"],["type","number","placeholder","qty","formControlName","Quantity",1,"form-control",2,"max-width","100px",3,"ngClass"],["type","text","placeholder","username","formControlName","Username",1,"form-control",2,"max-width","100px",3,"ngClass"],["type","text","placeholder","remark","formControlName","Remark",1,"form-control",2,"max-width","100px",3,"ngClass"],["class","fa fa-copy","style","margin: 5px; cursor: pointer",3,"click",4,"ngIf"],[1,"fa","fa-trash",2,"margin","5px","cursor","pointer",3,"click"],[1,"fa","fa-check",2,"margin","5px","cursor","pointer",3,"click"],[3,"value","disabled"],[1,"fa","fa-copy",2,"margin","5px","cursor","pointer",3,"click"],[1,"text-end"],[1,"fa","fa-pencil",2,"margin","5px","cursor","pointer",3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"form",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"label",4),u.TgZ(5,"small",5),u._uU(6,"Type Of Issue"),u.qZA(),u.TgZ(7,"span",6),u._uU(8,"*"),u.qZA(),u.qZA(),u.TgZ(9,"select",7),u.NdJ("change",function(){return t.onChangeLocation()}),u.TgZ(10,"option",8),u._uU(11,"Type Of Issue"),u.qZA(),u.TgZ(12,"option",9),u._uU(13,"Issue"),u.qZA(),u.TgZ(14,"option",10),u._uU(15,"Return"),u.qZA(),u.TgZ(16,"option",11),u._uU(17,"Repair"),u.qZA(),u.TgZ(18,"option",12),u._uU(19,"Scrap"),u.qZA(),u.TgZ(20,"option",13),u._uU(21,"Lost"),u.qZA(),u.qZA(),u.YNc(22,vr,2,1,"div",14),u.qZA(),u.TgZ(23,"div",3),u.TgZ(24,"label",4),u.TgZ(25,"small",5),u._uU(26,"From Location"),u.qZA(),u.TgZ(27,"span",6),u._uU(28,"*"),u.qZA(),u.qZA(),u.TgZ(29,"select",15),u.NdJ("change",function(){return t.onChangeLocation()}),u.TgZ(30,"option",16),u._uU(31,"Select Location"),u.qZA(),u.YNc(32,Ur,2,2,"option",17),u.qZA(),u.YNc(33,wr,2,1,"div",14),u.qZA(),u.TgZ(34,"div",3),u.TgZ(35,"label",4),u.TgZ(36,"small",5),u._uU(37,"To Location"),u.qZA(),u.TgZ(38,"span",6),u._uU(39,"*"),u.qZA(),u.qZA(),u.TgZ(40,"select",18),u.TgZ(41,"option",16),u._uU(42,"Select Location"),u.qZA(),u.YNc(43,Pr,2,2,"option",17),u.qZA(),u.YNc(44,Nr,2,1,"div",14),u.qZA(),u.TgZ(45,"div",3),u.TgZ(46,"label",4),u.TgZ(47,"small",19),u._uU(48,"Date"),u.qZA(),u.qZA(),u._UZ(49,"input",20),u.YNc(50,Lr,2,1,"div",14),u.qZA(),u.qZA(),u.TgZ(51,"div",21),u.TgZ(52,"div",3),u.TgZ(53,"label",4),u.TgZ(54,"small",19),u._uU(55,"Collected By"),u.TgZ(56,"span",6),u._uU(57,"*"),u.qZA(),u.qZA(),u.qZA(),u._UZ(58,"input",22),u.YNc(59,Ir,2,1,"div",14),u.qZA(),u.TgZ(60,"div",3),u.TgZ(61,"label",4),u.TgZ(62,"small",5),u._uU(63,"Department"),u.TgZ(64,"span",6),u._uU(65,"*"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(66,"select",23),u.NdJ("change",function(e){return t.onDepartment(e)}),u.TgZ(67,"option",16),u._uU(68,"Select Department"),u.qZA(),u.YNc(69,Or,2,2,"option",17),u.qZA(),u.YNc(70,Rr,2,1,"div",14),u.qZA(),u.TgZ(71,"div",3),u.TgZ(72,"label",4),u.TgZ(73,"small",5),u._uU(74,"Cost Center"),u.TgZ(75,"span",6),u._uU(76,"*"),u.qZA(),u.qZA(),u.qZA(),u._UZ(77,"input",24),u.YNc(78,Mr,2,1,"div",14),u.qZA(),u.TgZ(79,"div",3),u.TgZ(80,"label",4),u.TgZ(81,"small",5),u._uU(82,"Mode Of Transport"),u.qZA(),u.TgZ(83,"span",6),u._uU(84,"*"),u.qZA(),u.qZA(),u._UZ(85,"input",25),u.YNc(86,Fr,2,1,"div",14),u.qZA(),u.qZA(),u.TgZ(87,"div",26),u.YNc(88,Yr,15,0,"div",27),u.qZA(),u.TgZ(89,"div",28),u.TgZ(90,"div",29),u.TgZ(91,"ng-select",30),u.NdJ("change",function(e){return t.addRow(e)})("search",function(e){return t.searchTermChanged.next(e.term)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(92,"div",31),u.TgZ(93,"table",32),u.TgZ(94,"thead",33),u.TgZ(95,"tr"),u.TgZ(96,"th",34),u._uU(97,"Sr.No"),u.qZA(),u.TgZ(98,"th",34),u._uU(99,"Code"),u.qZA(),u.TgZ(100,"th",34),u._uU(101,"Item Name"),u.qZA(),u.TgZ(102,"th",34),u._uU(103,"Barcode"),u.qZA(),u.TgZ(104,"th",34),u._uU(105,"UOM"),u.qZA(),u.TgZ(106,"th",34),u._uU(107,"Available Qty"),u.qZA(),u.TgZ(108,"th",34),u._uU(109,"Quantity"),u.qZA(),u.TgZ(110,"th",34),u._uU(111,"User Name"),u.qZA(),u.TgZ(112,"th",34),u._uU(113,"Remark"),u.qZA(),u.TgZ(114,"th",34),u._uU(115,"Action"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(116,"tbody",35),u.YNc(117,Br,3,2,"ng-container",36),u.qZA(),u.qZA(),u.TgZ(118,"div",37),u.TgZ(119,"div",38),u.TgZ(120,"button",39),u.NdJ("click",function(){return t.onSubmit()}),u._uU(121," Submit "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(1),u.Q6J("formGroup",t.dispatchForm),u.xp6(21),u.Q6J("ngIf",t.f.Type_Of_Issue.touched&&t.f.Type_Of_Issue.errors),u.xp6(10),u.Q6J("ngForOf",t.LocationList),u.xp6(1),u.Q6J("ngIf",t.f.From_Location.touched&&t.f.From_Location.errors),u.xp6(10),u.Q6J("ngForOf",t.LocationList),u.xp6(1),u.Q6J("ngIf",t.f.To_Location.touched&&t.f.To_Location.errors),u.xp6(6),u.Q6J("ngIf",t.f.Dated_On.touched&&t.f.Dated_On.errors),u.xp6(9),u.Q6J("ngIf",t.f.Collected_By.touched&&t.f.Collected_By.errors),u.xp6(10),u.Q6J("ngForOf",t.DepartmentList),u.xp6(1),u.Q6J("ngIf",t.f.Department.touched&&t.f.Department.errors),u.xp6(8),u.Q6J("ngIf",t.f.Cost_Center.touched&&t.f.Cost_Center.errors),u.xp6(8),u.Q6J("ngIf",t.f.Mode_Of_Transport.touched&&t.f.Mode_Of_Transport.errors),u.xp6(2),u.Q6J("ngIf","System Admin"==t.role),u.xp6(3),u.Q6J("loading",t.searchFlag)("items",t.SearchDataList),u.xp6(26),u.Q6J("ngForOf",t.getFormControls.controls),u.xp6(3),u.Q6J("disabled",t.dispatchForm.invalid||t.isWebRequest))},directives:[Z._Y,Z.JL,Z.sg,Z.EJ,Z.JJ,Z.u,Z.YN,Z.Kr,U.O5,U.sg,Z.Fj,et.w9,Z._,Z.CE,Z.x0,U.mk,Z.wV],styles:["@media (min-width: 576px){.modal-dialog[_ngcontent-%COMP%]{max-width:615px!important;margin:1.75rem auto}}"]}),e})(),Xr=(()=>{class e{constructor(e){this.bsModalRef=e,this.event=new u.vpe}ngOnInit(){}triggerEvent(e){this.event.emit({data:e})}close(){this.bsModalRef.hide()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(f.UZ))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-qr-generate-popup"]],decls:12,vars:0,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","mx-1","text-center"],[1,"justify-content-center","mb-2"],["src","../../../../../assets/icons/Barcode.png","width","100"],[1,"fw-bold","text-muted"],[1,"modal-footer","me-auto"],["type","button",1,"btn","btn-dark"],["type","button","data-dismiss","modal",1,"btn","btn-default","bg-light",3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"button",1),u.NdJ("click",function(){return t.close()}),u.qZA(),u.qZA(),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u._UZ(4,"img",4),u.qZA(),u.TgZ(5,"h5",5),u._uU(6,"Do you want to print barcodes ?"),u.qZA(),u.qZA(),u.TgZ(7,"div",6),u.TgZ(8,"button",7),u._uU(9,"Yes"),u.qZA(),u.TgZ(10,"button",8),u.NdJ("click",function(){return t.close()}),u._uU(11,"No"),u.qZA(),u.qZA())},styles:[""]}),e})();function Gr(e,t){1&e&&(u.TgZ(0,"div",39),u._uU(1," PO number is required "),u.qZA())}function Wr(e,t){if(1&e&&(u.TgZ(0,"div",37),u.YNc(1,Gr,2,0,"div",38),u.qZA()),2&e){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",e.f.PO_Number.errors.required)}}function zr(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",2),u.TgZ(1,"label",9),u.TgZ(2,"small",10),u._uU(3,"Enter PO Number"),u.qZA(),u.qZA(),u.TgZ(4,"input",36),u.NdJ("keyup",function(t){return u.CHM(e),u.oxw().poTermChanged.next(t.target.value)}),u.qZA(),u.YNc(5,Wr,2,1,"div",12),u.qZA()}if(2&e){const e=u.oxw();u.xp6(5),u.Q6J("ngIf",e.f.PO_Number.touched&&e.f.PO_Number.errors)}}function Kr(e,t){1&e&&(u.TgZ(0,"div",39),u._uU(1," Challan number is required "),u.qZA())}function es(e,t){if(1&e&&(u.TgZ(0,"div",37),u.YNc(1,Kr,2,0,"div",38),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.f.Challan_Number.errors.required)}}function ts(e,t){if(1&e&&(u.TgZ(0,"option",14),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.Q6J("ngValue",e.ID),u.xp6(1),u.hij(" ",e.Name," ")}}function rs(e,t){1&e&&(u.TgZ(0,"div",39),u._uU(1," Vendor name is required "),u.qZA())}function ss(e,t){if(1&e&&(u.TgZ(0,"div",37),u.YNc(1,rs,2,0,"div",38),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.f.Vendor_Name.errors.required)}}function as(e,t){1&e&&(u.TgZ(0,"div",39),u._uU(1," Date is required "),u.qZA())}function is(e,t){if(1&e&&(u.TgZ(0,"div",37),u.YNc(1,as,2,0,"div",38),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.f.Dated_On.errors.required)}}function os(e,t){if(1&e&&(u.TgZ(0,"option",40),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.ID),u.xp6(1),u.hij(" ",e.Name," ")}}function ns(e,t){1&e&&(u.TgZ(0,"div",39),u._uU(1," Location is required "),u.qZA())}function us(e,t){if(1&e&&(u.TgZ(0,"div",37),u.YNc(1,ns,2,0,"div",38),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.f.Location_ID.errors.required)}}function ls(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",2),u.TgZ(1,"label",9),u.TgZ(2,"small",17),u._uU(3,"Department"),u.qZA(),u.TgZ(4,"span",18),u._uU(5,"*"),u.qZA(),u.qZA(),u._UZ(6,"br"),u.TgZ(7,"div",41),u.TgZ(8,"input",42),u.NdJ("click",function(t){return u.CHM(e),u.oxw().onChangeDepartment(t)}),u.qZA(),u.TgZ(9,"label",43),u._uU(10,"IT"),u.qZA(),u.qZA(),u.TgZ(11,"div",41),u.TgZ(12,"input",44),u.NdJ("click",function(t){return u.CHM(e),u.oxw().onChangeDepartment(t)}),u.qZA(),u.TgZ(13,"label",45),u._uU(14,"Admin"),u.qZA(),u.qZA(),u.qZA()}}function cs(e,t){if(1&e&&(u.TgZ(0,"option",40),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function gs(e,t){if(1&e&&(u.TgZ(0,"option",40),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function ds(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"i",62),u.NdJ("click",function(){u.CHM(e);const t=u.oxw(2),r=t.index,s=t.$implicit;return u.oxw().copyRow(r,s)}),u.qZA()}}function ps(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr",49),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u.TgZ(8,"select",50),u.TgZ(9,"option",51),u._uU(10,"Select Manufacturer"),u.qZA(),u.YNc(11,cs,2,2,"option",21),u.qZA(),u.qZA(),u.TgZ(12,"td"),u._UZ(13,"input",52),u.qZA(),u.TgZ(14,"td"),u._UZ(15,"input",53),u.qZA(),u.TgZ(16,"td"),u._UZ(17,"input",54),u.qZA(),u.TgZ(18,"td"),u.TgZ(19,"select",55),u.TgZ(20,"option",51),u._uU(21,"Select Vendor"),u.qZA(),u.YNc(22,gs,2,2,"option",21),u.qZA(),u.qZA(),u.TgZ(23,"td"),u._UZ(24,"input",56),u.qZA(),u.TgZ(25,"td"),u._uU(26),u.qZA(),u.TgZ(27,"td"),u.TgZ(28,"input",57),u.NdJ("keyup",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw().onQuantityChnage(t)}),u.qZA(),u.qZA(),u.TgZ(29,"td"),u.TgZ(30,"input",58),u.NdJ("keyup",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw().onQuantityChnage(t)}),u.qZA(),u.qZA(),u.TgZ(31,"td",32),u._uU(32),u.ALo(33,"number"),u.qZA(),u.TgZ(34,"td",32),u._uU(35),u.ALo(36,"number"),u.qZA(),u.TgZ(37,"td",32),u._uU(38),u.ALo(39,"number"),u.qZA(),u.TgZ(40,"td",32),u._uU(41),u.ALo(42,"number"),u.qZA(),u.TgZ(43,"td"),u.YNc(44,ds,1,0,"i",59),u.TgZ(45,"i",60),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().index;return u.oxw().deleteRow(t)}),u.qZA(),u.TgZ(46,"i",61),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw().doneRow(t)}),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(),t=e.index,r=e.$implicit,s=u.oxw();let a,i,o,n,l,c,g,d;u.Q6J("formGroupName",t),u.xp6(2),u.Oqu(t+1),u.xp6(2),u.Oqu(r.get("ALT_Code").value),u.xp6(2),u.Oqu(r.get("Name").value),u.xp6(2),u.Q6J("ngClass",null!=(a=r.get("Manufacturer"))&&a.touched&&null!=(a=r.get("Manufacturer"))&&a.errors?"has-error":""),u.xp6(3),u.Q6J("ngForOf",s.productManufactureres[t].manufacturers),u.xp6(2),u.Q6J("ngClass",null!=(i=r.get("Model"))&&i.touched&&null!=(i=r.get("Model"))&&i.errors?"has-error":""),u.xp6(2),u.Q6J("ngClass",null!=(o=r.get("Serial_Number"))&&o.touched&&null!=(o=r.get("Serial_Number"))&&o.errors?"has-error":""),u.xp6(2),u.Q6J("ngClass",null!=(n=r.get("AMC_Expiry"))&&n.touched&&null!=(n=r.get("AMC_Expiry"))&&n.errors?"has-error":""),u.xp6(2),u.Q6J("ngClass",null!=(l=r.get("AMC_Vendor"))&&l.touched&&null!=(l=r.get("AMC_Vendor"))&&l.errors?"has-error":""),u.xp6(3),u.Q6J("ngForOf",s.AMCVendorList),u.xp6(2),u.Q6J("ngClass",null!=(c=r.get("Product_Expiry"))&&c.touched&&null!=(c=r.get("Product_Expiry"))&&c.errors?"has-error":""),u.xp6(2),u.Oqu(r.get("UOM").value),u.xp6(2),u.Q6J("ngClass",null!=(g=r.get("Quantity"))&&g.touched&&null!=(g=r.get("Quantity"))&&g.errors?"has-error":""),u.xp6(2),u.Q6J("ngClass",null!=(d=r.get("Quantity"))&&d.touched&&null!=(d=r.get("Quantity"))&&d.errors?"has-error":""),u.xp6(2),u.hij(" ",u.xi3(33,20,r.get("Total_Price").value,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(36,23,r.get("TAX_Percentage").value,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(39,26,r.get("TAX_Value").value,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(42,29,r.get("Total_Price").value+r.get("TAX_Value").value,"1.2-3")," "),u.xp6(3),u.Q6J("ngIf",r.get("Is_Individual_Tracking").value)}}function Zs(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.ALo(15,"date"),u.qZA(),u.TgZ(16,"td"),u._uU(17),u.qZA(),u.TgZ(18,"td"),u._uU(19),u.ALo(20,"date"),u.qZA(),u.TgZ(21,"td"),u._uU(22),u.qZA(),u.TgZ(23,"td",32),u._uU(24),u.qZA(),u.TgZ(25,"td",32),u._uU(26),u.ALo(27,"number"),u.qZA(),u.TgZ(28,"td",32),u._uU(29),u.ALo(30,"number"),u.qZA(),u.TgZ(31,"td",32),u._uU(32),u.ALo(33,"number"),u.qZA(),u.TgZ(34,"td",32),u._uU(35),u.ALo(36,"number"),u.qZA(),u.TgZ(37,"td",32),u._uU(38),u.ALo(39,"number"),u.qZA(),u.TgZ(40,"td"),u.TgZ(41,"i",63),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw().editRow(t)}),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(),t=e.index,r=e.$implicit;u.xp6(2),u.Oqu(t+1),u.xp6(2),u.Oqu(r.get("ALT_Code").value),u.xp6(2),u.Oqu(r.get("Name").value),u.xp6(2),u.Oqu(r.get("Manufacturer").value),u.xp6(2),u.Oqu(r.get("Model").value),u.xp6(2),u.Oqu(r.get("Serial_Number").value),u.xp6(2),u.hij(" ",u.xi3(15,16,r.get("AMC_Expiry").value,"dd/MM/yyyy")," "),u.xp6(3),u.Oqu(r.get("AMC_Vendor").value),u.xp6(2),u.hij(" ",u.xi3(20,19,r.get("Product_Expiry").value,"dd/MM/yyyy")," "),u.xp6(3),u.Oqu(r.get("UOM").value),u.xp6(2),u.hij(" ",r.get("Quantity").value," "),u.xp6(2),u.hij(" ",u.xi3(27,22,r.get("Price").value,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(30,25,r.get("Total_Price").value,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(33,28,r.get("TAX_Percentage").value,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(36,31,r.get("TAX_Value").value,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(39,34,r.get("Total_Price").value+r.get("TAX_Value").value,"1.2-3")," ")}}function hs(e,t){if(1&e&&(u.ynx(0,46),u.YNc(1,ps,47,32,"tr",47),u.YNc(2,Zs,42,37,"tr",48),u.BQk()),2&e){const e=t.$implicit;u.xp6(1),u.Q6J("ngIf",e.get("isEditable").value),u.xp6(1),u.Q6J("ngIf",!e.get("isEditable").value)}}let ms=(()=>{class e{constructor(e,t,r,s,a,i,o,n,u){this.formBuilder=e,this._mastersService=t,this.storageService=r,this.spinner=s,this.modalService=a,this.dataservice=i,this._inwardMaterialService=o,this._requesterService=n,this._authServive=u,this.eventsCounter=new A.xQ,this.ngUnsubscribe=new A.xQ,this.selectedType="PO",this.submitted=!1,this.isWebRequest=!1,this.SearchDataList=[],this.VendorList=[],this.AMCVendorList=[],this.searchTermChanged=new A.xQ,this.poTermChanged=new A.xQ,this.total=0,this.tax=0,this.productManufactureres=[],this.LocationList=[],this.searchFlag=!1,this.role=this.storageService.secureStorage.getItem("role"),this.inwardForm=this.formBuilder.group({Request_type:["PO",[Z.kI.required]],PO_Number:[null,[Z.kI.required]],Challan_Number:[null,[Z.kI.required]],Vendor_Name:["",[Z.kI.required]],Dated_On:[null,[Z.kI.required]],Location_ID:["",Z.kI.required],products:this.formBuilder.array([],{validators:Z.kI.required}),User_Type:[this._authServive.getDepartment(this.role)]})}ngOnInit(){this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.getSearchProductList(e)}),this.poTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.searchPO(e)}),this.isWebRequest=!1,this.selectedType="PO",this.dataservice.setTitle("Inward Material"),this.getVendorList(),this.getAllLocationList()}onChange(e){this.selectedType=e.target.value,"PO"==this.selectedType?(this.inwardForm.controls.PO_Number.setValidators([Z.kI.required]),this.inwardForm.patchValue({Vendor_Name:""})):(this.inwardForm.patchValue({PO_Number:"",Vendor_Name:""}),this.inwardForm.controls.PO_Number.setValidators([])),this.getVendorList(),this.inwardForm.controls.PO_Number.updateValueAndValidity()}get f(){return this.inwardForm.controls}getSearchProductList(e){const t={search:e,User_Type:this.inwardForm.value.User_Type};this.searchFlag=!0,this._inwardMaterialService.searchInwardProductAPI(t).subscribe(e=>{e.error||(this.SearchDataList=e.data),this.searchFlag=!1})}onChangeDepartment(e){this.departmentValue=e.target.value,this.inwardForm.get("products").controls=[],this.SearchDataList=[]}getAllLocationList(){this._requesterService.allLocationAPI({}).subscribe(e=>{e.error||(this.LocationList=e.data)})}getVendorList(){this._mastersService.allMastersVendors({}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.VendorList=e.data,this.AMCVendorList=e.data)},e=>{this._mastersService.showalert(e.error.message,"error")})}searchPO(e){this._mastersService.searchPO({PO_Number:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.VendorList=[{ID:e.data.vendor.ID,Name:e.data.vendor.Name}],this.inwardForm.patchValue({Vendor_Name:e.data.vendor.ID}),e.data.purchase_order_items.forEach(e=>{if(e.product.Is_Individual_Tracking)for(let t=0;t<e.Quantity;t++){let t={ALT_Code:e.product.ALT_Code,Asset_Holder:e.product.Asset_Holder,Category:e.product.Category,Description:e.product.Description,ID:e.Product_ID,Is_Active:e.product.Is_Active,Is_Individual_Tracking:e.product.Is_Individual_Tracking,Low_Stock_Quantity:e.product.Low_Stock_Quantity,Name:e.product.Name,Price:e.Per_Unit_Price,Product_Group:e.product.Product_Group,Quantity:1,TAX_Percentage:e.TAX_Percentage,UOM:e.product.UOM,Updated_At:e.product.Updated_At,Total_Price:e.Per_Unit_Price,TAX_Value:e.Per_Unit_Price*e.TAX_Percentage/100,manufacturers:e.product.manufacturers?e.product.manufacturers:[]};this.inwardForm.get("products").push(this.initiateForm(t)),this.productManufactureres.push(t)}else{let t={ALT_Code:e.product.ALT_Code,Asset_Holder:e.product.Asset_Holder,Category:e.product.Category,Description:e.product.Description,ID:e.Product_ID,Is_Active:e.product.Is_Active,Is_Individual_Tracking:e.product.Is_Individual_Tracking,Low_Stock_Quantity:e.product.Low_Stock_Quantity,Name:e.product.Name,Price:e.Per_Unit_Price,Product_Group:e.product.Product_Group,Quantity:e.Quantity,TAX_Percentage:e.TAX_Percentage,UOM:e.product.UOM,Updated_At:e.product.Updated_At,Total_Price:e.Total_Price,TAX_Value:e.TAX_Value,manufacturers:e.product.manufacturers?e.product.manufacturers:[]};console.log(t),this.inwardForm.get("products").push(this.initiateForm(t)),this.productManufactureres.push(t)}}),this.total=e.data.Sub_Total,this.tax=e.data.Tax_value)},e=>{this._mastersService.showalert(e.error.message,"error")})}addRow(e){let t=e;t.Quantity=0,console.log(t),this.inwardForm.get("products").push(this.initiateForm(t)),this.search="",this.productManufactureres.push(t)}deleteRow(e){this.inwardForm.get("products").removeAt(e),this.productManufactureres.splice(e,1)}editRow(e){e.get("isEditable").setValue(!0)}doneRow(e){e.get("isEditable").setValue(!1)}copyRow(e,t){let r={ID:t.get("ID").value,ALT_Code:t.get("ALT_Code").value,Name:t.get("Name").value,Is_Individual_Tracking:t.get("Is_Individual_Tracking").value,UOM:t.get("UOM").value,Price:t.get("Price").value,TAX_Percentage:t.get("TAX_Percentage").value,Total_Price:t.get("Total_Price").value,TAX_Value:t.get("TAX_Value").value,Category:t.get("Category").value,Quantity:0};this.inwardForm.get("products").push(this.initiateForm(r)),this.productManufactureres.push(this.productManufactureres[e]),this.calculateTotal()}get getFormControls(){return this.inwardForm.get("products")}initiateForm(e){return this.formBuilder.group({ID:[e.ID,Z.kI.required],ALT_Code:[e.ALT_Code,Z.kI.required],Name:[e.Name,Z.kI.required],Is_Individual_Tracking:[e.Is_Individual_Tracking,Z.kI.required],Manufacturer:[""],Category:[e.Category],Serial_Number:[""],Model:[""],AMC_Expiry:[""],AMC_Vendor:[""],Product_Expiry:[""],UOM:[e.UOM,Z.kI.required],Price:[e.Price,Z.kI.required],TAX_Percentage:[e.TAX_Percentage,Z.kI.required],Quantity:[e.Quantity,[Z.kI.required,Z.kI.min(1),Z.kI.max(1==e.Is_Individual_Tracking?1:1e5),Z.kI.pattern("^(0|[1-9][0-9]*)$")]],Total_Price:[e.Price*e.Quantity,Z.kI.required],TAX_Value:[e.Price*e.Quantity*e.TAX_Percentage/100,Z.kI.required],isEditable:[!0]})}onQuantityChnage(e){var t,r,s;let a=Number(null===(t=e.get("Price"))||void 0===t?void 0:t.value)||0,i=Number(null===(r=e.get("Quantity"))||void 0===r?void 0:r.value)||0,o=Number(null===(s=e.get("TAX_Percentage"))||void 0===s?void 0:s.value)||0,n=a*i;e.get("Total_Price").setValue(n);let u=n*o/100;e.get("TAX_Value").setValue(u),this.calculateTotal()}calculateTotal(){var e,t;this.total=0,this.tax=0;let r=this.inwardForm.get("products");for(let s of r.controls)this.total+=Number(null===(e=s.get("Total_Price"))||void 0===e?void 0:e.value),this.tax+=Number(null===(t=s.get("TAX_Value"))||void 0===t?void 0:t.value)}ViewQRModal(){console.log("QR req id--\x3e"),this.bsModalRef1=this.modalService.show(Xr,{initialState:{},animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-md"})}onSubmit(){if(this.submitted=!0,this.inwardForm.valid){this.isWebRequest=!0;let e={PO_Number:this.inwardForm.value.PO_Number,Challan_No:this.inwardForm.value.Challan_Number,Vendor_ID:this.inwardForm.value.Vendor_Name,Dated_On:this.inwardForm.value.Dated_On,Location_ID:this.inwardForm.value.Location_ID,products:this.inwardForm.value.products,User_Type:this.inwardForm.value.User_Type};this.spinner.show(),this._inwardMaterialService.addInward(e).subscribe(e=>{this.spinner.hide(),this.isWebRequest=!1,e.error?this._mastersService.showalert(e.message,"error"):(this._mastersService.showalert(e.message,"success"),this.inwardForm.reset(),this.total=0,this.tax=0,this.inwardForm.get("products").controls=[])},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(Z.qu),u.Y36(v.R),u.Y36(N.V),u.Y36(x.t2),u.Y36(f.tT),u.Y36(l.D),u.Y36(p),u.Y36(S.S),u.Y36(We.$))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-inward-material"]],decls:165,vars:26,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"col-auto"],[1,"form-check-inline","mb-2"],[1,"form-check-label"],["type","radio","value","PO","name","Request_type","formControlName","Request_type",1,"form-check-input",3,"click"],["type","radio","value","Challan","name","Request_type","formControlName","Request_type",1,"form-check-input",3,"click"],[1,"row","h-100","mb-2"],["class","col-auto",4,"ngIf"],["for",""],[1,"fw-bold","text-dark"],["type","text","placeholder","Enter Challan Number","formControlName","Challan_Number",1,"form-control","input-group-sm"],["class","text-danger",4,"ngIf"],["formControlName","Vendor_Name",1,"form-select"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["type","Date","formControlName","Dated_On",1,"form-control","input-group-sm"],[1,"text-dark","fw-bold"],[1,"text-danger","fw-bold"],["formControlName","Location_ID",1,"form-select"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],[1,"row","h-100"],[1,"col-lg-4","col-12","mb-2"],["appendTo","body","bindLabel","Name","bindValue","Name","placeholder","Search...",1,"ngselect",3,"loading","items","change","search"],[1,"col-12","d-lg-grid"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","fixed-table"],[1,"table-light"],["scope","col"],[1,"bg-white"],["formArrayName","products",4,"ngFor","ngForOf"],[1,"text-end"],[1,"col-12"],[1,"text-start","my-2"],[1,"btn","btn-dark","btn-sm",2,"width","180px","font-size","14px",3,"disabled","click"],["type","text","placeholder","Enter PO Number","formControlName","PO_Number",1,"form-control","input-group-sm",3,"keyup"],[1,"text-danger"],["class","small",4,"ngIf"],[1,"small"],[3,"value"],[1,"form-check","form-check-inline"],["type","radio","formControlName","User_Type","name","User_Type","id","inlineRadioIT","value","IT","checked","",1,"form-check-input",3,"click"],["for","inlineRadioIT",1,"form-check-label"],["formControlName","User_Type","type","radio","name","User_Type","id","inlineRadioAdmin","value","Admin",1,"form-check-input",3,"click"],["for","inlineRadioAdmin",1,"form-check-label"],["formArrayName","products"],[3,"formGroupName",4,"ngIf"],[4,"ngIf"],[3,"formGroupName"],["formControlName","Manufacturer",1,"form-control",2,"width","250px",3,"ngClass"],["value",""],["type","text","placeholder","Model","formControlName","Model",1,"form-control",2,"width","250px",3,"ngClass"],["type","text","placeholder","Serial no","formControlName","Serial_Number",1,"form-control",2,"width","250px",3,"ngClass"],["type","date","placeholder","Date","formControlName","AMC_Expiry",1,"form-control",2,"width","175px",3,"ngClass"],["type","text","formControlName","AMC_Vendor",1,"form-control",2,"width","250px",3,"ngClass"],["type","date","placeholder","Date","formControlName","Product_Expiry",1,"form-control",2,"width","175px",3,"ngClass"],["type","number","placeholder","qty","formControlName","Quantity",1,"form-control",2,"width","100px",3,"ngClass","keyup"],["type","number","placeholder","qty","formControlName","Price",1,"form-control",2,"width","100px",3,"ngClass","keyup"],["class","fa fa-copy","style","margin: 5px; cursor: pointer",3,"click",4,"ngIf"],[1,"fa","fa-trash",2,"margin","5px","cursor","pointer",3,"click"],[1,"fa","fa-check",2,"margin","5px","cursor","pointer",3,"click"],[1,"fa","fa-copy",2,"margin","5px","cursor","pointer",3,"click"],[1,"fa","fa-pencil",2,"margin","5px","cursor","pointer",3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"form",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"label",4),u.TgZ(5,"input",5),u.NdJ("click",function(e){return t.onChange(e)}),u.qZA(),u._uU(6,"\xa0"),u.TgZ(7,"span"),u.TgZ(8,"b"),u._uU(9,"PO"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"div",3),u.TgZ(11,"label",4),u.TgZ(12,"input",6),u.NdJ("click",function(e){return t.onChange(e)}),u.qZA(),u._uU(13,"\xa0"),u.TgZ(14,"span"),u.TgZ(15,"b"),u._uU(16,"Challan"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(17,"div"),u.TgZ(18,"div",7),u.YNc(19,zr,6,1,"div",8),u.TgZ(20,"div",2),u.TgZ(21,"label",9),u.TgZ(22,"small",10),u._uU(23,"Enter Challan No"),u.qZA(),u.qZA(),u._UZ(24,"input",11),u.YNc(25,es,2,1,"div",12),u.qZA(),u.TgZ(26,"div",2),u.TgZ(27,"label",9),u.TgZ(28,"small",10),u._uU(29,"Vendor Name"),u.qZA(),u.qZA(),u.TgZ(30,"select",13),u.TgZ(31,"option",14),u._uU(32,"Select Vendor"),u.qZA(),u.YNc(33,ts,2,2,"option",15),u.qZA(),u.YNc(34,ss,2,1,"div",12),u.qZA(),u.TgZ(35,"div",2),u.TgZ(36,"label",9),u.TgZ(37,"small",10),u._uU(38,"Date"),u.qZA(),u.qZA(),u._UZ(39,"input",16),u.YNc(40,is,2,1,"div",12),u.qZA(),u.TgZ(41,"div",2),u.TgZ(42,"label",9),u.TgZ(43,"small",17),u._uU(44,"Select Location"),u.qZA(),u.TgZ(45,"span",18),u._uU(46,"*"),u.qZA(),u.qZA(),u.TgZ(47,"select",19),u.TgZ(48,"option",20),u._uU(49,"Select Location"),u.qZA(),u.YNc(50,os,2,2,"option",21),u.qZA(),u.YNc(51,us,2,1,"div",12),u.qZA(),u.YNc(52,ls,15,0,"div",8),u.qZA(),u.TgZ(53,"div",22),u.TgZ(54,"div",23),u.TgZ(55,"ng-select",24),u.NdJ("change",function(e){return t.addRow(e)})("search",function(e){return t.searchTermChanged.next(e.term)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(56,"div",22),u.TgZ(57,"div",25),u.TgZ(58,"div",26),u.TgZ(59,"table",27),u.TgZ(60,"thead",28),u.TgZ(61,"tr"),u.TgZ(62,"th",29),u._uU(63,"Sr.No"),u.qZA(),u.TgZ(64,"th",29),u._uU(65,"Code"),u.qZA(),u.TgZ(66,"th",29),u._uU(67,"Item Name"),u.qZA(),u.TgZ(68,"th",29),u._uU(69,"Manufacturer"),u.qZA(),u.TgZ(70,"th",29),u._uU(71,"Model"),u.qZA(),u.TgZ(72,"th",29),u._uU(73,"Serial Number"),u.qZA(),u.TgZ(74,"th",29),u._uU(75,"AMC Expiry"),u.qZA(),u.TgZ(76,"th",29),u._uU(77,"AMC Vendor"),u.qZA(),u.TgZ(78,"th",29),u._uU(79,"Product warranty"),u.qZA(),u.TgZ(80,"th",29),u._uU(81,"UOM"),u.qZA(),u.TgZ(82,"th",29),u._uU(83,"Quantity"),u.qZA(),u.TgZ(84,"th",29),u._uU(85,"Per Unit Price \u20b9"),u.qZA(),u.TgZ(86,"th",29),u._uU(87,"Sub Total \u20b9"),u.qZA(),u.TgZ(88,"th",29),u._uU(89,"GST %"),u.qZA(),u.TgZ(90,"th",29),u._uU(91,"GST Value \u20b9"),u.qZA(),u.TgZ(92,"th",29),u._uU(93,"Total \u20b9"),u.qZA(),u.TgZ(94,"th",29),u._uU(95,"Action"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(96,"tbody",30),u.YNc(97,hs,3,2,"ng-container",31),u.TgZ(98,"tr"),u._UZ(99,"td"),u._UZ(100,"td"),u._UZ(101,"td"),u._UZ(102,"td"),u._UZ(103,"td"),u._UZ(104,"td"),u._UZ(105,"td"),u._UZ(106,"td"),u._UZ(107,"td"),u._UZ(108,"td"),u._UZ(109,"td"),u._UZ(110,"td"),u._UZ(111,"td"),u._UZ(112,"td"),u.TgZ(113,"td",32),u._uU(114,"Sub Total"),u.qZA(),u.TgZ(115,"td",32),u._uU(116),u.ALo(117,"number"),u.qZA(),u._UZ(118,"td"),u.qZA(),u.TgZ(119,"tr"),u._UZ(120,"td"),u._UZ(121,"td"),u._UZ(122,"td"),u._UZ(123,"td"),u._UZ(124,"td"),u._UZ(125,"td"),u._UZ(126,"td"),u._UZ(127,"td"),u._UZ(128,"td"),u._UZ(129,"td"),u._UZ(130,"td"),u._UZ(131,"td"),u._UZ(132,"td"),u._UZ(133,"td"),u.TgZ(134,"td",32),u._uU(135,"GST"),u.qZA(),u.TgZ(136,"td",32),u._uU(137),u.ALo(138,"number"),u.qZA(),u._UZ(139,"td"),u.qZA(),u.TgZ(140,"tr"),u._UZ(141,"td"),u._UZ(142,"td"),u._UZ(143,"td"),u._UZ(144,"td"),u._UZ(145,"td"),u._UZ(146,"td"),u._UZ(147,"td"),u._UZ(148,"td"),u._UZ(149,"td"),u._UZ(150,"td"),u._UZ(151,"td"),u._UZ(152,"td"),u._UZ(153,"td"),u._UZ(154,"td"),u.TgZ(155,"td",32),u._uU(156,"Total"),u.qZA(),u.TgZ(157,"td",32),u._uU(158),u.ALo(159,"number"),u.qZA(),u._UZ(160,"td"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(161,"div",33),u.TgZ(162,"div",34),u.TgZ(163,"button",35),u.NdJ("click",function(){return t.onSubmit()}),u._uU(164," Submit "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(1),u.Q6J("formGroup",t.inwardForm),u.xp6(18),u.Q6J("ngIf","PO"===t.selectedType),u.xp6(6),u.Q6J("ngIf",t.f.Challan_Number.touched&&t.f.Challan_Number.errors),u.xp6(6),u.Q6J("ngValue",""),u.xp6(2),u.Q6J("ngForOf",t.VendorList),u.xp6(1),u.Q6J("ngIf",t.f.Vendor_Name.touched&&t.f.Vendor_Name.errors),u.xp6(6),u.Q6J("ngIf",t.f.Dated_On.touched&&t.f.Dated_On.errors),u.xp6(10),u.Q6J("ngForOf",t.LocationList),u.xp6(1),u.Q6J("ngIf",t.f.Location_ID.touched&&t.f.Location_ID.errors),u.xp6(1),u.Q6J("ngIf","System Admin"==t.role),u.xp6(3),u.Q6J("loading",t.searchFlag)("items",t.SearchDataList),u.xp6(42),u.Q6J("ngForOf",t.getFormControls.controls),u.xp6(19),u.Oqu(u.xi3(117,17,t.total,"1.2-3")),u.xp6(21),u.Oqu(u.xi3(138,20,t.tax,"1.2-3")),u.xp6(21),u.Oqu(u.xi3(159,23,t.total+t.tax,"1.2-3")),u.xp6(5),u.Q6J("disabled",t.inwardForm.invalid||t.isWebRequest))},directives:[Z._Y,Z.JL,Z.sg,Z._,Z.Fj,Z.JJ,Z.u,U.O5,Z.EJ,Z.YN,Z.Kr,U.sg,et.w9,Z.CE,Z.x0,U.mk,Z.wV],pipes:[U.JJ,U.uU],styles:[".fixed-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .fixed-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap}"]}),e})();new g.WM({"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Headers":"Content-Type"});let Ts=(()=>{class e{constructor(e,t){this.http=e,this.toastr=t,this.perPage=10}setHeaders(){return(new g.WM).set("Content-Type","application/x-www-form-urlencoded")}addInwardHistory(e){return this.http.post(`${c.N.api}/InwardHistory/addInwardHistory/`,e)}getInwardHistory(e){return this.http.post(`${c.N.api}/inward/getInwards`,e)}getByIdDhHistory(e){return this.http.post(`${c.N.api}/inward/getInward`,e)}deleteInwardService(e){return this.http.post(`${c.N.api}/inward/deleteInward`,e)}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(g.eN),u.LFG(d.eP))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var As=r(2624);function _s(e,t){if(1&e&&(u.TgZ(0,"div",2),u.TgZ(1,"div"),u._uU(2," Mahendra Brothers Exports"),u.qZA(),u._UZ(3,"ngx-barcode",3),u.TgZ(4,"div"),u._uU(5),u.qZA(),u.TgZ(6,"div"),u._uU(7),u.qZA(),u.qZA()),2&e){const e=t.$implicit;u.xp6(3),u.Q6J("bc-value",e.Barcode)("bc-format","CODE39")("bc-font","sans-serif")("bc-display-value",!0)("bc-height",25)("bc-width",1.2)("bc-margin",0)("bc-margin-left",0)("bc-margin-top",3)("bc-margin-right",0)("bc-margin-bottom",3)("bc-text-align","left")("bc-font-size",14),u.xp6(2),u.hij("Model: ",e.Model,""),u.xp6(2),u.hij("Serial No.: ",e.Serial_Number,"")}}let qs=(()=>{class e{constructor(){}ngOnInit(){console.log(this.data)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-barcode"]],inputs:{data:"data"},decls:2,vars:1,consts:[["id","print-section"],["class","barcodeContainer",4,"ngFor","ngForOf"],[1,"barcodeContainer"],[3,"bc-value","bc-format","bc-font","bc-display-value","bc-height","bc-width","bc-margin","bc-margin-left","bc-margin-top","bc-margin-right","bc-margin-bottom","bc-text-align","bc-font-size"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.YNc(1,_s,8,15,"div",1),u.qZA()),2&e&&(u.xp6(1),u.Q6J("ngForOf",t.data))},directives:[U.sg,As.y],styles:["#print-section[_ngcontent-%COMP%]{padding:3px;font-family:sans-serif;font-size:2px!important;background-color:#fff;line-height:1;display:none}@page{size:auto;margin:0}"]}),e})();var fs=r(5913);function xs(e,t){if(1&e&&(u.TgZ(0,"div",16),u.TgZ(1,"div",17),u.TgZ(2,"p",18),u._uU(3,"PO NO"),u.qZA(),u.TgZ(4,"span",19),u._uU(5),u.qZA(),u.qZA(),u.TgZ(6,"div",20),u.TgZ(7,"p",18),u._uU(8,"Challan No"),u.qZA(),u.TgZ(9,"span",19),u._uU(10),u.qZA(),u.qZA(),u.TgZ(11,"div",20),u.TgZ(12,"p",18),u._uU(13,"vendor"),u.qZA(),u.TgZ(14,"span",19),u._uU(15),u.qZA(),u.qZA(),u.TgZ(16,"div",20),u.TgZ(17,"p",18),u._uU(18,"Location"),u.qZA(),u.TgZ(19,"span",19),u._uU(20),u.qZA(),u.qZA(),u.TgZ(21,"div",20),u.TgZ(22,"p",18),u._uU(23,"Inward By"),u.qZA(),u.TgZ(24,"span",19),u._uU(25),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(5),u.Oqu(null==e.response?null:e.response.data.PO_Number),u.xp6(5),u.Oqu(null==e.response?null:e.response.data.Challan_No),u.xp6(5),u.Oqu(null==e.response?null:e.response.data.vendor.Name),u.xp6(5),u.Oqu(null==e.response?null:e.response.data.location.Name),u.xp6(5),u.Oqu(null==e.response?null:e.response.data.Inward_By)}}function bs(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",25),u.TgZ(2,"b",26),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function vs(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.ALo(15,"date"),u.qZA(),u.TgZ(16,"td"),u._uU(17),u.qZA(),u.TgZ(18,"td"),u._uU(19),u.ALo(20,"date"),u.qZA(),u.TgZ(21,"td"),u._uU(22),u.qZA(),u.TgZ(23,"td",27),u._uU(24),u.ALo(25,"number"),u.qZA(),u.TgZ(26,"td",27),u._uU(27),u.ALo(28,"number"),u.qZA(),u.TgZ(29,"td",27),u._uU(30),u.ALo(31,"number"),u.qZA(),u.TgZ(32,"td",27),u._uU(33),u.ALo(34,"number"),u.qZA(),u.TgZ(35,"td",27),u._uU(36),u.ALo(37,"number"),u.qZA(),u.qZA()),2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.Barcode),u.xp6(2),u.Oqu(e.product.Name),u.xp6(2),u.Oqu(e.Manufacturer),u.xp6(2),u.Oqu(e.Model),u.xp6(2),u.Oqu(e.Serial_Number),u.xp6(2),u.Oqu(u.xi3(15,15,e.AMC_Expiry,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.AMC_Vendor),u.xp6(2),u.Oqu(u.xi3(20,18,e.Product_Expiry,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.Quantity),u.xp6(2),u.hij(" ",u.xi3(25,21,e.Per_Unit_Price,"1.2-3")," "),u.xp6(3),u.Oqu(u.xi3(28,24,e.Sub_Total,"1.2-3")),u.xp6(3),u.hij(" ",u.xi3(31,27,e.TAX_Percentage,"1.2-3")," "),u.xp6(3),u.Oqu(u.xi3(34,30,e.TAX_Value,"1.2-3")),u.xp6(3),u.Oqu(u.xi3(37,33,e.Total_Price,"1.2-3"))}}function Us(e,t){if(1&e&&(u.TgZ(0,"tbody",21),u.YNc(1,bs,4,0,"tr",22),u.YNc(2,vs,38,36,"tr",23),u.TgZ(3,"tr"),u._UZ(4,"td"),u._UZ(5,"td"),u._UZ(6,"td"),u._UZ(7,"td"),u._UZ(8,"td"),u._UZ(9,"td"),u._UZ(10,"td"),u._UZ(11,"td"),u._UZ(12,"td"),u._UZ(13,"td"),u._UZ(14,"td"),u._UZ(15,"td"),u._UZ(16,"td"),u.TgZ(17,"td",24),u._uU(18,"Sub Total"),u.qZA(),u.TgZ(19,"td",24),u._uU(20),u.ALo(21,"number"),u.qZA(),u.qZA(),u.TgZ(22,"tr"),u._UZ(23,"td"),u._UZ(24,"td"),u._UZ(25,"td"),u._UZ(26,"td"),u._UZ(27,"td"),u._UZ(28,"td"),u._UZ(29,"td"),u._UZ(30,"td"),u._UZ(31,"td"),u._UZ(32,"td"),u._UZ(33,"td"),u._UZ(34,"td"),u._UZ(35,"td"),u.TgZ(36,"td",24),u._uU(37,"GST"),u.qZA(),u.TgZ(38,"td",24),u._uU(39),u.ALo(40,"number"),u.qZA(),u.qZA(),u.TgZ(41,"tr"),u._UZ(42,"td"),u._UZ(43,"td"),u._UZ(44,"td"),u._UZ(45,"td"),u._UZ(46,"td"),u._UZ(47,"td"),u._UZ(48,"td"),u._UZ(49,"td"),u._UZ(50,"td"),u._UZ(51,"td"),u._UZ(52,"td"),u._UZ(53,"td"),u._UZ(54,"td"),u.TgZ(55,"td",24),u._uU(56,"Total"),u.qZA(),u.TgZ(57,"td",24),u._uU(58),u.ALo(59,"number"),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",0===e.response.data.length),u.xp6(1),u.Q6J("ngForOf",null==e.response?null:e.response.data.assets),u.xp6(18),u.hij(" ",u.xi3(21,5,null==e.response?null:e.response.data.Sub_Total,"1.2-3")," "),u.xp6(19),u.hij(" ",u.xi3(40,8,null==e.response?null:e.response.data.Tax_value,"1.2-3")," "),u.xp6(19),u.hij(" ",u.xi3(59,11,null==e.response?null:e.response.data.Total_Price,"1.2-3")," ")}}const ys=function(){return{display:"block","font-size":"14px","font-family":"sans-serif","page-break-after":"always"}},ws=function(e){return{".barcodeContainer":e}};let Ps=(()=>{class e{constructor(e,t,r){this.bsModalRef=e,this._inwardHistoryService=t,this._mastersService=r,this.tableToatal=0,this.barcodes=[]}ngOnInit(){this.getByIdDhHistory()}getByIdDhHistory(){this._inwardHistoryService.getByIdDhHistory({id:this.ID}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.response=e,this.response.data.assets.forEach(e=>{null!=e.Barcode&&this.barcodes.push({ALT_Code:e.product.ALT_Code,Name:e.product.Name,Barcode:e.Barcode,Model:e.Model,Serial_Number:e.Serial_Number})}))},e=>{this._mastersService.showalert(e.error.message,"error")})}close(){this.bsModalRef.hide()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(f.UZ),u.Y36(Ts),u.Y36(v.R))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-view-inward-history"]],decls:47,vars:7,consts:[[1,"modal-header","bg-light"],[1,"modal-title","pull-left","fw-bold","mr-3"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","mx-1"],["class","row mb-2",4,"ngIf"],[1,"row"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col"],["class","bg-white",4,"ngIf"],[1,"row","my-2"],[1,"col"],[3,"data"],["printSectionId","print-section","ngxPrint","",1,"btn","btn-1","btn-sm","text-white",3,"printStyle"],[1,"row","mb-2"],[1,"col-auto"],[1,"fw-bold"],[1,"text-muted"],[1,"col-auto","mx-4"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-end","fw-bold"],["colspan","14",1,"text-center"],[1,"text-muted",2,"font-size","large"],[1,"text-end"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"h5",1),u._uU(2,"View Details"),u.qZA(),u.TgZ(3,"button",2),u.NdJ("click",function(){return t.close()}),u.qZA(),u.qZA(),u.TgZ(4,"div",3),u.YNc(5,xs,26,5,"div",4),u.TgZ(6,"div",5),u.TgZ(7,"div",6),u.TgZ(8,"table",7),u.TgZ(9,"thead",8),u.TgZ(10,"tr"),u.TgZ(11,"th",9),u._uU(12,"Sr.No"),u.qZA(),u.TgZ(13,"th",10),u._uU(14,"Barcode"),u.qZA(),u.TgZ(15,"th",10),u._uU(16,"Item Name"),u.qZA(),u.TgZ(17,"th",10),u._uU(18,"Manufacturer"),u.qZA(),u.TgZ(19,"th",10),u._uU(20,"Model"),u.qZA(),u.TgZ(21,"th",10),u._uU(22,"Serial Number"),u.qZA(),u.TgZ(23,"th",10),u._uU(24,"AMC Expiry"),u.qZA(),u.TgZ(25,"th",10),u._uU(26,"AMC Vendor"),u.qZA(),u.TgZ(27,"th",10),u._uU(28,"Product warranty"),u.qZA(),u.TgZ(29,"th",10),u._uU(30,"Quantity"),u.qZA(),u.TgZ(31,"th",10),u._uU(32,"Per Price \u20b9"),u.qZA(),u.TgZ(33,"th",10),u._uU(34,"Sub Total \u20b9"),u.qZA(),u.TgZ(35,"th",10),u._uU(36,"GST %"),u.qZA(),u.TgZ(37,"th",10),u._uU(38,"GST Value \u20b9"),u.qZA(),u.TgZ(39,"th",10),u._uU(40,"Total \u20b9"),u.qZA(),u.qZA(),u.qZA(),u.YNc(41,Us,60,14,"tbody",11),u.qZA(),u.TgZ(42,"div",12),u.TgZ(43,"div",13),u._UZ(44,"app-barcode",14),u.TgZ(45,"button",15),u._uU(46," Print Barcodes "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(5),u.Q6J("ngIf",null==t.response?null:t.response.data),u.xp6(36),u.Q6J("ngIf",null==t.response?null:t.response.data),u.xp6(3),u.Q6J("data",t.barcodes),u.xp6(1),u.Q6J("printStyle",u.VKq(5,ws,u.DdM(4,ys))))},directives:[U.O5,qs,fs.I,U.sg],pipes:[U.JJ,U.uU],styles:["p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}"]}),e})();var Cs=r(4085);function Ns(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",23),u.TgZ(2,"b",24),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function Ss(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"a",29),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw(2).confirmModal(t.ID)}),u._uU(1,"Delete"),u.qZA()}}function Ls(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.ALo(11,"date"),u.qZA(),u.TgZ(12,"td"),u._uU(13),u.qZA(),u.TgZ(14,"td",25),u._uU(15),u.ALo(16,"number"),u.qZA(),u.TgZ(17,"td",25),u._uU(18),u.ALo(19,"number"),u.qZA(),u.TgZ(20,"td",25),u._uU(21),u.ALo(22,"number"),u.qZA(),u.TgZ(23,"td",26),u.TgZ(24,"a",27),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(2).ViewInwardModal(t.ID)}),u._uU(25,"View Details"),u.qZA(),u.YNc(26,Ss,2,0,"a",28),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit,r=t.index,s=u.oxw(2);u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.PO_Number),u.xp6(2),u.Oqu(e.Challan_No),u.xp6(2),u.Oqu(null==e.vendor?null:e.vendor.Name),u.xp6(2),u.Oqu(u.xi3(11,10,e.Dated_On,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.Quantity),u.xp6(2),u.Oqu(u.xi3(16,13,e.Sub_Total,"1.2-3")),u.xp6(3),u.Oqu(u.xi3(19,16,e.Tax_value,"1.2-3")),u.xp6(3),u.hij("\u20b9 ",u.xi3(22,19,e.Total_Price,"1.2-3"),""),u.xp6(5),u.Q6J("ngIf","System Admin"==s.role)}}function Ds(e,t){if(1&e&&(u.TgZ(0,"tbody",20),u.YNc(1,Ns,4,0,"tr",21),u.YNc(2,Ls,27,22,"tr",22),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",0===e.InwardHistoryList.data.length),u.xp6(1),u.Q6J("ngForOf",e.InwardHistoryList.data)}}function Is(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",30),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw().pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw().changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw();u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.InwardHistoryList.total)("lastPage",e.InwardHistoryList.totalPages)}}let Os=(()=>{class e{constructor(e,t,r,s,a,i){this.modalService=e,this.dataservice=t,this._mastersService=r,this.storageService=s,this._excelService=a,this._inwardHistoryService=i,this.eventsCounter=new A.xQ,this.ngUnsubscribe=new A.xQ,this.search="",this.InwardHistoryList=[],this.searchTermChanged=new A.xQ,this.role=this.storageService.secureStorage.getItem("role"),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.dataservice.setTitle("Inward History"),this.getInwardHistoryList()}searchTasks(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.currentPage=1,this.getInwardHistoryList()}),this.searchTermChanged.next(e)}getInwardHistoryList(){this._inwardHistoryService.getInwardHistory({pageNumber:this.currentPage,numberOfRows:this.perPage,search:this.search}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.InwardHistoryList=e},e=>{this._mastersService.showalert(e.error.message,"error")})}ViewInwardModal(e){this.bsModalRef1=this.modalService.show(Ps,{initialState:{type:"view-inward-history",ID:e},animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-lg inward-material"})}confirmModal(e){this.bsModalRef1=this.modalService.show(Cs.z,{animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-sm"}),this.bsModalRef1.content.event.subscribe(t=>{"delete"===t.data&&this.deleteInwardHistory(e)})}deleteInwardHistory(e){this._inwardHistoryService.deleteInwardService({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this._mastersService.showalert(e.message,"success"),this.getInwardHistoryList())})}pager(e){this.currentPage=e,this.getInwardHistoryList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getInwardHistoryList()}InwardHistoryExportToExcel(){this._excelService.downloadInwardhistoryExport({search:this.search}).subscribe(e=>(0,je.saveAs)(e,"inward-history.xlsx"))}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(f.tT),u.Y36(l.D),u.Y36(v.R),u.Y36(N.V),u.Y36(Ge.x),u.Y36(Ts))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-inward-history"]],decls:41,vars:3,consts:[[1,"container-fluid","mb-2","main-container"],[1,"row","h-100"],[1,"col-lg-4","col-12","mb-2"],["for",""],[1,"text-dark","fw-bold"],[1,"input-group","input-group"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col","lg-4","text-end","mt-4"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col"],["scope","col",1,"w-6"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","10",1,"text-center"],[1,"text-muted",2,"font-size","large"],[1,"text-end"],[1,"text-center"],[1,"btn","btn-1","btn-sm",2,"margin-right","2px","font-size","11px",3,"click"],["class","btn btn-1 btn-sm","style","font-size: 11px;",3,"click",4,"ngIf"],[1,"btn","btn-1","btn-sm",2,"font-size","11px",3,"click"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"label",3),u.TgZ(4,"small",4),u._uU(5,"Search"),u.qZA(),u.qZA(),u.TgZ(6,"div",5),u.TgZ(7,"span",6),u._UZ(8,"img",7),u.qZA(),u.TgZ(9,"input",8),u.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchTasks(e)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"div",9),u.TgZ(11,"label",3),u._UZ(12,"small",4),u.qZA(),u.TgZ(13,"button",10),u.NdJ("click",function(){return t.InwardHistoryExportToExcel()}),u._uU(14," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(15,"div",11),u.TgZ(16,"table",12),u.TgZ(17,"thead",13),u.TgZ(18,"tr"),u.TgZ(19,"th",14),u._uU(20,"Sr.No"),u.qZA(),u.TgZ(21,"th",15),u._uU(22,"PO Number"),u.qZA(),u.TgZ(23,"th",15),u._uU(24,"Challan No."),u.qZA(),u.TgZ(25,"th",15),u._uU(26,"Vendor name"),u.qZA(),u.TgZ(27,"th",15),u._uU(28,"Date"),u.qZA(),u.TgZ(29,"th",15),u._uU(30,"Quantity"),u.qZA(),u.TgZ(31,"th",16),u._uU(32,"Sub Total"),u.qZA(),u.TgZ(33,"th",16),u._uU(34,"GST Value"),u.qZA(),u.TgZ(35,"th",17),u._uU(36,"Total"),u.qZA(),u.TgZ(37,"th",17),u._uU(38,"Action"),u.qZA(),u.qZA(),u.qZA(),u.YNc(39,Ds,3,2,"tbody",18),u.qZA(),u.qZA(),u.YNc(40,Is,1,4,"app-pagination",19),u.qZA()),2&e&&(u.xp6(9),u.Q6J("ngModel",t.search),u.xp6(30),u.Q6J("ngIf",null==t.InwardHistoryList?null:t.InwardHistoryList.data),u.xp6(1),u.Q6J("ngIf",null==t.InwardHistoryList?null:t.InwardHistoryList.data))},directives:[Z.Fj,Z.JJ,Z.On,U.O5,U.sg,Ke.Q],pipes:[U.uU,U.JJ],styles:["ul[_ngcontent-%COMP%]{list-style-type:none}"]}),e})();new g.WM({"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Headers":"Content-Type"});let ks=(()=>{class e{constructor(e,t,r){this.http=e,this.toastr=t,this.storageService=r,this.perPage=10}setHeaders(){return(new g.WM).set("Content-Type","application/x-www-form-urlencoded")}addDispatchAPI(e){return this.http.post(`${c.N.api}/dispatch-history/adddispatch-history/`,e)}getAllLocations(e){return this.http.post(`${c.N.api}/location/getAllLocation`,e)}getAllDispatchHistory(e){return this.http.post(`${c.N.api}/dispatch/getDispatches`,e)}getByIdDispatchHistory(e){return this.http.post(`${c.N.api}/dispatch/getDispatch`,e)}getAssetHistory(e){return this.http.post(`${c.N.api}/product/trackAsset`,e)}getEmployeeAssetHistory(e){return this.http.post(`${c.N.api}/dispatch/trackEmployee`,e)}searchEmployeeDataList(e){return this.http.post(`${c.N.api}/dispatch/searchEmployee`,e)}deleteDispatchService(e){return this.http.post(`${c.N.api}/dispatch/deleteDispatch`,e)}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(g.eN),u.LFG(d.eP),u.LFG(N.V))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Rs(e,t){if(1&e&&(u.TgZ(0,"div",16),u.TgZ(1,"div",17),u.TgZ(2,"span",18),u._uU(3,"Gate Pass No"),u.qZA(),u.TgZ(4,"p",19),u._uU(5),u.qZA(),u.qZA(),u.TgZ(6,"div",17),u.TgZ(7,"span",18),u._uU(8,"Date"),u.qZA(),u.TgZ(9,"p",19),u._uU(10),u.ALo(11,"date"),u.qZA(),u.qZA(),u.TgZ(12,"div",17),u.TgZ(13,"span",18),u._uU(14,"Dispatch By"),u.qZA(),u.TgZ(15,"p",19),u._uU(16),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(5),u.Oqu(null==e.response?null:e.response.data.Gate_Pass_No),u.xp6(5),u.hij(" ",u.xi3(11,3,null==e.response?null:e.response.data.Dated_On,"dd/MM/yyyy")," "),u.xp6(6),u.Oqu(null==e.response?null:e.response.data.Dispatch_By)}}function Js(e,t){if(1&e&&(u.TgZ(0,"div",6),u.TgZ(1,"div",17),u.TgZ(2,"span",18),u._uU(3,"From Location"),u.qZA(),u.TgZ(4,"p",19),u._uU(5),u.qZA(),u.qZA(),u.TgZ(6,"div",17),u.TgZ(7,"span",18),u._uU(8,"To Location"),u.qZA(),u.TgZ(9,"p",19),u._uU(10),u.qZA(),u.qZA(),u.TgZ(11,"div",17),u.TgZ(12,"span",18),u._uU(13,"Department"),u.qZA(),u.TgZ(14,"p",19),u._uU(15),u.qZA(),u.qZA(),u.TgZ(16,"div",17),u.TgZ(17,"span",18),u._uU(18,"Cost Center"),u.qZA(),u.TgZ(19,"p",19),u._uU(20),u.qZA(),u.qZA(),u.TgZ(21,"div",17),u.TgZ(22,"span",18),u._uU(23,"Collected by"),u.qZA(),u.TgZ(24,"p",19),u._uU(25),u.qZA(),u.qZA(),u.TgZ(26,"div",17),u.TgZ(27,"span",18),u._uU(28,"Made of Transport"),u.qZA(),u.TgZ(29,"p",19),u._uU(30),u.qZA(),u.qZA(),u.TgZ(31,"div",17),u.TgZ(32,"span",18),u._uU(33,"Quantity"),u.qZA(),u.TgZ(34,"p",19),u._uU(35),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(5),u.Oqu(null==e.response?null:e.response.data.fromLocation.Name),u.xp6(5),u.Oqu(null==e.response?null:e.response.data.toLocation.Name),u.xp6(5),u.Oqu(null==e.response?null:e.response.data.Department),u.xp6(5),u.Oqu(null==e.response?null:e.response.data.Cost_Center),u.xp6(5),u.Oqu(null==e.response?null:e.response.data.Collected_By),u.xp6(5),u.Oqu(null==e.response?null:e.response.data.Mode_Of_Transport),u.xp6(5),u.Oqu(null==e.response?null:e.response.data.Quantity)}}function Ms(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",23),u.TgZ(2,"b",24),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function Qs(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.qZA(),u.qZA()),2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.asset.Barcode),u.xp6(2),u.Oqu(e.asset.product.ALT_Code),u.xp6(2),u.Oqu(e.asset.product.Name),u.xp6(2),u.Oqu(e.Quantity),u.xp6(2),u.Oqu(e.asset.product.UOM),u.xp6(2),u.Oqu(e.User_Name)}}function Fs(e,t){if(1&e&&(u.TgZ(0,"tbody",20),u.YNc(1,Ms,4,0,"tr",21),u.YNc(2,Qs,15,7,"tr",22),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",0===e.response.data.length),u.xp6(1),u.Q6J("ngForOf",null==e.response?null:e.response.data.asset_transactions)}}const Ys=function(){return{display:"block","page-break-before":"always"}},Es=function(e){return{".barcodeContainer":e}};function Hs(e,t){if(1&e&&(u.TgZ(0,"div",25),u.TgZ(1,"div",26),u._UZ(2,"app-barcode",27),u.TgZ(3,"button",28),u._uU(4," Print Barcodes "),u.qZA(),u.TgZ(5,"a",29),u._uU(6,"Print Gate Pass"),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(2),u.Q6J("data",e.barcodes),u.xp6(1),u.Q6J("printStyle",u.VKq(4,Es,u.DdM(3,Ys))),u.xp6(2),u.s9C("href",e.fileUrl+"gatepass/"+(null==e.response?null:e.response.data.File_Name),u.LSH)}}let Vs=(()=>{class e{constructor(e,t,r){this.bsModalRef=e,this._mastersService=t,this._dispatchHistoryService=r,this.response=[],this.barcodes=[]}ngOnInit(){this.fileUrl=c.N.fileUrl,this.getByIDPOHistoryList()}getByIDPOHistoryList(){this._dispatchHistoryService.getByIdDispatchHistory({id:this.ID}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.response=e,this.response.data.asset_transactions.forEach(e=>{null!=e.asset.Barcode&&this.barcodes.push({ALT_Code:e.asset.product.ALT_Code,Name:e.asset.product.Name,Barcode:e.asset.Barcode,Model:e.asset.Model,Serial_Number:e.asset.Serial_Number})}))},e=>{this._mastersService.showalert(e.error.message,"error")})}close(){this.bsModalRef.hide()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(f.UZ),u.Y36(v.R),u.Y36(ks))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-view-dispatch-history"]],decls:32,vars:4,consts:[[1,"modal-header","bg-light"],[1,"modal-title","pull-left","fw-bold","mr-3"],[1,"mx-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","mx-1"],["class","row mb-2",4,"ngIf"],[1,"row"],["class","row",4,"ngIf"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col"],["scope","col",1,"w-20"],["class","bg-white",4,"ngIf"],["class","row pull-right my-2",4,"ngIf"],[1,"row","mb-2"],[1,"col-auto"],[1,"fw-bold"],[1,"text-muted"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","8",1,"text-center"],[1,"text-muted",2,"font-size","large"],[1,"row","pull-right","my-2"],[1,"col","mx-2"],[3,"data"],["printSectionId","print-section","ngxPrint","",1,"btn","btn-1","btn-sm","text-white",2,"margin-right","5px",3,"printStyle"],[1,"btn","btn-1","btn-sm","text-white",2,"width","190px",3,"href"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"h5",1),u._uU(2," View Details "),u.TgZ(3,"span",2),u._UZ(4,"small"),u.qZA(),u.qZA(),u.TgZ(5,"button",3),u.NdJ("click",function(){return t.close()}),u.qZA(),u.qZA(),u.TgZ(6,"div",4),u.YNc(7,Rs,17,6,"div",5),u.TgZ(8,"div",6),u._UZ(9,"hr"),u.qZA(),u.YNc(10,Js,36,7,"div",7),u.TgZ(11,"div",6),u.TgZ(12,"div",8),u.TgZ(13,"table",9),u.TgZ(14,"thead",10),u.TgZ(15,"tr"),u.TgZ(16,"th",11),u._uU(17,"Sr.No"),u.qZA(),u.TgZ(18,"th",12),u._uU(19,"Barcode"),u.qZA(),u.TgZ(20,"th",12),u._uU(21,"Code"),u.qZA(),u.TgZ(22,"th",12),u._uU(23,"Item"),u.qZA(),u.TgZ(24,"th",13),u._uU(25,"Quantity"),u.qZA(),u.TgZ(26,"th",13),u._uU(27,"UOM"),u.qZA(),u.TgZ(28,"th",13),u._uU(29,"User Name"),u.qZA(),u.qZA(),u.qZA(),u.YNc(30,Fs,3,2,"tbody",14),u.qZA(),u.YNc(31,Hs,7,6,"div",15),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(7),u.Q6J("ngIf",null==t.response?null:t.response.data),u.xp6(3),u.Q6J("ngIf",null==t.response?null:t.response.data),u.xp6(20),u.Q6J("ngIf",null==t.response?null:t.response.data),u.xp6(1),u.Q6J("ngIf",null==t.response?null:t.response.data))},directives:[U.O5,U.sg,qs,fs.I],pipes:[U.uU],styles:[".text-muted[_ngcontent-%COMP%]{color:#333!important}"]}),e})();function $s(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",21),u.TgZ(2,"b",22),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function Bs(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"td",25),u.TgZ(1,"a",26),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw(2).ViewDispatchModal(t.ID)}),u._uU(2,"View Details"),u.qZA(),u.TgZ(3,"a",27),u._uU(4,"Download"),u.qZA(),u.qZA()}if(2&e){const e=u.oxw().$implicit,t=u.oxw(2);u.xp6(3),u.s9C("href",t.fileUrl+"gatepass/"+e.File_Name,u.LSH)}}function js(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"td",28),u.TgZ(1,"a",26),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw(2).ViewDispatchModal(t.ID)}),u._uU(2,"View Details"),u.qZA(),u.TgZ(3,"a",27),u._uU(4,"Download"),u.qZA(),u.TgZ(5,"a",29),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw(2).confirmModal(t.ID)}),u._uU(6,"Delete"),u.qZA(),u.qZA()}if(2&e){const e=u.oxw().$implicit,t=u.oxw(2);u.xp6(3),u.s9C("href",t.fileUrl+"gatepass/"+e.File_Name,u.LSH)}}function Xs(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.ALo(7,"date"),u.qZA(),u.TgZ(8,"td"),u._uU(9),u.qZA(),u.TgZ(10,"td"),u._uU(11),u.qZA(),u.TgZ(12,"td"),u._uU(13),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.qZA(),u.TgZ(16,"td"),u._uU(17),u.qZA(),u.TgZ(18,"td"),u._uU(19),u.qZA(),u.YNc(20,Bs,5,1,"td",23),u.YNc(21,js,7,1,"td",24),u.qZA()),2&e){const e=t.$implicit,r=t.index,s=u.oxw(2);u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.Gate_Pass_No),u.xp6(2),u.Oqu(u.xi3(7,11,e.Dated_On,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.fromLocation.Name),u.xp6(2),u.Oqu(e.toLocation.Name),u.xp6(2),u.Oqu(e.Department),u.xp6(2),u.Oqu(e.Collected_By),u.xp6(2),u.Oqu(e.Mode_Of_Transport),u.xp6(2),u.Oqu(e.Quantity),u.xp6(1),u.Q6J("ngIf","System Admin"!=s.role),u.xp6(1),u.Q6J("ngIf","System Admin"==s.role)}}function Gs(e,t){if(1&e&&(u.TgZ(0,"tbody",18),u.YNc(1,$s,4,0,"tr",19),u.YNc(2,Xs,22,14,"tr",20),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",0===e.DispatchHistoryList.data.length),u.xp6(1),u.Q6J("ngForOf",null==e.DispatchHistoryList?null:e.DispatchHistoryList.data)}}function Ws(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",30),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw().pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw().changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw();u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.DispatchHistoryList.total)("lastPage",e.DispatchHistoryList.totalPages)}}let zs=(()=>{class e{constructor(e,t,r,s,a,i){this.modalService=e,this.dataservice=t,this._mastersService=r,this._excelService=s,this._dispatchHistoryService=a,this.storageService=i,this.eventsCounter=new A.xQ,this.ngUnsubscribe=new A.xQ,this.search="",this.DispatchHistoryList=[],this.LocationList=[],this.searchTermChanged=new A.xQ,this.role=this.storageService.secureStorage.getItem("role"),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.dataservice.setTitle("Dispatch History"),this.getDispatchHistoryList(),this.getAllLocationList(),this.fileUrl=c.N.fileUrl}searchTasks(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.currentPage=1,this.getDispatchHistoryList()}),this.searchTermChanged.next(e)}getDispatchHistoryList(){this._dispatchHistoryService.getAllDispatchHistory({pageNumber:this.currentPage,numberOfRows:this.perPage,search:this.search}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.DispatchHistoryList=e},e=>{this._mastersService.showalert(e.error.message,"error")})}getAllLocationList(){this._dispatchHistoryService.getAllLocations({}).subscribe(e=>{e.error||(this.LocationList=e.data)})}ViewDispatchModal(e){this.bsModalRef1=this.modalService.show(Vs,{initialState:{type:"view-dispatch",ID:e},animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-md dispatch-history-modal"})}confirmModal(e){this.bsModalRef1=this.modalService.show(Cs.z,{animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-sm"}),this.bsModalRef1.content.event.subscribe(t=>{"delete"===t.data&&this.deleteDispatchHistory(e)})}deleteDispatchHistory(e){this._dispatchHistoryService.deleteDispatchService({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this._mastersService.showalert(e.message,"success"),this.getDispatchHistoryList())})}pager(e){this.currentPage=e,this.getDispatchHistoryList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getDispatchHistoryList()}DispatchHistoryExportToExcel(){this._excelService.downloaddispatchHistoryExport({search:this.search}).subscribe(e=>(0,je.saveAs)(e,"dispatch-history.xlsx"))}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(f.tT),u.Y36(l.D),u.Y36(v.R),u.Y36(Ge.x),u.Y36(ks),u.Y36(N.V))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-dispatch-history"]],decls:41,vars:3,consts:[[1,"container-fluid","mb-2","main-container"],[1,"row","h-100","mb-2"],[1,"col-auto"],["for",""],[1,"text-dark","fw-bold"],[1,"input-group","input-group"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col","lg-4","text-end","mt-4"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col"],["scope","col",1,"text-center"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","9",1,"text-center"],[1,"text-muted",2,"font-size","large"],["style","width: 172px",4,"ngIf"],["style","width: 220px",4,"ngIf"],[2,"width","172px"],[1,"btn","btn-1","btn-sm",2,"margin-right","2px","font-size","11px",3,"click"],["target","_blank",1,"btn","btn-1","btn-sm",2,"margin-right","2px","font-size","11px",3,"href"],[2,"width","220px"],[1,"btn","btn-1","btn-sm",2,"font-size","11px",3,"click"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"label",3),u.TgZ(4,"small",4),u._uU(5,"Search"),u.qZA(),u.qZA(),u.TgZ(6,"div",5),u.TgZ(7,"span",6),u._UZ(8,"img",7),u.qZA(),u.TgZ(9,"input",8),u.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchTasks(e)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"div",9),u.TgZ(11,"label",3),u._UZ(12,"small",4),u.qZA(),u.TgZ(13,"button",10),u.NdJ("click",function(){return t.DispatchHistoryExportToExcel()}),u._uU(14," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(15,"div",11),u.TgZ(16,"table",12),u.TgZ(17,"thead",13),u.TgZ(18,"tr"),u.TgZ(19,"th",14),u._uU(20,"Sr.No"),u.qZA(),u.TgZ(21,"th",14),u._uU(22,"Gate Pass No"),u.qZA(),u.TgZ(23,"th",14),u._uU(24,"Date"),u.qZA(),u.TgZ(25,"th",14),u._uU(26,"From Location"),u.qZA(),u.TgZ(27,"th",14),u._uU(28,"To Location"),u.qZA(),u.TgZ(29,"th",14),u._uU(30,"Department/Cost Center"),u.qZA(),u.TgZ(31,"th",14),u._uU(32,"Collected By"),u.qZA(),u.TgZ(33,"th",14),u._uU(34,"Mode Of Transport"),u.qZA(),u.TgZ(35,"th",14),u._uU(36,"Quantity"),u.qZA(),u.TgZ(37,"th",15),u._uU(38,"Action"),u.qZA(),u.qZA(),u.qZA(),u.YNc(39,Gs,3,2,"tbody",16),u.qZA(),u.qZA(),u.YNc(40,Ws,1,4,"app-pagination",17),u.qZA()),2&e&&(u.xp6(9),u.Q6J("ngModel",t.search),u.xp6(30),u.Q6J("ngIf",null==t.DispatchHistoryList?null:t.DispatchHistoryList.data),u.xp6(1),u.Q6J("ngIf",null==t.DispatchHistoryList?null:t.DispatchHistoryList.data))},directives:[Z.Fj,Z.JJ,Z.On,U.O5,U.sg,Ke.Q],pipes:[U.uU],styles:[""]}),e})();new g.WM({"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Headers":"Content-Type"});let Ks=(()=>{class e{constructor(e,t){this.http=e,this.toastr=t,this.perPage=10}setHeaders(){return(new g.WM).set("Content-Type","application/x-www-form-urlencoded")}addLowStockAlertAPI(e){return this.http.post(`${c.N.api}/LowStockAlert/addLowStockAlert/`,e)}getLowStockAlertAPI(e){return this.http.post(`${c.N.api}/stock/getLowStockAlert`,e)}updateLowStockAlertRequest(e){return this.http.post(`${c.N.api}/purchase/getPOFromLowStock`,e)}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(g.eN),u.LFG(d.eP))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ea(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",21),u.TgZ(1,"label",22),u.TgZ(2,"small",23),u._uU(3,"Department"),u.qZA(),u.TgZ(4,"span",24),u._uU(5,"*"),u.qZA(),u.qZA(),u._UZ(6,"br"),u.TgZ(7,"div",25),u.TgZ(8,"input",26),u.NdJ("click",function(t){return u.CHM(e),u.oxw().onChangeDepartment(t)}),u.qZA(),u.TgZ(9,"label",27),u._uU(10,"IT"),u.qZA(),u.qZA(),u.TgZ(11,"div",25),u.TgZ(12,"input",28),u.NdJ("click",function(t){return u.CHM(e),u.oxw().onChangeDepartment(t)}),u.qZA(),u.TgZ(13,"label",29),u._uU(14,"Admin"),u.qZA(),u.qZA(),u.qZA()}}function ta(e,t){if(1&e){const e=u.EpF();u.ynx(0,30),u.TgZ(1,"tr",31),u.TgZ(2,"td",32),u.TgZ(3,"input",33),u.NdJ("change",function(t){const r=u.CHM(e).$implicit;return u.oxw().onCheckChange(t,r)}),u.qZA(),u.qZA(),u.TgZ(4,"td"),u._uU(5),u.qZA(),u.TgZ(6,"td"),u._uU(7),u.qZA(),u.TgZ(8,"td"),u._uU(9),u.qZA(),u.TgZ(10,"td"),u._uU(11),u.qZA(),u.qZA(),u.BQk()}if(2&e){const e=t.$implicit,r=t.index;u.xp6(1),u.Q6J("formGroupName",r),u.xp6(2),u.Q6J("checked",e.get("checked").value),u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.get("Name").value),u.xp6(2),u.Oqu(e.get("Current_Quantity").value),u.xp6(2),u.Oqu(e.get("Low_Stock_Quantity").value)}}function ra(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",34),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw().pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw().changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw();u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.LowStockAlertList.total)("lastPage",e.LowStockAlertList.totalPages)}}const sa=function(){return{standalone:!0}};let aa=(()=>{class e{constructor(e,t,r,s,a,i){this.formBuilder=e,this.dataservice=t,this._lowStockAlertService=r,this.storageService=s,this._mastersService=a,this.router=i,this.eventsCounter=new A.xQ,this.ngUnsubscribe=new A.xQ,this.search="",this.LowStockAlertList=[],this.departmentValue="IT",this.isWebRequest=!1,this.searchTermChanged=new A.xQ,this.role=this.storageService.secureStorage.getItem("role"),this.perPage=this._mastersService.perPage,this.currentPage=1,this.requestForm=this.formBuilder.group({ID:[""],products:this.formBuilder.array([])})}ngOnInit(){this.departmentValue="IT",this.dataservice.setTitle("Low Stock Alert"),this.getLowStockAlertList()}searchEvent(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.currentPage=1,this.getLowStockAlertList()}),this.searchTermChanged.next(e)}getLowStockAlertList(){this._lowStockAlertService.getLowStockAlertAPI({pageNumber:this.currentPage,numberOfRows:this.perPage,search:this.search,User_Type:this.departmentValue}).subscribe(e=>{if(e.error)this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error");else{this.LowStockAlertList=e;const t=this.requestForm.get("products");t.controls=[],this.LowStockAlertList.data.forEach(e=>{t.push(this.initiateForm({checked:!1,ID:e.ID,Name:e.Name,Current_Quantity:e.Current_Quantity,Low_Stock_Quantity:e.Low_Stock_Quantity}))})}},e=>{this._mastersService.showalert(e.error.message,"error")})}get getFormControls(){return this.requestForm.get("products")}pager(e){this.currentPage=e,this.getLowStockAlertList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getLowStockAlertList()}onChangeDepartment(e){this.departmentValue=e.target.value,this.getLowStockAlertList()}initiateForm(e){return this.formBuilder.group({checked:[e.checked],ID:[e.ID],Name:[e.Name],Current_Quantity:[e.Current_Quantity],Low_Stock_Quantity:[e.Low_Stock_Quantity]})}onCheckChange(e,t){t.get("checked").setValue(e.target.checked)}onRaisePO(){this.onSubmit()}editRow(e){e.get("isEditable").setValue(!0)}doneRow(e){e.get("isEditable").setValue(!1)}onSubmit(){let e=this.requestForm.value.products.filter(e=>e.checked);e.length>0?(this.isWebRequest=!0,this._lowStockAlertService.updateLowStockAlertRequest({User_Type:this.departmentValue,products:e}).subscribe(e=>{this.isWebRequest=!1,e.error?this._mastersService.showalert(e.message,"error"):(this.requestForm.reset(),this.requestForm.get("products").controls=[],this.router.navigate(["home/it-admin/requests"],{state:{data:e.data}}),this._mastersService.showalert(e.message,"success"))},e=>{this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})):this._mastersService.showalert("Please select atleast 1 product","info")}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(Z.qu),u.Y36(l.D),u.Y36(Ks),u.Y36(N.V),u.Y36(v.R),u.Y36(s.F0))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-low-stock-alert"]],decls:28,vars:8,consts:[[1,"container-fluid","mb-2","main-container"],[1,"row","h-100","mb-2"],[1,"col-lg-4"],[1,"input-group","input-group"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup"],["class","col-lg-6 col-12",4,"ngIf"],[3,"formGroup"],[1,"table-responsive","mb-3"],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col",2,"width","40px"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col"],["scope","col",1,"w-10"],[1,"bg-white"],["formArrayName","products",4,"ngFor","ngForOf"],[1,"btn","btn-dark","btn-sm","float-right","m-2",2,"width","180px","font-size","14px",3,"disabled","click"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],[1,"col-lg-6","col-12"],["for",""],[1,"text-dark","fw-bold"],[1,"text-danger","fw-bold"],[1,"form-check","form-check-inline"],["type","radio","name","Asset_Holder","id","inlineRadioIT","value","IT","checked","",1,"form-check-input",3,"click"],["for","inlineRadioIT",1,"form-check-label"],["type","radio","name","Asset_Holder","id","inlineRadioAdmin","value","Admin",1,"form-check-input",3,"click"],["for","inlineRadioAdmin",1,"form-check-label"],["formArrayName","products"],[3,"formGroupName"],[2,"text-align","center"],["type","checkbox","formControlName","checked",3,"checked","change"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"span",4),u._UZ(5,"img",5),u.qZA(),u.TgZ(6,"input",6),u.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchEvent(e)}),u.qZA(),u.qZA(),u.qZA(),u.YNc(7,ea,15,0,"div",7),u.qZA(),u.TgZ(8,"div"),u.TgZ(9,"form",8),u.TgZ(10,"div",9),u.TgZ(11,"table",10),u.TgZ(12,"thead",11),u.TgZ(13,"tr"),u._UZ(14,"th",12),u.TgZ(15,"th",13),u._uU(16," Sr.No"),u.qZA(),u.TgZ(17,"th",14),u._uU(18,"Item Name"),u.qZA(),u.TgZ(19,"th",15),u._uU(20,"Current Quantity"),u.qZA(),u.TgZ(21,"th",16),u._uU(22,"Minimum Quantity"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(23,"tbody",17),u.YNc(24,ta,12,6,"ng-container",18),u.qZA(),u.qZA(),u.TgZ(25,"button",19),u.NdJ("click",function(){return t.onRaisePO()}),u._uU(26,"Raise PO"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.YNc(27,ra,1,4,"app-pagination",20),u.qZA()),2&e&&(u.xp6(6),u.Q6J("ngModel",t.search)("ngModelOptions",u.DdM(7,sa)),u.xp6(1),u.Q6J("ngIf","System Admin"==t.role),u.xp6(2),u.Q6J("formGroup",t.requestForm),u.xp6(15),u.Q6J("ngForOf",t.getFormControls.controls),u.xp6(1),u.Q6J("disabled",t.requestForm.invalid||t.isWebRequest),u.xp6(2),u.Q6J("ngIf",null==t.LowStockAlertList?null:t.LowStockAlertList.data))},directives:[Z.Fj,Z.JJ,Z.On,U.O5,Z._Y,Z.JL,Z.sg,U.sg,Z.CE,Z.x0,Z.Wl,Z.u,Ke.Q],styles:[""]}),e})();function ia(e,t){if(1&e&&(u.TgZ(0,"div",15),u.TgZ(1,"div",16),u.TgZ(2,"span",17),u._uU(3,"PO Number"),u.qZA(),u.TgZ(4,"p",18),u._uU(5),u.qZA(),u.qZA(),u.TgZ(6,"div",16),u.TgZ(7,"span",17),u._uU(8,"Date"),u.qZA(),u.TgZ(9,"p",18),u._uU(10),u.ALo(11,"date"),u.qZA(),u.qZA(),u.TgZ(12,"div",16),u.TgZ(13,"span",17),u._uU(14,"Vendor Name"),u.qZA(),u.TgZ(15,"p",18),u._uU(16),u.qZA(),u.qZA(),u.TgZ(17,"div",16),u.TgZ(18,"span",17),u._uU(19,"Department"),u.qZA(),u.TgZ(20,"p",18),u._uU(21),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(5),u.Oqu(null==e.response?null:e.response.data.PO_Number),u.xp6(5),u.hij(" ",u.xi3(11,4,null==e.response?null:e.response.data.PO_Date,"dd/MM/yyyy")," "),u.xp6(6),u.Oqu(null==e.response?null:e.response.data.vendor.Name),u.xp6(5),u.Oqu(null==e.response?null:e.response.data.User_Type)}}function oa(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",26),u.TgZ(2,"b",27),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function na(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td",28),u._uU(8),u.ALo(9,"number"),u.qZA(),u.TgZ(10,"td",28),u._uU(11),u.ALo(12,"number"),u.qZA(),u.TgZ(13,"td",28),u._uU(14),u.ALo(15,"number"),u.qZA(),u.TgZ(16,"td",28),u._uU(17),u.ALo(18,"number"),u.qZA(),u.TgZ(19,"td",28),u._uU(20),u.ALo(21,"number"),u.qZA(),u.qZA()),2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.product.Name),u.xp6(2),u.Oqu(e.Quantity),u.xp6(2),u.hij(" ",u.xi3(9,8,e.Per_Unit_Price,"1.2-3")," "),u.xp6(3),u.Oqu(u.xi3(12,11,e.Total_Price,"1.2-3")),u.xp6(3),u.hij(" ",u.xi3(15,14,e.TAX_Percentage,"1.2-3")," "),u.xp6(3),u.Oqu(u.xi3(18,17,e.TAX_Value,"1.2-3")),u.xp6(3),u.Oqu(u.xi3(21,20,e.Sub_Total,"1.2-3"))}}function ua(e,t){if(1&e&&(u.TgZ(0,"tbody",19),u.YNc(1,oa,4,0,"tr",20),u.YNc(2,na,22,23,"tr",21),u.TgZ(3,"tr",22),u._UZ(4,"td",23),u.TgZ(5,"td",24),u._uU(6,"Sub Total"),u.qZA(),u.TgZ(7,"td",25),u._uU(8),u.ALo(9,"number"),u.qZA(),u.qZA(),u.TgZ(10,"tr",22),u._UZ(11,"td",23),u.TgZ(12,"td",24),u._uU(13,"GST"),u.qZA(),u.TgZ(14,"td",25),u._uU(15),u.ALo(16,"number"),u.qZA(),u.qZA(),u.TgZ(17,"tr",22),u._UZ(18,"td",23),u.TgZ(19,"td",24),u._uU(20,"Total"),u.qZA(),u.TgZ(21,"td",25),u._uU(22),u.ALo(23,"number"),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",0===e.response.data.length),u.xp6(1),u.Q6J("ngForOf",null==e.response?null:e.response.data.purchase_order_items),u.xp6(6),u.hij(" \u20b9 ",u.xi3(9,5,null==e.response?null:e.response.data.Sub_Total,"1.2-3")," "),u.xp6(7),u.hij(" ",u.xi3(16,8,null==e.response?null:e.response.data.Tax_value,"1.2-3")," "),u.xp6(7),u.hij(" \u20b9 ",u.xi3(23,11,null==e.response?null:e.response.data.PO_Total,"1.2-3")," ")}}function la(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",29),u.TgZ(1,"div",30),u.TgZ(2,"a",31),u.NdJ("click",function(){return u.CHM(e),u.oxw().Send()}),u._uU(3,"Send Email"),u.qZA(),u.qZA(),u.TgZ(4,"div",32),u.TgZ(5,"a",33),u._uU(6,"Print PO"),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw();u.xp6(5),u.s9C("href",e.fileUrl+"po/"+(null==e.response?null:e.response.data.File_Name),u.LSH)}}let ca=(()=>{class e{constructor(e,t,r){this.bsModalRef=e,this._poHistoryService=t,this._mastersService=r,this.event=new u.vpe,this.tableToatal=0,this.subToatal=0,this.taxTotal=0,this.response=[]}ngOnInit(){this.fileUrl=c.N.fileUrl,this.getByIDPOHistoryList()}close(){this.bsModalRef.hide()}getByIDPOHistoryList(){this._poHistoryService.getByIdPOHistory({id:this.ID}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.response=e,e.data.purchase_order_items.forEach(e=>{this.tableToatal+=e.Total_Price}),e.data.purchase_order_items.forEach(e=>{this.taxTotal+=e.TAX_Value}),e.data.purchase_order_items.forEach(e=>{this.subToatal+=e.Sub_Total}))},e=>{this._mastersService.showalert(e.error.message,"error")})}Send(){this._poHistoryService.sendPoPdf({id:this.ID}).subscribe(e=>{this._mastersService.showalert(e.message,e.error?"error":"success")},e=>{this._mastersService.showalert(e.error.message,"error")})}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(f.UZ),u.Y36(Xe),u.Y36(v.R))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-view-po-history"]],decls:29,vars:3,consts:[[1,"modal-header","bg-light"],[1,"modal-title","pull-left","fw-bold","mr-3"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","mx-1"],["class","row mb-2",4,"ngIf"],[1,"row"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],["class","row pull-right my-2",4,"ngIf"],[1,"row","mb-2"],[1,"col-auto"],[1,"fw-bold"],[1,"text-muted"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"bg-light"],["colspan","6"],[1,"text-end","text-dark","fw-bold"],[1,"text-end","text-dark","fw-bold",2,"width","160"],["colspan","9",1,"text-center"],[1,"text-muted",2,"font-size","large"],[1,"text-end"],[1,"row","pull-right","my-2"],[1,"col","mx-2"],[1,"btn","btn-1","btn-sm","text-white",2,"width","190px",3,"click"],[1,"col"],["target","_blank",1,"btn","btn-1","btn-sm","text-white",2,"width","190px",3,"href"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"h5",1),u._uU(2,"View Details"),u.qZA(),u.TgZ(3,"button",2),u.NdJ("click",function(){return t.close()}),u.qZA(),u.qZA(),u.TgZ(4,"div",3),u.YNc(5,ia,22,7,"div",4),u.TgZ(6,"div",5),u.TgZ(7,"div",6),u.TgZ(8,"table",7),u.TgZ(9,"thead",8),u.TgZ(10,"tr"),u.TgZ(11,"th",9),u._uU(12,"Sr.No"),u.qZA(),u.TgZ(13,"th",10),u._uU(14,"Item Name"),u.qZA(),u.TgZ(15,"th",11),u._uU(16,"Quantity"),u.qZA(),u.TgZ(17,"th",12),u._uU(18,"Per Unit Price \u20b9"),u.qZA(),u.TgZ(19,"th",12),u._uU(20,"Sub Total \u20b9"),u.qZA(),u.TgZ(21,"th",12),u._uU(22,"GST %"),u.qZA(),u.TgZ(23,"th",12),u._uU(24,"GST Value"),u.qZA(),u.TgZ(25,"th",12),u._uU(26,"Total \u20b9"),u.qZA(),u.qZA(),u.qZA(),u.YNc(27,ua,24,14,"tbody",13),u.qZA(),u.YNc(28,la,7,1,"div",14),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(5),u.Q6J("ngIf",null==t.response?null:t.response.data),u.xp6(22),u.Q6J("ngIf",null==t.response?null:t.response.data),u.xp6(1),u.Q6J("ngIf",null==t.response?null:t.response.data))},directives:[U.O5,U.sg],pipes:[U.uU,U.JJ],styles:[""]}),e})();function ga(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",26),u.TgZ(2,"b",27),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function da(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"a",30),u.NdJ("click",function(){u.CHM(e);const t=u.oxw().$implicit;return u.oxw(2).confirmModal(t.ID)}),u._UZ(1,"i",33),u.qZA()}}function pa(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.ALo(9,"date"),u.qZA(),u.TgZ(10,"td"),u._uU(11),u.qZA(),u.TgZ(12,"td"),u._uU(13),u.qZA(),u.TgZ(14,"td",28),u._uU(15),u.ALo(16,"number"),u.qZA(),u.TgZ(17,"td",28),u._uU(18),u.ALo(19,"number"),u.qZA(),u.TgZ(20,"td",28),u._uU(21),u.ALo(22,"number"),u.qZA(),u.TgZ(23,"td",29),u.TgZ(24,"a",30),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(2).ViewPoHistoryModal(t.ID)}),u._uU(25,"View Details"),u.qZA(),u.TgZ(26,"a",31),u._uU(27,"Download"),u.qZA(),u.YNc(28,da,2,0,"a",32),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit,r=t.index,s=u.oxw(2);u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.PO_Number),u.xp6(2),u.Oqu(e.vendor.Name),u.xp6(2),u.Oqu(u.xi3(9,11,e.PO_Date,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.User_Type),u.xp6(2),u.Oqu(e.Quantity),u.xp6(2),u.Oqu(u.xi3(16,14,e.Sub_Total,"1.2-3")),u.xp6(3),u.Oqu(u.xi3(19,17,e.Tax_value,"1.2-3")),u.xp6(3),u.Oqu(u.xi3(22,20,e.PO_Total,"1.2-3")),u.xp6(5),u.s9C("href",s.fileUrl+"po/"+e.File_Name,u.LSH),u.xp6(2),u.Q6J("ngIf","System Admin"==s.role)}}function Za(e,t){if(1&e&&(u.TgZ(0,"tbody",23),u.YNc(1,ga,4,0,"tr",24),u.YNc(2,pa,29,23,"tr",25),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",0===e.POHistoryList.data.length),u.xp6(1),u.Q6J("ngForOf",null==e.POHistoryList?null:e.POHistoryList.data)}}function ha(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",34),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw().pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw().changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw();u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.POHistoryList.total)("lastPage",e.POHistoryList.totalPages)}}let ma=(()=>{class e{constructor(e,t,r,s,a,i,o){this.modalService=e,this.dataservice=t,this._poHistoryService=r,this._mastersService=s,this.storageService=a,this._excelService=i,this.formBuilder=o,this.eventsCounter=new A.xQ,this.ngUnsubscribe=new A.xQ,this.POHistoryList=[],this.POreportList=[],this.search="",this.searchTermChanged=new A.xQ,this.poHistoryForm=this.formBuilder.group({Location_Name:[""],Product_Name:[""],startDate:[""],endDate:[""]}),this.role=this.storageService.secureStorage.getItem("role"),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.fileUrl=c.N.fileUrl,this.dataservice.setTitle("PO History"),this.getPOHistoryList()}searchTasks(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.currentPage=1,this.getPOHistoryList()}),this.searchTermChanged.next(e)}getPOHistoryList(){this._poHistoryService.getAllPOHistory({pageNumber:this.currentPage,numberOfRows:this.perPage,search:this.search}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.POHistoryList=e,this.quantity=e.data[0].purchase_order_items.Quantity,this.totalPrice=e.data[0].purchase_order_items.Total_Price)},e=>{this._mastersService.showalert(e.error.message,"error")})}ViewPoHistoryModal(e){this.bsModalRef1=this.modalService.show(ca,{initialState:{type:"view-PO",ID:e},animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-md po-history-modal"})}pager(e){this.currentPage=e,this.getPOHistoryList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getPOHistoryList()}poHistoryExportToExcel(){this._excelService.downloadpohistoryExport({search:this.search}).subscribe(e=>(0,je.saveAs)(e,"po-history.xlsx"))}confirmModal(e){this.bsModalRef1=this.modalService.show(Cs.z,{animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-sm"}),this.bsModalRef1.content.event.subscribe(t=>{"delete"===t.data&&this.deletePO(e)})}deletePO(e){this._poHistoryService.deletePO({id:e}).subscribe(e=>{e.success?(this._mastersService.showalert(e.message,"success"),this.getPOHistoryList()):this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error")},e=>{this._mastersService.showalert(e.error.message,"error")})}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(f.tT),u.Y36(l.D),u.Y36(Xe),u.Y36(v.R),u.Y36(N.V),u.Y36(Ge.x),u.Y36(Z.qu))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-po-history"]],decls:42,vars:4,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"row","my-2"],[1,"col-lg-4","col-12"],["for",""],[1,"text-dark","fw-bold"],[1,"input-group","input-group"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col","lg-4","text-end","mt-4"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col"],["scope","col",1,"w-20"],["scope","col",1,"w-10"],["scope","col",1,"w-6"],["scope","col",1,"w-6","text-center"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","9",1,"text-center"],[1,"text-muted",2,"font-size","large"],[1,"text-end"],[2,"width","200px"],[1,"btn","btn-1","btn-sm",2,"margin-right","2px","font-size","11px",3,"click"],["target","_blank",1,"btn","btn-1","btn-sm",2,"margin-right","2px","font-size","11px",3,"href"],["class","btn btn-1 btn-sm","style","margin-right: 2px; font-size: 11px",3,"click",4,"ngIf"],[1,"fa","fa-trash"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"form",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"label",4),u.TgZ(5,"small",5),u._uU(6,"Search"),u.qZA(),u.qZA(),u.TgZ(7,"div",6),u.TgZ(8,"span",7),u._UZ(9,"img",8),u.qZA(),u.TgZ(10,"input",9),u.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchTasks(e)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(11,"div",10),u.TgZ(12,"label",4),u._UZ(13,"small",5),u.qZA(),u.TgZ(14,"button",11),u.NdJ("click",function(){return t.poHistoryExportToExcel()}),u._uU(15," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(16,"div",12),u.TgZ(17,"table",13),u.TgZ(18,"thead",14),u.TgZ(19,"tr"),u.TgZ(20,"th",15),u._uU(21,"Sr.No"),u.qZA(),u.TgZ(22,"th",16),u._uU(23,"PO NO"),u.qZA(),u.TgZ(24,"th",17),u._uU(25,"Vendor Name"),u.qZA(),u.TgZ(26,"th",18),u._uU(27,"Date"),u.qZA(),u.TgZ(28,"th",16),u._uU(29,"Department"),u.qZA(),u.TgZ(30,"th",18),u._uU(31,"Quantity"),u.qZA(),u.TgZ(32,"th",18),u._uU(33,"Sub Total \u20b9"),u.qZA(),u.TgZ(34,"th",18),u._uU(35,"GST \u20b9"),u.qZA(),u.TgZ(36,"th",19),u._uU(37,"Total \u20b9"),u.qZA(),u.TgZ(38,"th",20),u._uU(39,"Action"),u.qZA(),u.qZA(),u.qZA(),u.YNc(40,Za,3,2,"tbody",21),u.qZA(),u.qZA(),u.qZA(),u.YNc(41,ha,1,4,"app-pagination",22),u.qZA()),2&e&&(u.xp6(1),u.Q6J("formGroup",t.poHistoryForm),u.xp6(9),u.Q6J("ngModel",t.search),u.xp6(30),u.Q6J("ngIf",null==t.POHistoryList?null:t.POHistoryList.data),u.xp6(1),u.Q6J("ngIf",null==t.POHistoryList?null:t.POHistoryList.data))},directives:[Z._Y,Z.JL,Z.sg,Z.Fj,Z.JJ,Z.On,U.O5,U.sg,Ke.Q],pipes:[U.uU,U.JJ],styles:[""]}),e})();new g.WM({"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Headers":"Content-Type"});let Ta=(()=>{class e{constructor(e,t){this.http=e,this.toastr=t,this.perPage=10}setHeaders(){return(new g.WM).set("Content-Type","application/x-www-form-urlencoded")}getMaterialRecieptAPI(e){return this.http.post(`${c.N.api}/report/getMaterialReceiptReport`,e)}getAllIssueTrackerReport(e){return this.http.post(`${c.N.api}/report/getIssueTrackerReport`,e)}getAllIssue(e){return this.http.post(`${c.N.api}/issuetype/getAllIssueType`,e)}getVendors(e){return this.http.post(`${c.N.api}/vendor/getAllVendors`,e)}getAllStocksummaryReport(e){return this.http.post(`${c.N.api}/report/getStockSummaryReport`,e)}getAllProductStockLedgerReport(e){return this.http.post(`${c.N.api}/report/getProductStockLedgerReport`,e)}getAllTrackCAPEXReport(e){return this.http.post(`${c.N.api}/report/getCapexReport`,e)}getConsumptionReportAPI(e){return this.http.post(`${c.N.api}/report/getConsumptionReport`,e)}getItemWiseStockReportAPI(e){return this.http.post(`${c.N.api}/report/getItemWiseStockReport`,e)}getChallanSummaryReport(e){return this.http.post(`${c.N.api}/report/getChallanSummaryReport`,e)}getChallanSummaryExportToExcel(e){return this.http.post(`${c.N.api}/excel/getChallanSummaryExport`,e)}getYTDMTDReport(e){return this.http.post(`${c.N.api}/report/getConsumptionReportYTDAndMTD`,e)}getallLocation(e){return this.http.post(`${c.N.api}/location/getAllLocation`,e)}getallProducts(e){return this.http.post(`${c.N.api}/product/getAllProducts`,e)}getallCategorry(e){return this.http.post(`${c.N.api}/product/getAllProductGroup`,e)}getallALTCode(e){return this.http.post(`${c.N.api}/product/getALLProductALTCode`,e)}getallDepartment(e){return this.http.post(`${c.N.api}/dispatch/getALLDepartment`,e)}getAllMasterDepartments(e){return this.http.post(`${c.N.api}/department/getAllDepartment`,e)}searchInwardProductLedgerAPI(e){return this.http.post(`${c.N.api}/product/getSearchOpexProducts`,e)}searchTrackCAPEXAPI(e){return this.http.post(`${c.N.api}/product/getSearchCapexProducts`,e)}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(g.eN),u.LFG(d.eP))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Aa(e,t){if(1&e&&(u.TgZ(0,"option",28),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function _a(e,t){if(1&e&&(u.TgZ(0,"option",28),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Product_Group),u.xp6(1),u.hij(" ",e.Product_Group," ")}}function qa(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",32),u.TgZ(2,"b",33),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function fa(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.ALo(9,"date"),u.qZA(),u.TgZ(10,"td"),u._uU(11),u.qZA(),u.TgZ(12,"td"),u._uU(13),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.qZA(),u.TgZ(16,"td",34),u._uU(17),u.qZA(),u.TgZ(18,"td",34),u._uU(19),u.ALo(20,"number"),u.qZA(),u.TgZ(21,"td",34),u._uU(22),u.ALo(23,"number"),u.qZA(),u.TgZ(24,"td",34),u._uU(25),u.ALo(26,"number"),u.qZA(),u.TgZ(27,"td",34),u._uU(28),u.ALo(29,"number"),u.qZA(),u.TgZ(30,"td",34),u._uU(31),u.ALo(32,"number"),u.qZA(),u.qZA()),2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.Challan_No),u.xp6(2),u.Oqu(e.Vendor_Name),u.xp6(2),u.Oqu(u.xi3(9,13,e.Dated_On,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.ALT_Code),u.xp6(2),u.Oqu(e.Description),u.xp6(2),u.Oqu(e.UOM),u.xp6(2),u.Oqu(e.Quantity),u.xp6(2),u.hij(" ",u.xi3(20,16,e.Per_Unit_Price,"1.2-3")," "),u.xp6(3),u.Oqu(u.xi3(23,19,e.Sub_Total,"1.2-3")),u.xp6(3),u.hij(" ",u.xi3(26,22,e.TAX_Percentage,"1.2-3")," "),u.xp6(3),u.Oqu(u.xi3(29,25,e.TAX_Value,"1.2-3")),u.xp6(3),u.Oqu(u.xi3(32,28,e.Total_Price,"1.2-3"))}}function xa(e,t){if(1&e&&(u.TgZ(0,"tbody",29),u.YNc(1,qa,4,0,"tr",30),u.YNc(2,fa,33,31,"tr",31),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",0===(null==e.MaterialReceiptList?null:e.MaterialReceiptList.data.length)),u.xp6(1),u.Q6J("ngForOf",null==e.MaterialReceiptList?null:e.MaterialReceiptList.data)}}function ba(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",35),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw().pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw().changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw();u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.MaterialReceiptList.total)("lastPage",e.MaterialReceiptList.totalPages)}}const va=function(){return{standalone:!0}};let Ua=(()=>{class e{constructor(e,t,r,s,a){this.dataservice=e,this._excelService=t,this._mastersService=r,this._ReportPagesService=s,this.formBuilder=a,this.eventsCounter=new A.xQ,this.ngUnsubscribe=new A.xQ,this.search="",this.MaterialReceiptList=[],this.vendorResponse=[],this.productList=[],this.categoryList=[],this.ALTCodeList=[],this.searchTermChanged=new A.xQ,this.materialReceiptForm=this.formBuilder.group({Vendor_Name:[""],ALT_Code:[""],Product_Group:[""],startDate:[""],endDate:[""]}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.dataservice.setTitle("Material Receipt Report"),this.getVendorList(),this.getMaterialReceiptList(),this.getallCategoryList(),this.getallAltCodeList()}searchEvent(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.currentPage=1,this.getMaterialReceiptList()}),this.searchTermChanged.next(e)}getMaterialReceiptList(){this._ReportPagesService.getMaterialRecieptAPI({Vendor_Name:this.materialReceiptForm.value.Vendor_Name,Product_Group:this.materialReceiptForm.value.Product_Group,ALT_Code:this.materialReceiptForm.value.ALT_Code,startDate:this.materialReceiptForm.value.startDate,endDate:this.materialReceiptForm.value.endDate,search:this.search,pageNumber:this.currentPage,numberOfRows:this.perPage}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.MaterialReceiptList=e},e=>{this._mastersService.showalert(e.error.message,"error")})}materialReceiptExportToExcel(){this._excelService.downloadmaterialReceipt({Vendor_Name:this.materialReceiptForm.value.Vendor_Name,Product_Group:this.materialReceiptForm.value.Product_Group,ALT_Code:this.materialReceiptForm.value.ALT_Code,startDate:this.materialReceiptForm.value.startDate,endDate:this.materialReceiptForm.value.endDate,search:this.search}).subscribe(e=>saveAs(e,"material-receipt-report.xlsx"))}getVendorList(){this._ReportPagesService.getVendors({}).subscribe(e=>{e.error||(this.vendorResponse=e.data)})}getallCategoryList(){this._ReportPagesService.getallCategorry({}).subscribe(e=>{e.error||(this.categoryList=e.data)})}getallAltCodeList(){this._ReportPagesService.getallALTCode({}).subscribe(e=>{e.error||(this.ALTCodeList=e.data)})}pager(e){this.currentPage=e,this.getMaterialReceiptList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getMaterialReceiptList()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(l.D),u.Y36(Ge.x),u.Y36(v.R),u.Y36(Ta),u.Y36(Z.qu))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-material-receipt-report"]],decls:75,vars:8,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"row","row-cols-7","mb-2"],[1,"col"],["for",""],[1,"text-dark","fw-bold"],[1,"input-group"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup"],["formControlName","Vendor_Name",1,"form-select",3,"change"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","Product_Group",1,"form-select",3,"change"],["type","Date","formControlName","startDate",1,"form-control","input-group-sm",3,"change"],["type","Date","formControlName","endDate",1,"form-control","input-group-sm",3,"change"],[1,"col","mt-4","text-end"],[1,"text-muted"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","14px",3,"click"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],[3,"value"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","12",1,"text-center"],[1,"text-muted",2,"font-size","large"],[1,"text-end"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"form",1),u.TgZ(2,"div"),u.TgZ(3,"div",2),u.TgZ(4,"div",3),u.TgZ(5,"label",4),u.TgZ(6,"small",5),u._uU(7,"Search"),u.qZA(),u.qZA(),u.TgZ(8,"div",6),u.TgZ(9,"span",7),u._UZ(10,"img",8),u.qZA(),u.TgZ(11,"input",9),u.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchEvent(e)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div",3),u.TgZ(13,"label",4),u.TgZ(14,"small",5),u._uU(15,"Select Vendor"),u.qZA(),u.qZA(),u.TgZ(16,"select",10),u.NdJ("change",function(){return t.getMaterialReceiptList()}),u.TgZ(17,"option",11),u._uU(18,"Select"),u.qZA(),u.YNc(19,Aa,2,2,"option",12),u.qZA(),u.qZA(),u.TgZ(20,"div",3),u.TgZ(21,"label",4),u.TgZ(22,"small",5),u._uU(23,"Group"),u.qZA(),u.qZA(),u.TgZ(24,"select",13),u.NdJ("change",function(){return t.getMaterialReceiptList()}),u.TgZ(25,"option",11),u._uU(26,"Select"),u.qZA(),u.YNc(27,_a,2,2,"option",12),u.qZA(),u.qZA(),u.TgZ(28,"div",3),u.TgZ(29,"label",4),u.TgZ(30,"small",5),u._uU(31,"From Date"),u.qZA(),u.qZA(),u.TgZ(32,"input",14),u.NdJ("change",function(){return t.getMaterialReceiptList()}),u.qZA(),u.qZA(),u.TgZ(33,"div",3),u.TgZ(34,"label",4),u.TgZ(35,"small",5),u._uU(36,"To Date"),u.qZA(),u.qZA(),u.TgZ(37,"input",15),u.NdJ("change",function(){return t.getMaterialReceiptList()}),u.qZA(),u.qZA(),u.TgZ(38,"div",16),u.TgZ(39,"label",4),u._UZ(40,"small",17),u.qZA(),u.TgZ(41,"button",18),u.NdJ("click",function(){return t.materialReceiptExportToExcel()}),u._uU(42," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(43,"div",19),u.TgZ(44,"table",20),u.TgZ(45,"thead",21),u.TgZ(46,"tr"),u.TgZ(47,"th",22),u._uU(48,"Sr.No"),u.qZA(),u.TgZ(49,"th",23),u._uU(50,"Challan No"),u.qZA(),u.TgZ(51,"th",23),u._uU(52,"Vendor Name"),u.qZA(),u.TgZ(53,"th",24),u._uU(54,"Date"),u.qZA(),u.TgZ(55,"th",25),u._uU(56,"Item Code"),u.qZA(),u.TgZ(57,"th",25),u._uU(58,"Description"),u.qZA(),u.TgZ(59,"th",25),u._uU(60,"UOM"),u.qZA(),u.TgZ(61,"th",25),u._uU(62,"Qty"),u.qZA(),u.TgZ(63,"th",25),u._uU(64,"Price \u20b9"),u.qZA(),u.TgZ(65,"th",25),u._uU(66,"Sub Total \u20b9"),u.qZA(),u.TgZ(67,"th",25),u._uU(68,"GST %"),u.qZA(),u.TgZ(69,"th",25),u._uU(70,"GST Amt \u20b9"),u.qZA(),u.TgZ(71,"th",25),u._uU(72,"Net Amt \u20b9"),u.qZA(),u.qZA(),u.qZA(),u.YNc(73,xa,3,2,"tbody",26),u.qZA(),u.qZA(),u.YNc(74,ba,1,4,"app-pagination",27),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(1),u.Q6J("formGroup",t.materialReceiptForm),u.xp6(10),u.Q6J("ngModel",t.search)("ngModelOptions",u.DdM(7,va)),u.xp6(8),u.Q6J("ngForOf",t.vendorResponse),u.xp6(8),u.Q6J("ngForOf",t.categoryList),u.xp6(46),u.Q6J("ngIf",null==t.MaterialReceiptList?null:t.MaterialReceiptList.data),u.xp6(1),u.Q6J("ngIf",null==t.MaterialReceiptList?null:t.MaterialReceiptList.data))},directives:[Z._Y,Z.JL,Z.sg,Z.Fj,Z.JJ,Z.On,Z.EJ,Z.u,Z.YN,Z.Kr,U.sg,U.O5,Ke.Q],pipes:[U.uU,U.JJ],styles:[""]}),e})();function ya(e,t){if(1&e&&(u.TgZ(0,"option",31),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Product_Group),u.xp6(1),u.hij(" ",e.Product_Group," ")}}function wa(e,t){if(1&e&&(u.TgZ(0,"option",31),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.ID),u.xp6(1),u.hij(" ",e.Name," ")}}function Pa(e,t){if(1&e&&(u.TgZ(0,"option",31),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function Ca(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",35),u.TgZ(2,"b",36),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function Na(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.ALo(11,"date"),u.qZA(),u.TgZ(12,"td"),u._uU(13),u.qZA(),u.TgZ(14,"td",37),u._uU(15),u.qZA(),u.TgZ(16,"td",37),u._uU(17),u.qZA(),u.TgZ(18,"td",37),u._uU(19),u.ALo(20,"number"),u.qZA(),u.TgZ(21,"td",37),u._uU(22),u.ALo(23,"number"),u.qZA(),u.TgZ(24,"td",37),u._uU(25),u.qZA(),u.TgZ(26,"td",37),u._uU(27),u.ALo(28,"number"),u.qZA(),u.TgZ(29,"td",37),u._uU(30),u.qZA(),u.TgZ(31,"td",37),u._uU(32),u.ALo(33,"number"),u.qZA(),u.qZA()),2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.Product_Name),u.xp6(2),u.Oqu(e.ALT_Code),u.xp6(2),u.Oqu(e.Product_Group),u.xp6(2),u.Oqu(u.xi3(11,14,e.Created_At,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.Description),u.xp6(2),u.Oqu(e.UOM),u.xp6(2),u.Oqu(e.Received_Qty),u.xp6(2),u.Oqu(u.xi3(20,17,e.Price,"1.2-3")),u.xp6(3),u.hij(" ",u.xi3(23,20,e.Total_Amount,"1.2-3")," "),u.xp6(3),u.Oqu(e.Issue_Qty),u.xp6(2),u.hij(" ",u.xi3(28,23,e.Issue_Amount,"1.2-3")," "),u.xp6(3),u.Oqu(e.Balance_Qty),u.xp6(2),u.hij(" ",u.xi3(33,26,e.Balance_Amount,"1.2-3")," ")}}function Sa(e,t){if(1&e&&(u.TgZ(0,"tbody",32),u.YNc(1,Ca,4,0,"tr",33),u.YNc(2,Na,34,29,"tr",34),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",0===(null==e.StockSummaryList?null:e.StockSummaryList.data.length)),u.xp6(1),u.Q6J("ngForOf",null==e.StockSummaryList?null:e.StockSummaryList.data)}}function La(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",38),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw().pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw().changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw();u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.StockSummaryList.total)("lastPage",e.StockSummaryList.totalPages)}}const Da=function(){return{standalone:!0}};let Ia=(()=>{class e{constructor(e,t,r,s,a,i){this.dataservice=e,this._mastersService=t,this._ReportPagesService=r,this._excelService=s,this.formBuilder=a,this._dispatchService=i,this.eventsCounter=new A.xQ,this.ngUnsubscribe=new A.xQ,this.search="",this.StockSummaryList=[],this.productList=[],this.categoryList=[],this.ALTCodeList=[],this.LocationList=[],this.DepartmentList=[],this.CostCenterList=[],this.searchTermChanged=new A.xQ,this.stockSummaryForm=this.formBuilder.group({ALT_Code:[""],Product_Group:[""],From_Location:[""],Department:[""],startDate:[""],endDate:[""]}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.dataservice.setTitle("Stock Summary Report"),this.getallCategoryList(),this.getStockSummaryList(),this.getAllLocationList(),this.getAllDepartmentList(),this.getAllCostCenterList()}searchEvent(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.currentPage=1,this.getStockSummaryList()}),this.searchTermChanged.next(e)}getStockSummaryList(){this._ReportPagesService.getAllStocksummaryReport({Product_Group:this.stockSummaryForm.value.Product_Group,Location:this.stockSummaryForm.value.From_Location,Department:this.stockSummaryForm.value.Department,startDate:this.stockSummaryForm.value.startDate,endDate:this.stockSummaryForm.value.endDate,search:this.search,pageNumber:this.currentPage,numberOfRows:this.perPage}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.StockSummaryList=e},e=>{this._mastersService.showalert(e.error.message,"error")})}StockSummaryExportToExcel(){this._excelService.downloadstockSummary({Product_Group:this.stockSummaryForm.value.Product_Group,Location:this.stockSummaryForm.value.From_Location,Department:this.stockSummaryForm.value.Department,startDate:this.stockSummaryForm.value.startDate,endDate:this.stockSummaryForm.value.endDate,search:this.search}).subscribe(e=>saveAs(e,"stock-summary-report.xlsx"))}getallCategoryList(){this._ReportPagesService.getallCategorry({}).subscribe(e=>{e.error||(this.categoryList=e.data)})}getAllLocationList(){this._dispatchService.allLocationAPI({}).subscribe(e=>{e.error||(this.LocationList=e.data)})}getAllDepartmentList(){this._dispatchService.getAllMasterDepartments({}).subscribe(e=>{e.error||(this.DepartmentList=e.data)})}getAllCostCenterList(){this._dispatchService.getAllMasterCostCenter({}).subscribe(e=>{e.error||(this.CostCenterList=e.data)})}pager(e){this.currentPage=e,this.getStockSummaryList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getStockSummaryList()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(l.D),u.Y36(v.R),u.Y36(Ta),u.Y36(Ge.x),u.Y36(Z.qu),u.Y36(xr))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-stock-summery-report"]],decls:87,vars:9,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"row","row-cols-7","mb-2"],[1,"col"],["for",""],[1,"text-dark","fw-bold"],[1,"input-group"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup"],["aria-label","Default select example","formControlName","Product_Group",1,"form-select",3,"change"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","From_Location",1,"form-select",3,"change"],["formControlName","Department",1,"form-select",3,"change"],["type","Date","formControlName","startDate",1,"form-control","input-group-sm",3,"change"],["type","Date","formControlName","endDate",1,"form-control","input-group-sm",3,"change"],[1,"col","mt-4","text-end"],[1,"text-muted"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","14px",3,"click"],[1,"row","h-100"],[1,"col-12","d-lg-grid"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","fixed-table"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],[3,"value"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","14",1,"text-center"],[1,"text-muted",2,"font-size","large"],[1,"text-end"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"form",1),u.TgZ(2,"div"),u.TgZ(3,"div",2),u.TgZ(4,"div",3),u.TgZ(5,"label",4),u.TgZ(6,"small",5),u._uU(7,"Search"),u.qZA(),u.qZA(),u.TgZ(8,"div",6),u.TgZ(9,"span",7),u._UZ(10,"img",8),u.qZA(),u.TgZ(11,"input",9),u.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchEvent(e)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div",3),u.TgZ(13,"label",4),u.TgZ(14,"small",5),u._uU(15,"Group"),u.qZA(),u.qZA(),u.TgZ(16,"select",10),u.NdJ("change",function(){return t.getStockSummaryList()}),u.TgZ(17,"option",11),u._uU(18,"Select"),u.qZA(),u.YNc(19,ya,2,2,"option",12),u.qZA(),u.qZA(),u.TgZ(20,"div",3),u.TgZ(21,"label",4),u.TgZ(22,"small",5),u._uU(23,"Location"),u.qZA(),u.qZA(),u.TgZ(24,"select",13),u.NdJ("change",function(){return t.getStockSummaryList()}),u.TgZ(25,"option",11),u._uU(26,"Select"),u.qZA(),u.YNc(27,wa,2,2,"option",12),u.qZA(),u.qZA(),u.TgZ(28,"div",3),u.TgZ(29,"label",4),u.TgZ(30,"small",5),u._uU(31,"Department"),u.qZA(),u.qZA(),u.TgZ(32,"select",14),u.NdJ("change",function(){return t.getStockSummaryList()}),u.TgZ(33,"option",11),u._uU(34,"Select"),u.qZA(),u.YNc(35,Pa,2,2,"option",12),u.qZA(),u.qZA(),u.TgZ(36,"div",3),u.TgZ(37,"label",4),u.TgZ(38,"small",5),u._uU(39,"From Date"),u.qZA(),u.qZA(),u.TgZ(40,"input",15),u.NdJ("change",function(){return t.getStockSummaryList()}),u.qZA(),u.qZA(),u.TgZ(41,"div",3),u.TgZ(42,"label",4),u.TgZ(43,"small",5),u._uU(44,"To Date"),u.qZA(),u.qZA(),u.TgZ(45,"input",16),u.NdJ("change",function(){return t.getStockSummaryList()}),u.qZA(),u.qZA(),u.TgZ(46,"div",17),u.TgZ(47,"label",4),u._UZ(48,"small",18),u.qZA(),u.TgZ(49,"button",19),u.NdJ("click",function(){return t.StockSummaryExportToExcel()}),u._uU(50," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(51,"div",20),u.TgZ(52,"div",21),u.TgZ(53,"div",22),u.TgZ(54,"table",23),u.TgZ(55,"thead",24),u.TgZ(56,"tr"),u.TgZ(57,"th",25),u._uU(58,"Sr.No"),u.qZA(),u.TgZ(59,"th",26),u._uU(60,"Item Name"),u.qZA(),u.TgZ(61,"th",26),u._uU(62,"Item Code"),u.qZA(),u.TgZ(63,"th",26),u._uU(64,"Category"),u.qZA(),u.TgZ(65,"th",26),u._uU(66,"Date"),u.qZA(),u.TgZ(67,"th",27),u._uU(68,"Description"),u.qZA(),u.TgZ(69,"th",28),u._uU(70,"UOM"),u.qZA(),u.TgZ(71,"th",28),u._uU(72,"Received Qty"),u.qZA(),u.TgZ(73,"th",28),u._uU(74,"Rate \u20b9"),u.qZA(),u.TgZ(75,"th",28),u._uU(76,"Total Amount"),u.qZA(),u.TgZ(77,"th",28),u._uU(78,"Issue Qty"),u.qZA(),u.TgZ(79,"th",28),u._uU(80,"Issue Total Amt"),u.qZA(),u.TgZ(81,"th",28),u._uU(82,"Balance Qty"),u.qZA(),u.TgZ(83,"th",28),u._uU(84,"Total Balance Amt"),u.qZA(),u.qZA(),u.qZA(),u.YNc(85,Sa,3,2,"tbody",29),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.YNc(86,La,1,4,"app-pagination",30),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(1),u.Q6J("formGroup",t.stockSummaryForm),u.xp6(10),u.Q6J("ngModel",t.search)("ngModelOptions",u.DdM(8,Da)),u.xp6(8),u.Q6J("ngForOf",t.categoryList),u.xp6(8),u.Q6J("ngForOf",t.LocationList),u.xp6(8),u.Q6J("ngForOf",t.DepartmentList),u.xp6(50),u.Q6J("ngIf",null==t.StockSummaryList?null:t.StockSummaryList.data),u.xp6(1),u.Q6J("ngIf",null==t.StockSummaryList?null:t.StockSummaryList.data))},directives:[Z._Y,Z.JL,Z.sg,Z.Fj,Z.JJ,Z.On,Z.EJ,Z.u,Z.YN,Z.Kr,U.sg,U.O5,Ke.Q],pipes:[U.uU,U.JJ],styles:[""]}),e})();function Oa(e,t){if(1&e&&(u.TgZ(0,"option",37),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Product_Group),u.xp6(1),u.hij(" ",e.Product_Group," ")}}function ka(e,t){if(1&e&&(u.TgZ(0,"option",37),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function Ra(e,t){if(1&e&&(u.TgZ(0,"option",37),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function Ja(e,t){1&e&&(u.TgZ(0,"th",34),u._uU(1,"Entry No"),u.qZA())}function Ma(e,t){1&e&&(u.TgZ(0,"th",38),u._uU(1,"Date"),u.qZA())}function Qa(e,t){1&e&&(u.TgZ(0,"th",34),u._uU(1,"Barcode"),u.qZA())}function Fa(e,t){1&e&&(u.TgZ(0,"th",34),u._uU(1,"Department"),u.qZA())}function Ya(e,t){1&e&&(u.TgZ(0,"th",34),u._uU(1,"Cost Center"),u.qZA())}function Ea(e,t){1&e&&(u.TgZ(0,"th",34),u._uU(1,"Location"),u.qZA())}function Ha(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",42),u.TgZ(2,"b",43),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function Va(e,t){if(1&e&&(u.TgZ(0,"td"),u._uU(1),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(1),u.Oqu(e.Gate_Pass_No)}}function $a(e,t){if(1&e&&(u.TgZ(0,"td"),u._uU(1),u.ALo(2,"date"),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(1),u.Oqu(u.xi3(2,1,e.Dated_On,"dd/MM/yyyy"))}}function Ba(e,t){if(1&e&&(u.TgZ(0,"td"),u._uU(1),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(1),u.Oqu(e.Barcode)}}function ja(e,t){if(1&e&&(u.TgZ(0,"td"),u._uU(1),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(1),u.Oqu(e.Department)}}function Xa(e,t){if(1&e&&(u.TgZ(0,"td"),u._uU(1),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(1),u.Oqu(e.Cost_Center)}}function Ga(e,t){if(1&e&&(u.TgZ(0,"td"),u._uU(1),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(1),u.Oqu(e.Location_Name)}}function Wa(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.YNc(3,Va,2,1,"td",40),u.YNc(4,$a,3,4,"td",40),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.YNc(7,Ba,2,1,"td",40),u.TgZ(8,"td"),u._uU(9),u.qZA(),u.TgZ(10,"td"),u._uU(11),u.qZA(),u.TgZ(12,"td"),u._uU(13),u.qZA(),u.TgZ(14,"td",44),u._uU(15),u.ALo(16,"number"),u.qZA(),u.TgZ(17,"td",44),u._uU(18),u.ALo(19,"number"),u.qZA(),u.TgZ(20,"td",44),u._uU(21),u.ALo(22,"number"),u.qZA(),u.TgZ(23,"td",44),u._uU(24),u.ALo(25,"number"),u.qZA(),u.YNc(26,ja,2,1,"td",40),u.YNc(27,Xa,2,1,"td",40),u.YNc(28,Ga,2,1,"td",40),u.qZA()),2&e){const e=t.$implicit,r=t.index,s=u.oxw(2);u.xp6(2),u.Oqu(r+1),u.xp6(1),u.Q6J("ngIf","datewise"==s.datefilterValue),u.xp6(1),u.Q6J("ngIf","datewise"==s.datefilterValue),u.xp6(2),u.Oqu(e.ALT_Code),u.xp6(1),u.Q6J("ngIf","datewise"==s.datefilterValue),u.xp6(2),u.Oqu(e.product_Name),u.xp6(2),u.Oqu(e.Description),u.xp6(2),u.Oqu(e.Quantity),u.xp6(2),u.hij(" ",u.xi3(16,15,e.Sub_Total,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(19,18,e.TAX_Percentage,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(22,21,e.TAX_Value,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(25,24,e.Total_Price,"1.2-3")," "),u.xp6(2),u.Q6J("ngIf","datewise"==s.datefilterValue),u.xp6(1),u.Q6J("ngIf","datewise"==s.datefilterValue),u.xp6(1),u.Q6J("ngIf","datewise"==s.datefilterValue)}}function za(e,t){if(1&e&&(u.TgZ(0,"tbody",39),u.YNc(1,Ha,4,0,"tr",40),u.YNc(2,Wa,29,27,"tr",41),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",0===(null==e.ConsumptionList?null:e.ConsumptionList.data.length)),u.xp6(1),u.Q6J("ngForOf",null==e.ConsumptionList?null:e.ConsumptionList.data)}}function Ka(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",45),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw().pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw().changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw();u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.ConsumptionList.total)("lastPage",e.ConsumptionList.totalPages)}}const ei=function(){return{standalone:!0}};let ti=(()=>{class e{constructor(e,t,r,s,a,i){this.dataservice=e,this._excelService=t,this._mastersService=r,this._ReportPagesService=s,this.formBuilder=a,this._dispatchService=i,this.eventsCounter=new A.xQ,this.ngUnsubscribe=new A.xQ,this.search="",this.ConsumptionList=[],this.locationList=[],this.productList=[],this.categoryList=[],this.departmentList=[],this.datefilterValue="datewise",this.searchTermChanged=new A.xQ,this.consumptionReceiptForm=this.formBuilder.group({Location_Name:[""],Department:[""],Product_Group:[""],startDate:[""],endDate:[""],type:["datewise"]}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.dataservice.setTitle("Consumption Report"),this.getLocationList(),this.getallProductsList(),this.getConsumptionList(),this.getallCategoryList(),this.getAllDepartmentList()}searchEvent(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.currentPage=1,this.getConsumptionList()}),this.searchTermChanged.next(e)}getLocationList(){this._ReportPagesService.getallLocation({}).subscribe(e=>{e.error||(this.locationList=e.data)})}getallProductsList(){this._ReportPagesService.getallProducts({}).subscribe(e=>{e.error||(this.productList=e.data)})}getallCategoryList(){this._ReportPagesService.getallCategorry({}).subscribe(e=>{e.error||(this.categoryList=e.data)})}getAllDepartmentList(){this._dispatchService.getAllMasterDepartments({}).subscribe(e=>{e.error||(this.departmentList=e.data)})}onChangeDate(e){this.datefilterValue=e.target.value,this.getConsumptionList()}getConsumptionList(){this._ReportPagesService.getConsumptionReportAPI({Location_Name:this.consumptionReceiptForm.value.Location_Name,Product_Group:this.consumptionReceiptForm.value.Product_Group,Department:this.consumptionReceiptForm.value.Department,startDate:this.consumptionReceiptForm.value.startDate,endDate:this.consumptionReceiptForm.value.endDate,type:this.datefilterValue,search:this.search,pageNumber:this.currentPage,numberOfRows:this.perPage}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.ConsumptionList=e},e=>{this._mastersService.showalert(e.error.message,"error")})}consumptionReceiptExportToExcel(){this._excelService.downloadconsumptionReceipt({Location_Name:this.consumptionReceiptForm.value.Location_Name,Product_Group:this.consumptionReceiptForm.value.Product_Group,Department:this.consumptionReceiptForm.value.Department,startDate:this.consumptionReceiptForm.value.startDate,endDate:this.consumptionReceiptForm.value.endDate,type:this.consumptionReceiptForm.value.type,search:this.search}).subscribe(e=>saveAs(e,"consumption-report.xlsx"))}pager(e){this.currentPage=e,this.getConsumptionList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getConsumptionList()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(l.D),u.Y36(Ge.x),u.Y36(v.R),u.Y36(Ta),u.Y36(Z.qu),u.Y36(xr))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-consumption-report"]],decls:97,vars:15,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"row","row-cols-7","mb-2"],[1,"col"],["for",""],[1,"text-dark","fw-bold"],[1,"input-group"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup"],["formControlName","Product_Group",1,"form-select",3,"change"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","Department",1,"form-select",3,"change"],["formControlName","Location_Name",1,"form-select",3,"change"],["type","Date","formControlName","startDate",1,"form-control","input-group-sm",3,"change"],["type","Date","formControlName","endDate",1,"form-control","input-group-sm",3,"change"],[1,"col","mt-4","text-end"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px","margin-left","-18px",3,"click"],[1,"row","mb-3"],[1,"col-auto"],[1,"form-check","form-check-inline"],["type","radio","formControlName","type","name","type","id","inlineRadioDate1","value","datewise","checked","",1,"form-check-input",3,"click"],["for","inlineRadioDate1",1,"form-check-label"],["formControlName","type","type","radio","name","type","id","inlineRadioDate2","value","consolidate",1,"form-check-input",3,"click"],["for","inlineRadioDate2",1,"form-check-label"],[1,"row","h-100"],[1,"col-12","d-lg-grid"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","fixed-table"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col","class","w-10",4,"ngIf"],["scope","col","class","w-20",4,"ngIf"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],[3,"value"],["scope","col",1,"w-20"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","12",1,"text-center"],[1,"text-muted",2,"font-size","large"],[1,"text-end"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"form",1),u.TgZ(2,"div"),u.TgZ(3,"div",2),u.TgZ(4,"div",3),u.TgZ(5,"label",4),u.TgZ(6,"small",5),u._uU(7,"Search"),u.qZA(),u.qZA(),u.TgZ(8,"div",6),u.TgZ(9,"span",7),u._UZ(10,"img",8),u.qZA(),u.TgZ(11,"input",9),u.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchEvent(e)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div",3),u.TgZ(13,"label",4),u.TgZ(14,"small",5),u._uU(15,"Group"),u.qZA(),u.qZA(),u.TgZ(16,"select",10),u.NdJ("change",function(){return t.getConsumptionList()}),u.TgZ(17,"option",11),u._uU(18,"Select"),u.qZA(),u.YNc(19,Oa,2,2,"option",12),u.qZA(),u.qZA(),u.TgZ(20,"div",3),u.TgZ(21,"label",4),u.TgZ(22,"small",5),u._uU(23,"Department"),u.qZA(),u.qZA(),u.TgZ(24,"select",13),u.NdJ("change",function(){return t.getConsumptionList()}),u.TgZ(25,"option",11),u._uU(26,"Select"),u.qZA(),u.YNc(27,ka,2,2,"option",12),u.qZA(),u.qZA(),u.TgZ(28,"div",3),u.TgZ(29,"label",4),u.TgZ(30,"small",5),u._uU(31,"Location"),u.qZA(),u.qZA(),u.TgZ(32,"select",14),u.NdJ("change",function(){return t.getConsumptionList()}),u.TgZ(33,"option",11),u._uU(34,"Select"),u.qZA(),u.YNc(35,Ra,2,2,"option",12),u.qZA(),u.qZA(),u.TgZ(36,"div",3),u.TgZ(37,"label",4),u.TgZ(38,"small",5),u._uU(39,"From Date"),u.qZA(),u.qZA(),u.TgZ(40,"input",15),u.NdJ("change",function(){return t.getConsumptionList()}),u.qZA(),u.qZA(),u.TgZ(41,"div",3),u.TgZ(42,"label",4),u.TgZ(43,"small",5),u._uU(44,"To Date"),u.qZA(),u.qZA(),u.TgZ(45,"input",16),u.NdJ("change",function(){return t.getConsumptionList()}),u.qZA(),u.qZA(),u.TgZ(46,"div",17),u.TgZ(47,"label",4),u._UZ(48,"small",5),u.qZA(),u.TgZ(49,"button",18),u.NdJ("click",function(){return t.consumptionReceiptExportToExcel()}),u._uU(50," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(51,"div",19),u.TgZ(52,"div",20),u.TgZ(53,"label",4),u.TgZ(54,"small",5),u._uU(55,"Type"),u.qZA(),u.qZA(),u._UZ(56,"br"),u.TgZ(57,"div",21),u.TgZ(58,"input",22),u.NdJ("click",function(e){return t.onChangeDate(e)}),u.qZA(),u.TgZ(59,"label",23),u._uU(60,"Date Wise"),u.qZA(),u.qZA(),u.TgZ(61,"div",21),u.TgZ(62,"input",24),u.NdJ("click",function(e){return t.onChangeDate(e)}),u.qZA(),u.TgZ(63,"label",25),u._uU(64,"Consolidate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(65,"div",26),u.TgZ(66,"div",27),u.TgZ(67,"div",28),u.TgZ(68,"table",29),u.TgZ(69,"thead",30),u.TgZ(70,"tr"),u.TgZ(71,"th",31),u._uU(72,"Sr.No"),u.qZA(),u.YNc(73,Ja,2,0,"th",32),u.YNc(74,Ma,2,0,"th",33),u.TgZ(75,"th",34),u._uU(76,"Item Code"),u.qZA(),u.YNc(77,Qa,2,0,"th",32),u.TgZ(78,"th",34),u._uU(79,"Item Name"),u.qZA(),u.TgZ(80,"th",34),u._uU(81,"Description"),u.qZA(),u.TgZ(82,"th",34),u._uU(83,"Qty"),u.qZA(),u.TgZ(84,"th",34),u._uU(85,"Sub Total \u20b9"),u.qZA(),u.TgZ(86,"th",34),u._uU(87,"GST %"),u.qZA(),u.TgZ(88,"th",34),u._uU(89,"GST Value \u20b9"),u.qZA(),u.TgZ(90,"th",34),u._uU(91,"Total Amt \u20b9"),u.qZA(),u.YNc(92,Fa,2,0,"th",32),u.YNc(93,Ya,2,0,"th",32),u.YNc(94,Ea,2,0,"th",32),u.qZA(),u.qZA(),u.YNc(95,za,3,2,"tbody",35),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.YNc(96,Ka,1,4,"app-pagination",36),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(1),u.Q6J("formGroup",t.consumptionReceiptForm),u.xp6(10),u.Q6J("ngModel",t.search)("ngModelOptions",u.DdM(14,ei)),u.xp6(8),u.Q6J("ngForOf",t.categoryList),u.xp6(8),u.Q6J("ngForOf",t.departmentList),u.xp6(8),u.Q6J("ngForOf",t.locationList),u.xp6(38),u.Q6J("ngIf","datewise"==t.datefilterValue),u.xp6(1),u.Q6J("ngIf","datewise"==t.datefilterValue),u.xp6(3),u.Q6J("ngIf","datewise"==t.datefilterValue),u.xp6(15),u.Q6J("ngIf","datewise"==t.datefilterValue),u.xp6(1),u.Q6J("ngIf","datewise"==t.datefilterValue),u.xp6(1),u.Q6J("ngIf","datewise"==t.datefilterValue),u.xp6(1),u.Q6J("ngIf",null==t.ConsumptionList?null:t.ConsumptionList.data),u.xp6(1),u.Q6J("ngIf",null==t.ConsumptionList?null:t.ConsumptionList.data))},directives:[Z._Y,Z.JL,Z.sg,Z.Fj,Z.JJ,Z.On,Z.EJ,Z.u,Z.YN,Z.Kr,U.sg,Z._,U.O5,Ke.Q],pipes:[U.JJ,U.uU],styles:[""]}),e})();function ri(e,t){if(1&e&&(u.TgZ(0,"option",28),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function si(e,t){if(1&e&&(u.TgZ(0,"option",28),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function ai(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",32),u.TgZ(2,"b",33),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function ii(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td",34),u._uU(6),u.qZA(),u.TgZ(7,"td",34),u._uU(8),u.ALo(9,"number"),u.qZA(),u.TgZ(10,"td",34),u._uU(11),u.qZA(),u.TgZ(12,"td",34),u._uU(13),u.ALo(14,"number"),u.qZA(),u.TgZ(15,"td",34),u._uU(16),u.qZA(),u.TgZ(17,"td",34),u._uU(18),u.ALo(19,"number"),u.qZA(),u.TgZ(20,"td",34),u._uU(21),u.qZA(),u.TgZ(22,"td",34),u._uU(23),u.ALo(24,"number"),u.qZA(),u.TgZ(25,"td",34),u._uU(26),u.qZA(),u.TgZ(27,"td",34),u._uU(28),u.ALo(29,"number"),u.qZA(),u.qZA()),2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.product_Name),u.xp6(2),u.Oqu(e.Opening_Quantity),u.xp6(2),u.hij(" ",u.xi3(9,12,e.Opening_Amount,"1.2-3")," "),u.xp6(3),u.Oqu(e.Received_Quantity),u.xp6(2),u.hij(" ",u.xi3(14,15,e.Received_Amount,"1.2-3")," "),u.xp6(3),u.Oqu(e.Issue_Quantity),u.xp6(2),u.hij(" ",u.xi3(19,18,e.Issue_Amount,"1.2-3")," "),u.xp6(3),u.Oqu(e.Scrap_Lost_Quantity),u.xp6(2),u.hij(" ",u.xi3(24,21,e.Scrap_Lost_Amount,"1.2-3")," "),u.xp6(3),u.Oqu(e.Closing_Quantity),u.xp6(2),u.hij(" ",u.xi3(29,24,e.Closing_Amount,"1.2-3")," ")}}function oi(e,t){if(1&e&&(u.TgZ(0,"tbody",29),u.YNc(1,ai,4,0,"tr",30),u.YNc(2,ii,30,27,"tr",31),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",0===(null==e.ItemWiseStockList?null:e.ItemWiseStockList.data.length)),u.xp6(1),u.Q6J("ngForOf",null==e.ItemWiseStockList?null:e.ItemWiseStockList.data)}}function ni(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",35),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw().pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw().changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw();u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.ItemWiseStockList.total)("lastPage",e.ItemWiseStockList.totalPages)}}const ui=function(){return{standalone:!0}};let li=(()=>{class e{constructor(e,t,r,s,a){this.dataservice=e,this._mastersService=t,this._ReportPagesService=r,this._excelService=s,this.formBuilder=a,this.eventsCounter=new A.xQ,this.ngUnsubscribe=new A.xQ,this.search="",this.ItemWiseStockList=[],this.departmentList=[],this.productList=[],this.locationList=[],this.searchTermChanged=new A.xQ,this.itemwiseForm=this.formBuilder.group({Location_Name:[""],Department:[""],Category:[""]}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.dataservice.setTitle("Item Wise Report"),this.getItemWiseStockList(),this.getAllDepartmentList(),this.getLocationList()}searchEvent(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.currentPage=1,this.getItemWiseStockList()}),this.searchTermChanged.next(e)}getItemWiseStockList(){this._ReportPagesService.getItemWiseStockReportAPI({Department:this.itemwiseForm.value.Department,Location_Name:this.itemwiseForm.value.Location_Name,Category:this.itemwiseForm.value.Category,search:this.search,pageNumber:this.currentPage,numberOfRows:this.perPage}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.ItemWiseStockList=e},e=>{this._mastersService.showalert(e.error.message,"error")})}itemWiseStockExportToExcel(){this._excelService.downloaditemWiseStock({Department:this.itemwiseForm.value.Department,Location_Name:this.itemwiseForm.value.Location_Name,Category:this.itemwiseForm.value.Category,search:this.search,pageNumber:this.currentPage,numberOfRows:this.perPage}).subscribe(e=>saveAs(e,"item-wise-stock-report.xlsx"))}getallProductsList(){this._ReportPagesService.getallProducts({}).subscribe(e=>{e.error||(this.productList=e.data)})}getLocationList(){this._ReportPagesService.getallLocation({}).subscribe(e=>{e.error||(this.locationList=e.data)})}pager(e){this.currentPage=e,this.getItemWiseStockList()}getAllDepartmentList(){this._ReportPagesService.getAllMasterDepartments({}).subscribe(e=>{e.error||(this.departmentList=e.data)})}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getItemWiseStockList()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(l.D),u.Y36(v.R),u.Y36(Ta),u.Y36(Ge.x),u.Y36(Z.qu))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-item-wise-stock-report"]],decls:76,vars:8,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"row","row-cols-7","mb-2"],[1,"col"],["for",""],[1,"text-dark","fw-bold"],[1,"input-group","input-group"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup"],["aria-label","Default select example","formControlName","Category",1,"form-select",3,"change"],["selected","","value",""],["value","CAPEX"],["value","OPEX"],["aria-label","Default select example","formControlName","Department",1,"form-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],["formControlName","Location_Name",1,"form-select",3,"change"],[1,"col","mt-4","text-end"],[1,"text-muted"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"],[1,"row","h-100"],[1,"col-12","d-lg-grid"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","fixed-table"],[1,"table-light"],["scope","col"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],[3,"value"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","12",1,"text-center"],[1,"text-muted",2,"font-size","large"],[1,"text-end"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"form",1),u.TgZ(2,"div"),u.TgZ(3,"div",2),u.TgZ(4,"div",3),u.TgZ(5,"label",4),u.TgZ(6,"small",5),u._uU(7,"Search"),u.qZA(),u.qZA(),u.TgZ(8,"div",6),u.TgZ(9,"span",7),u._UZ(10,"img",8),u.qZA(),u.TgZ(11,"input",9),u.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchEvent(e)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div",3),u.TgZ(13,"label",4),u.TgZ(14,"small",5),u._uU(15,"Category"),u.qZA(),u.qZA(),u.TgZ(16,"select",10),u.NdJ("change",function(){return t.getItemWiseStockList()}),u.TgZ(17,"option",11),u._uU(18,"Select Category"),u.qZA(),u.TgZ(19,"option",12),u._uU(20,"CAPEX"),u.qZA(),u.TgZ(21,"option",13),u._uU(22,"OPEX"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(23,"div",3),u.TgZ(24,"label",4),u.TgZ(25,"small",5),u._uU(26,"Department"),u.qZA(),u.qZA(),u.TgZ(27,"select",14),u.NdJ("change",function(){return t.getItemWiseStockList()}),u.TgZ(28,"option",11),u._uU(29,"Select"),u.qZA(),u.YNc(30,ri,2,2,"option",15),u.qZA(),u.qZA(),u.TgZ(31,"div",3),u.TgZ(32,"label",4),u.TgZ(33,"small",5),u._uU(34,"Location"),u.qZA(),u.qZA(),u.TgZ(35,"select",16),u.NdJ("change",function(){return t.getItemWiseStockList()}),u.TgZ(36,"option",11),u._uU(37,"Select"),u.qZA(),u.YNc(38,si,2,2,"option",15),u.qZA(),u.qZA(),u.TgZ(39,"div",17),u.TgZ(40,"label",4),u._UZ(41,"small",18),u.qZA(),u.TgZ(42,"button",19),u.NdJ("click",function(){return t.itemWiseStockExportToExcel()}),u._uU(43," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(44,"div",20),u.TgZ(45,"div",21),u.TgZ(46,"div",22),u.TgZ(47,"table",23),u.TgZ(48,"thead",24),u.TgZ(49,"tr"),u.TgZ(50,"th",25),u._uU(51,"Sr.No"),u.qZA(),u.TgZ(52,"th",25),u._uU(53,"Item Name"),u.qZA(),u.TgZ(54,"th",25),u._uU(55,"Opening Qty"),u.qZA(),u.TgZ(56,"th",25),u._uU(57,"Opening Amt \u20b9"),u.qZA(),u.TgZ(58,"th",25),u._uU(59,"Received Qty"),u.qZA(),u.TgZ(60,"th",25),u._uU(61,"Received Amt \u20b9"),u.qZA(),u.TgZ(62,"th",25),u._uU(63,"Issue Qty"),u.qZA(),u.TgZ(64,"th",25),u._uU(65,"Issue Amt \u20b9"),u.qZA(),u.TgZ(66,"th",25),u._uU(67,"Scrap/Lost Qty"),u.qZA(),u.TgZ(68,"th",25),u._uU(69,"Scrap/Lost Amt \u20b9"),u.qZA(),u.TgZ(70,"th",25),u._uU(71,"Closing Qty"),u.qZA(),u.TgZ(72,"th",25),u._uU(73,"Closing Amt \u20b9"),u.qZA(),u.qZA(),u.qZA(),u.YNc(74,oi,3,2,"tbody",26),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.YNc(75,ni,1,4,"app-pagination",27),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(1),u.Q6J("formGroup",t.itemwiseForm),u.xp6(10),u.Q6J("ngModel",t.search)("ngModelOptions",u.DdM(7,ui)),u.xp6(19),u.Q6J("ngForOf",t.departmentList),u.xp6(8),u.Q6J("ngForOf",t.locationList),u.xp6(36),u.Q6J("ngIf",null==t.ItemWiseStockList?null:t.ItemWiseStockList.data),u.xp6(1),u.Q6J("ngIf",null==t.ItemWiseStockList?null:t.ItemWiseStockList.data))},directives:[Z._Y,Z.JL,Z.sg,Z.Fj,Z.JJ,Z.On,Z.EJ,Z.u,Z.YN,Z.Kr,U.sg,U.O5,Ke.Q],pipes:[U.JJ],styles:[""]}),e})();function ci(e,t){if(1&e&&(u.TgZ(0,"option",25),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function gi(e,t){if(1&e&&(u.TgZ(0,"option",25),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function di(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",29),u.TgZ(2,"b",30),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function pi(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.ALo(7,"date"),u.qZA(),u.TgZ(8,"td"),u._uU(9),u.qZA(),u.TgZ(10,"td"),u._uU(11),u.qZA(),u.TgZ(12,"td"),u._uU(13),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.qZA(),u.TgZ(16,"td"),u._uU(17),u.qZA(),u.TgZ(18,"td",31),u._uU(19),u.ALo(20,"number"),u.qZA(),u.TgZ(21,"td",31),u._uU(22),u.ALo(23,"number"),u.qZA(),u.TgZ(24,"td",31),u._uU(25),u.ALo(26,"number"),u.qZA(),u.qZA()),2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.Challan_No),u.xp6(2),u.Oqu(u.xi3(7,11,e.Dated_On,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.location_Name),u.xp6(2),u.Oqu(e.ALT_Code),u.xp6(2),u.Oqu(e.product_Name),u.xp6(2),u.Oqu(e.UOM),u.xp6(2),u.Oqu(e.Quantity),u.xp6(2),u.hij(" ",u.xi3(20,14,e.TAX_Percentage,"1.2-3")," "),u.xp6(3),u.hij(" ",u.xi3(23,17,e.Per_Unit_Price,"1.2-3")," "),u.xp6(3),u.Oqu(u.xi3(26,20,e.Total_Price,"1.2-3"))}}function Zi(e,t){if(1&e&&(u.TgZ(0,"tbody",26),u.YNc(1,di,4,0,"tr",27),u.YNc(2,pi,27,23,"tr",28),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",0===(null==e.ChallanSummaryList?null:e.ChallanSummaryList.data.length)),u.xp6(1),u.Q6J("ngForOf",null==e.ChallanSummaryList?null:e.ChallanSummaryList.data)}}function hi(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",32),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw().pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw().changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw();u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.ChallanSummaryList.total)("lastPage",e.ChallanSummaryList.totalPages)}}const mi=function(){return{standalone:!0}};let Ti=(()=>{class e{constructor(e,t,r,s,a){this.dataservice=e,this._mastersService=t,this._ReportPagesService=r,this._excelService=s,this.formBuilder=a,this.eventsCounter=new A.xQ,this.ngUnsubscribe=new A.xQ,this.search="",this.ChallanSummaryList=[],this.excelChallanSummaryResponse=[],this.LocationList=[],this.productList=[],this.searchTermChanged=new A.xQ,this.challanSummaryForm=this.formBuilder.group({Location_Name:[""],Product_Name:[""],startDate:[""],endDate:[""]}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.dataservice.setTitle("Challan Summary Report"),this.getAllLocationList(),this.getallProductsList(),this.getChallanSummaryList()}searchEvent(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.currentPage=1,this.getChallanSummaryList()}),this.searchTermChanged.next(e)}get f(){return this.challanSummaryForm.controls}getAllLocationList(){this._ReportPagesService.getallLocation({}).subscribe(e=>{e.error||(this.LocationList=e.data)})}getallProductsList(){this._ReportPagesService.getallProducts({}).subscribe(e=>{e.error||(this.productList=e.data)})}getChallanSummaryList(){this._ReportPagesService.getChallanSummaryReport({Location_Name:this.challanSummaryForm.value.Location_Name,Product_Name:this.challanSummaryForm.value.Product_Name,startDate:this.challanSummaryForm.value.startDate,endDate:this.challanSummaryForm.value.endDate,search:this.search,pageNumber:this.currentPage,numberOfRows:this.perPage}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.ChallanSummaryList=e},e=>{this._mastersService.showalert(e.error.message,"error")})}challanSummaryExportToExcel(){this._excelService.downloadChallanSummary({Location_Name:this.challanSummaryForm.value.Location_Name,Product_Name:this.challanSummaryForm.value.Product_Name,startDate:this.challanSummaryForm.value.startDate,endDate:this.challanSummaryForm.value.endDate,search:this.search}).subscribe(e=>(0,je.saveAs)(e,"challan-summary-report.xlsx"))}pager(e){this.currentPage=e,this.getChallanSummaryList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getChallanSummaryList()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(l.D),u.Y36(v.R),u.Y36(Ta),u.Y36(Ge.x),u.Y36(Z.qu))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-challan-summary-report"]],decls:71,vars:8,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"row","row-cols-7","mb-2"],[1,"col"],["for",""],[1,"text-dark","fw-bold"],[1,"input-group","input-group"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup"],["formControlName","Location_Name",1,"form-select",3,"change"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","Product_Name",1,"form-select",3,"change"],["type","Date","formControlName","startDate",1,"form-control","input-group-sm",3,"change"],["type","Date","formControlName","endDate",1,"form-control","input-group-sm",3,"change"],[1,"col","mt-4","text-end"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],[3,"value"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","11",1,"text-center"],[1,"text-muted",2,"font-size","large"],[1,"text-end"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"form",1),u.TgZ(2,"div"),u.TgZ(3,"div",2),u.TgZ(4,"div",3),u.TgZ(5,"label",4),u.TgZ(6,"small",5),u._uU(7,"Search"),u.qZA(),u.qZA(),u.TgZ(8,"div",6),u.TgZ(9,"span",7),u._UZ(10,"img",8),u.qZA(),u.TgZ(11,"input",9),u.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchEvent(e)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div",3),u.TgZ(13,"label",4),u.TgZ(14,"small",5),u._uU(15,"Location"),u.qZA(),u.qZA(),u.TgZ(16,"select",10),u.NdJ("change",function(){return t.getChallanSummaryList()}),u.TgZ(17,"option",11),u._uU(18,"Select"),u.qZA(),u.YNc(19,ci,2,2,"option",12),u.qZA(),u.qZA(),u.TgZ(20,"div",3),u.TgZ(21,"label",4),u.TgZ(22,"small",5),u._uU(23,"Item Name"),u.qZA(),u.qZA(),u.TgZ(24,"select",13),u.NdJ("change",function(){return t.getChallanSummaryList()}),u.TgZ(25,"option",11),u._uU(26,"Select"),u.qZA(),u.YNc(27,gi,2,2,"option",12),u.qZA(),u.qZA(),u.TgZ(28,"div",3),u.TgZ(29,"label",4),u.TgZ(30,"small",5),u._uU(31,"From Date"),u.qZA(),u.qZA(),u.TgZ(32,"input",14),u.NdJ("change",function(){return t.getChallanSummaryList()}),u.qZA(),u.qZA(),u.TgZ(33,"div",3),u.TgZ(34,"label",4),u.TgZ(35,"small",5),u._uU(36,"To Date"),u.qZA(),u.qZA(),u.TgZ(37,"input",15),u.NdJ("change",function(){return t.getChallanSummaryList()}),u.qZA(),u.qZA(),u.TgZ(38,"div",16),u.TgZ(39,"label",4),u._UZ(40,"small",5),u.qZA(),u.TgZ(41,"button",17),u.NdJ("click",function(){return t.challanSummaryExportToExcel()}),u._uU(42," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(43,"div",18),u.TgZ(44,"table",19),u.TgZ(45,"thead",20),u.TgZ(46,"tr"),u.TgZ(47,"th",21),u._uU(48,"Sr.No"),u.qZA(),u.TgZ(49,"th",22),u._uU(50,"Challan No"),u.qZA(),u.TgZ(51,"th",22),u._uU(52,"Date"),u.qZA(),u.TgZ(53,"th",22),u._uU(54,"Location"),u.qZA(),u.TgZ(55,"th",22),u._uU(56,"Item Code"),u.qZA(),u.TgZ(57,"th",22),u._uU(58,"Item Name"),u.qZA(),u.TgZ(59,"th",22),u._uU(60,"UOM"),u.qZA(),u.TgZ(61,"th",22),u._uU(62,"Quantity"),u.qZA(),u.TgZ(63,"th",22),u._uU(64,"GST"),u.qZA(),u.TgZ(65,"th",22),u._uU(66,"Rate \u20b9"),u.qZA(),u.TgZ(67,"th",22),u._uU(68,"Total Amt \u20b9"),u.qZA(),u.qZA(),u.qZA(),u.YNc(69,Zi,3,2,"tbody",23),u.qZA(),u.qZA(),u.YNc(70,hi,1,4,"app-pagination",24),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(1),u.Q6J("formGroup",t.challanSummaryForm),u.xp6(10),u.Q6J("ngModel",t.search)("ngModelOptions",u.DdM(7,mi)),u.xp6(8),u.Q6J("ngForOf",t.LocationList),u.xp6(8),u.Q6J("ngForOf",t.productList),u.xp6(42),u.Q6J("ngIf",null==t.ChallanSummaryList?null:t.ChallanSummaryList.data),u.xp6(1),u.Q6J("ngIf",null==t.ChallanSummaryList?null:t.ChallanSummaryList.data))},directives:[Z._Y,Z.JL,Z.sg,Z.Fj,Z.JJ,Z.On,Z.EJ,Z.u,Z.YN,Z.Kr,U.sg,U.O5,Ke.Q],pipes:[U.uU,U.JJ],styles:[""]}),e})();function Ai(e,t){if(1&e&&(u.TgZ(0,"option",27),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function _i(e,t){if(1&e&&(u.TgZ(0,"option",27),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function qi(e,t){if(1&e&&(u.TgZ(0,"option",27),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function fi(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",31),u.TgZ(2,"b",32),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function xi(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td",33),u._uU(14),u.qZA(),u.TgZ(15,"td",33),u._uU(16),u.ALo(17,"number"),u.qZA(),u.TgZ(18,"td",33),u._uU(19),u.qZA(),u.TgZ(20,"td",33),u._uU(21),u.ALo(22,"number"),u.qZA(),u.TgZ(23,"td",33),u._uU(24),u.qZA(),u.TgZ(25,"td",33),u._uU(26),u.ALo(27,"number"),u.qZA(),u.TgZ(28,"td",33),u._uU(29),u.qZA(),u.TgZ(30,"td",33),u._uU(31),u.ALo(32,"number"),u.qZA(),u.qZA()),2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.Current_Department),u.xp6(2),u.Oqu(e.Location_Name),u.xp6(2),u.Oqu(e.ALT_Code),u.xp6(2),u.Oqu(e.Product_Group),u.xp6(2),u.Oqu(e.Product_Name),u.xp6(2),u.Oqu(e.Current_YTD_Qty),u.xp6(2),u.hij(" ",u.xi3(17,14,e.Current_YTD_Amt,"1.2-3")," "),u.xp6(3),u.Oqu(e.Current_MTD_Qty),u.xp6(2),u.hij(" ",u.xi3(22,17,e.Current_MTD_Amt,"1.2-3")," "),u.xp6(3),u.Oqu(e.Last_YTD_Qty),u.xp6(2),u.hij(" ",u.xi3(27,20,e.Last_YTD_Amt,"1.2-3")," "),u.xp6(3),u.Oqu(e.Last_YTD_Qty),u.xp6(2),u.hij(" ",u.xi3(32,23,e.Last_MTD_Amt,"1.2-3")," ")}}function bi(e,t){if(1&e&&(u.TgZ(0,"tbody",28),u.YNc(1,fi,4,0,"tr",29),u.YNc(2,xi,33,26,"tr",30),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",0===(null==e.YTDMTDRList?null:e.YTDMTDRList.data.length)),u.xp6(1),u.Q6J("ngForOf",null==e.YTDMTDRList?null:e.YTDMTDRList.data)}}function vi(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",34),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw().pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw().changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw();u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.YTDMTDRList.total)("lastPage",e.YTDMTDRList.totalPages)}}const Ui=function(){return{standalone:!0}};let yi=(()=>{class e{constructor(e,t,r,s,a,i){this.dataservice=e,this._mastersService=t,this._ReportPagesService=r,this._excelService=s,this.formBuilder=a,this._dispatchService=i,this.eventsCounter=new A.xQ,this.ngUnsubscribe=new A.xQ,this.search="",this.YTDMTDRList=[],this.LocationList=[],this.productList=[],this.departmentList=[],this.searchTermChanged=new A.xQ,this.ytdmtdForm=this.formBuilder.group({Department:[""],Product_Name:[""],Location_Name:[""]}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.dataservice.setTitle("YTD MTD Report"),this.getAllLocationList(),this.getallProductsList(),this.getYTDMTDRList(),this.getAllDepartmentList()}searchEvent(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.currentPage=1,this.getYTDMTDRList()}),this.searchTermChanged.next(e)}getAllDepartmentList(){this._dispatchService.getAllMasterDepartments({}).subscribe(e=>{e.error||(this.departmentList=e.data)})}getAllLocationList(){this._ReportPagesService.getallLocation({}).subscribe(e=>{e.error||(this.LocationList=e.data)})}getallProductsList(){this._ReportPagesService.getallProducts({}).subscribe(e=>{e.error||(this.productList=e.data)})}getYTDMTDRList(){this._ReportPagesService.getYTDMTDReport({Product_Name:this.ytdmtdForm.value.Product_Name,Location_Name:this.ytdmtdForm.value.Location_Name,Department:this.ytdmtdForm.value.Department,search:this.search,pageNumber:this.currentPage,numberOfRows:this.perPage}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.YTDMTDRList=e},e=>{this._mastersService.showalert(e.error.message,"error")})}YtdMtdExportToExcel(){this._excelService.downloadytdmtdReport({Product_Name:this.ytdmtdForm.value.Product_Name,Location_Name:this.ytdmtdForm.value.Location_Name,Department:this.ytdmtdForm.value.Department,search:this.search}).subscribe(e=>saveAs(e,"ytd-mtd--report.xlsx"))}pager(e){this.currentPage=e,this.getYTDMTDRList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getYTDMTDRList()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(l.D),u.Y36(v.R),u.Y36(Ta),u.Y36(Ge.x),u.Y36(Z.qu),u.Y36(xr))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-ytd-mtd-report"]],decls:86,vars:9,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"row","row-cols-7","mb-2"],[1,"col"],["for",""],[1,"text-dark","fw-bold"],[1,"input-group","input-group"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup"],["aria-label","Default select example","formControlName","Department",1,"form-select",3,"change"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","Location_Name",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","Product_Name",1,"form-select",3,"change"],[1,"col","mt-4","text-end"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"],[1,"row","h-100"],[1,"col-12","d-lg-grid"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","fixed-table"],[1,"table-light"],["scope","col","rowspan","2",1,"w-4"],["scope","col","rowspan","2",1,"w-10"],["scope","col","colspan","2",1,"w-10","text-center"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],[3,"value"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","11",1,"text-center"],[1,"text-muted",2,"font-size","large"],[1,"text-end"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"form",1),u.TgZ(2,"div"),u.TgZ(3,"div",2),u.TgZ(4,"div",3),u.TgZ(5,"label",4),u.TgZ(6,"small",5),u._uU(7,"Search"),u.qZA(),u.qZA(),u.TgZ(8,"div",6),u.TgZ(9,"span",7),u._UZ(10,"img",8),u.qZA(),u.TgZ(11,"input",9),u.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchEvent(e)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div",3),u.TgZ(13,"label",4),u.TgZ(14,"small",5),u._uU(15,"Department"),u.qZA(),u.qZA(),u.TgZ(16,"select",10),u.NdJ("change",function(){return t.getYTDMTDRList()}),u.TgZ(17,"option",11),u._uU(18,"Select"),u.qZA(),u.YNc(19,Ai,2,2,"option",12),u.qZA(),u.qZA(),u.TgZ(20,"div",3),u.TgZ(21,"label",4),u.TgZ(22,"small",5),u._uU(23,"Location"),u.qZA(),u.qZA(),u.TgZ(24,"select",13),u.NdJ("change",function(){return t.getYTDMTDRList()}),u.TgZ(25,"option",11),u._uU(26,"Select"),u.qZA(),u.YNc(27,_i,2,2,"option",12),u.qZA(),u.qZA(),u.TgZ(28,"div",3),u.TgZ(29,"label",4),u.TgZ(30,"small",5),u._uU(31,"Item Name"),u.qZA(),u.qZA(),u.TgZ(32,"select",14),u.NdJ("change",function(){return t.getYTDMTDRList()}),u.TgZ(33,"option",11),u._uU(34,"Select"),u.qZA(),u.YNc(35,qi,2,2,"option",12),u.qZA(),u.qZA(),u.TgZ(36,"div",15),u.TgZ(37,"label",4),u._UZ(38,"small",5),u.qZA(),u.TgZ(39,"button",16),u.NdJ("click",function(){return t.YtdMtdExportToExcel()}),u._uU(40," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(41,"div",17),u.TgZ(42,"div",18),u.TgZ(43,"div",19),u.TgZ(44,"table",20),u.TgZ(45,"thead",21),u.TgZ(46,"tr"),u.TgZ(47,"th",22),u._uU(48,"Sr.No"),u.qZA(),u.TgZ(49,"th",23),u._uU(50,"Department"),u.qZA(),u.TgZ(51,"th",23),u._uU(52,"Location"),u.qZA(),u.TgZ(53,"th",23),u._uU(54,"Item Code"),u.qZA(),u.TgZ(55,"th",23),u._uU(56,"Category"),u.qZA(),u.TgZ(57,"th",23),u._uU(58,"Item Name"),u.qZA(),u.TgZ(59,"th",24),u._uU(60," Current YTD "),u.qZA(),u.TgZ(61,"th",24),u._uU(62," Current MTD "),u.qZA(),u.TgZ(63,"th",24),u._uU(64," Last Year YTD "),u.qZA(),u.TgZ(65,"th",24),u._uU(66," Last Year MTD "),u.qZA(),u.qZA(),u.TgZ(67,"tr"),u.TgZ(68,"th"),u._uU(69,"Quantity"),u.qZA(),u.TgZ(70,"th"),u._uU(71,"Amount"),u.qZA(),u.TgZ(72,"th"),u._uU(73,"Quantity"),u.qZA(),u.TgZ(74,"th"),u._uU(75,"Amount"),u.qZA(),u.TgZ(76,"th"),u._uU(77,"Quantity"),u.qZA(),u.TgZ(78,"th"),u._uU(79,"Amount"),u.qZA(),u.TgZ(80,"th"),u._uU(81,"Quantity"),u.qZA(),u.TgZ(82,"th"),u._uU(83,"Amount"),u.qZA(),u.qZA(),u.qZA(),u.YNc(84,bi,3,2,"tbody",25),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.YNc(85,vi,1,4,"app-pagination",26),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(1),u.Q6J("formGroup",t.ytdmtdForm),u.xp6(10),u.Q6J("ngModel",t.search)("ngModelOptions",u.DdM(8,Ui)),u.xp6(8),u.Q6J("ngForOf",t.departmentList),u.xp6(8),u.Q6J("ngForOf",t.LocationList),u.xp6(8),u.Q6J("ngForOf",t.productList),u.xp6(49),u.Q6J("ngIf",null==t.YTDMTDRList?null:t.YTDMTDRList.data),u.xp6(1),u.Q6J("ngIf",null==t.YTDMTDRList?null:t.YTDMTDRList.data))},directives:[Z._Y,Z.JL,Z.sg,Z.Fj,Z.JJ,Z.On,Z.EJ,Z.u,Z.YN,Z.Kr,U.sg,U.O5,Ke.Q],pipes:[U.JJ],styles:[""]}),e})();function wi(e,t){if(1&e&&(u.TgZ(0,"div",9),u.TgZ(1,"div",2),u.TgZ(2,"span",17),u._uU(3,"Barcode"),u.qZA(),u.TgZ(4,"p",18),u._uU(5),u.qZA(),u.qZA(),u.TgZ(6,"div",2),u.TgZ(7,"span",17),u._uU(8,"ALT Code"),u.qZA(),u.TgZ(9,"p",18),u._uU(10),u.qZA(),u.qZA(),u.TgZ(11,"div",2),u.TgZ(12,"span",17),u._uU(13,"Name"),u.qZA(),u.TgZ(14,"p",18),u._uU(15),u.qZA(),u.qZA(),u.TgZ(16,"div",2),u.TgZ(17,"span",17),u._uU(18,"Description"),u.qZA(),u.TgZ(19,"p",18),u._uU(20),u.qZA(),u.qZA(),u.TgZ(21,"div",2),u.TgZ(22,"span",17),u._uU(23,"Asset Holder"),u.qZA(),u.TgZ(24,"p",18),u._uU(25),u.qZA(),u.qZA(),u.TgZ(26,"div",2),u.TgZ(27,"span",17),u._uU(28,"Manufacturer"),u.qZA(),u.TgZ(29,"p",18),u._uU(30),u.qZA(),u.qZA(),u.TgZ(31,"div",2),u.TgZ(32,"span",17),u._uU(33,"Model"),u.qZA(),u.TgZ(34,"p",18),u._uU(35),u.qZA(),u.qZA(),u.TgZ(36,"div",2),u.TgZ(37,"span",17),u._uU(38,"Serial Number"),u.qZA(),u.TgZ(39,"p",18),u._uU(40),u.qZA(),u.qZA(),u.TgZ(41,"div",2),u.TgZ(42,"span",17),u._uU(43,"AMC Expiry "),u.qZA(),u.TgZ(44,"p",18),u._uU(45),u.ALo(46,"date"),u.qZA(),u.qZA(),u.TgZ(47,"div",2),u.TgZ(48,"span",17),u._uU(49,"AMC Vendor"),u.qZA(),u.TgZ(50,"p",18),u._uU(51),u.qZA(),u.qZA(),u.TgZ(52,"div",2),u.TgZ(53,"span",17),u._uU(54,"Product warranty"),u.qZA(),u.TgZ(55,"p",18),u._uU(56),u.ALo(57,"date"),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(5),u.Oqu(null==e.assetHistory?null:e.assetHistory.data.Barcode),u.xp6(5),u.Oqu(null==e.assetHistory?null:e.assetHistory.data.product.ALT_Code),u.xp6(5),u.Oqu(null==e.assetHistory?null:e.assetHistory.data.product.Name),u.xp6(5),u.Oqu(null==e.assetHistory?null:e.assetHistory.data.product.Description),u.xp6(5),u.Oqu(null==e.assetHistory?null:e.assetHistory.data.product.Asset_Holder),u.xp6(5),u.Oqu(null==e.assetHistory?null:e.assetHistory.data.Manufacturer),u.xp6(5),u.Oqu(null==e.assetHistory?null:e.assetHistory.data.Model),u.xp6(5),u.Oqu(null==e.assetHistory?null:e.assetHistory.data.Serial_Number),u.xp6(5),u.hij(" ",u.xi3(46,11,null==e.assetHistory?null:e.assetHistory.data.AMC_Expiry,"dd/MM/yyyy")," "),u.xp6(6),u.Oqu(null==e.assetHistory?null:e.assetHistory.data.AMC_Vendor),u.xp6(5),u.hij(" ",u.xi3(57,14,null==e.assetHistory?null:e.assetHistory.data.Product_Expiry,"dd/MM/yyyy")," ")}}const Pi=function(){return{display:"block","font-size":"14px","font-family":"sans-serif","page-break-after":"always"}},Ci=function(e){return{".barcodeContainer":e}};function Ni(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",9),u.TgZ(1,"div",19),u._UZ(2,"app-barcode",20),u.TgZ(3,"button",21),u._uU(4," Print Barcode "),u.qZA(),u.qZA(),u.TgZ(5,"div",22),u.TgZ(6,"label",3),u._UZ(7,"small",4),u.qZA(),u.TgZ(8,"button",23),u.NdJ("click",function(){return u.CHM(e),u.oxw().TrackAssetExportToExcel()}),u._uU(9," Export To Excel "),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw();u.xp6(2),u.Q6J("data",e.barcodes),u.xp6(1),u.Q6J("printStyle",u.VKq(3,Ci,u.DdM(2,Pi)))}}function Si(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.ALo(5,"date"),u.qZA(),u.TgZ(6,"td"),u._uU(7),u.qZA(),u.TgZ(8,"td"),u._uU(9),u.qZA(),u.TgZ(10,"td"),u._uU(11),u.qZA(),u.TgZ(12,"td"),u._uU(13),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.qZA(),u.TgZ(16,"td"),u._uU(17),u.qZA(),u.TgZ(18,"td"),u._uU(19),u.qZA(),u.TgZ(20,"td"),u._uU(21),u.qZA(),u.TgZ(22,"td"),u._uU(23),u.qZA(),u.TgZ(24,"td"),u._uU(25),u.qZA(),u.qZA()),2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(u.xi3(5,12,e.Dated_On,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.fromLocation.Name),u.xp6(2),u.Oqu(e.Location_From_Department),u.xp6(2),u.Oqu(e.Location_From_Cost_Center),u.xp6(2),u.Oqu(e.toLocation.Name),u.xp6(2),u.Oqu(e.Location_To_Department),u.xp6(2),u.Oqu(e.Location_To_Cost_Center),u.xp6(2),u.Oqu(e.Type_Of_Issue),u.xp6(2),u.Oqu(e.Collected_By),u.xp6(2),u.Oqu(e.Mode_Of_Transport),u.xp6(2),u.Oqu(e.Remark)}}function Li(e,t){if(1&e&&(u.TgZ(0,"tbody",24),u.YNc(1,Si,26,15,"tr",25),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngForOf",null==e.assetHistory?null:e.assetHistory.data.asset_transactions)}}let Di=(()=>{class e{constructor(e,t,r,s,a){this.dataservice=e,this._mastersService=t,this._dispatchHistoryService=r,this._excelService=s,this.activatedRoute=a,this.search="",this.assetHistory=[],this.barcodes=[],this.searchTermChanged=new A.xQ,this.activatedRoute.params.subscribe(e=>{this.search=e.barcode,this.search&&this.getAssetHistory()})}ngOnInit(){this.dataservice.setTitle("Track Asset")}searchTasks(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.getAssetHistory()}),this.searchTermChanged.next(e)}getAssetHistory(){this._dispatchHistoryService.getAssetHistory({Barcode:this.search}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.assetHistory=e,this.barcodes.push({ALT_Code:this.assetHistory.data.product.ALT_Code,Name:this.assetHistory.data.product.Name,Barcode:this.assetHistory.data.Barcode,Model:this.assetHistory.data.Model,Serial_Number:this.assetHistory.data.Serial_Number}))},e=>{this._mastersService.showalert(e.error.message,"error")})}TrackAssetExportToExcel(){this._excelService.downloadTrackAssetExport({Barcode:this.search}).subscribe(e=>(0,je.saveAs)(e,"track-asset.xlsx"))}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(l.D),u.Y36(v.R),u.Y36(ks),u.Y36(Ge.x),u.Y36(s.gz))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-track-asset"]],decls:53,vars:4,consts:[[1,"container-fluid","mb-2","main-container"],[1,"row","h-100","mb-2"],[1,"col-auto"],["for",""],[1,"text-dark","fw-bold"],[1,"input-group","input-group"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"row"],["class","row",4,"ngIf"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col"],["scope","col","colspan","3",1,"text-center"],["class","bg-white",4,"ngIf"],[1,"fw-bold"],[1,"text-muted"],[1,"col","my-2"],[3,"data"],["printSectionId","print-section","ngxPrint","",1,"btn","btn-1","btn-sm","text-white",2,"margin-right","5px",3,"printStyle"],[1,"col","lg-4","text-end"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"],[1,"bg-white"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"label",3),u.TgZ(4,"small",4),u._uU(5,"Search"),u.qZA(),u.qZA(),u.TgZ(6,"div",5),u.TgZ(7,"span",6),u._UZ(8,"img",7),u.qZA(),u.TgZ(9,"input",8),u.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchTasks(e)}),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"div",9),u.YNc(11,wi,58,17,"div",10),u.qZA(),u.YNc(12,Ni,10,5,"div",10),u.TgZ(13,"div",11),u.TgZ(14,"table",12),u.TgZ(15,"thead",13),u.TgZ(16,"tr"),u._UZ(17,"th",14),u._UZ(18,"th",14),u.TgZ(19,"th",15),u._uU(20,"From"),u.qZA(),u.TgZ(21,"th",15),u._uU(22,"To"),u.qZA(),u._UZ(23,"th",14),u._UZ(24,"th",14),u._UZ(25,"th",14),u._UZ(26,"th",14),u.qZA(),u.TgZ(27,"tr"),u.TgZ(28,"th",14),u._uU(29,"Sr.No"),u.qZA(),u.TgZ(30,"th",14),u._uU(31,"Date"),u.qZA(),u.TgZ(32,"th",14),u._uU(33,"Location"),u.qZA(),u.TgZ(34,"th",14),u._uU(35,"Department"),u.qZA(),u.TgZ(36,"th",14),u._uU(37,"Cost Center"),u.qZA(),u.TgZ(38,"th",14),u._uU(39,"Location"),u.qZA(),u.TgZ(40,"th",14),u._uU(41,"Department"),u.qZA(),u.TgZ(42,"th",14),u._uU(43,"Cost Center"),u.qZA(),u.TgZ(44,"th",14),u._uU(45,"Type of Issue"),u.qZA(),u.TgZ(46,"th",14),u._uU(47,"Collected By"),u.qZA(),u.TgZ(48,"th",14),u._uU(49,"Transport Mode"),u.qZA(),u.TgZ(50,"th",14),u._uU(51,"Remark"),u.qZA(),u.qZA(),u.qZA(),u.YNc(52,Li,2,1,"tbody",16),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(9),u.Q6J("ngModel",t.search),u.xp6(2),u.Q6J("ngIf",null==t.assetHistory?null:t.assetHistory.data),u.xp6(1),u.Q6J("ngIf",null==t.assetHistory?null:t.assetHistory.data),u.xp6(40),u.Q6J("ngIf",null==t.assetHistory?null:t.assetHistory.data))},directives:[Z.Fj,Z.JJ,Z.On,U.O5,qs,fs.I,U.sg],pipes:[U.uU],styles:[""]}),e})();function Ii(e,t){if(1&e&&(u.TgZ(0,"option",37),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function Oi(e,t){if(1&e&&(u.TgZ(0,"option",37),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function ki(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td",41),u.TgZ(2,"b",42),u._uU(3,"No records found"),u.qZA(),u.qZA(),u.qZA())}function Ri(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.ALo(7,"date"),u.qZA(),u.TgZ(8,"td"),u._uU(9),u.qZA(),u.TgZ(10,"td"),u._uU(11),u.qZA(),u.TgZ(12,"td"),u._uU(13),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.qZA(),u.TgZ(16,"td"),u._uU(17),u.ALo(18,"date"),u.qZA(),u.TgZ(19,"td"),u._uU(20),u.ALo(21,"date"),u.qZA(),u.TgZ(22,"td"),u._uU(23),u.qZA(),u.TgZ(24,"td"),u._uU(25),u.qZA(),u.qZA()),2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.Request_Number),u.xp6(2),u.Oqu(u.xi3(7,11,e.Request_Date,"dd-MM-yyyy")),u.xp6(3),u.Oqu(e.Department),u.xp6(2),u.Oqu(e.location_Name),u.xp6(2),u.Oqu(e.issue_type_Name),u.xp6(2),u.Oqu(e.Status),u.xp6(2),u.Oqu(u.xi3(18,14,e.Assigned_Time,"d/M/yyyy, h:mm:ss a ")),u.xp6(3),u.Oqu(u.xi3(21,17,e.Resolved_Time,"d/M/yyyy, h:mm:ss a ")),u.xp6(3),u.Oqu(e.TAT),u.xp6(2),u.Oqu(e.Support_Comment)}}function Ji(e,t){if(1&e&&(u.TgZ(0,"tbody",38),u.YNc(1,ki,4,0,"tr",39),u.YNc(2,Ri,26,20,"tr",40),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",0===(null==e.issueTrackerReportList?null:e.issueTrackerReportList.data.length)),u.xp6(1),u.Q6J("ngForOf",null==e.issueTrackerReportList?null:e.issueTrackerReportList.data)}}function Mi(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",43),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw().pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw().changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw();u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.issueTrackerReportList.total)("lastPage",e.issueTrackerReportList.totalPages)}}const Qi=function(){return{standalone:!0}};let Fi=(()=>{class e{constructor(e,t,r,s,a,i,o){this.dataservice=e,this._excelService=t,this._mastersService=r,this._ReportPagesService=s,this.formBuilder=a,this.storageService=i,this._dispatchService=o,this.eventsCounter=new A.xQ,this.ngUnsubscribe=new A.xQ,this.search="",this.issueTrackerReportList=[],this.vendorResponse=[],this.IssueList=[],this.locationList=[],this.departmentList=[],this.searchTermChanged=new A.xQ,this.issueTrackerReportForm=this.formBuilder.group({Location_Name:[""],Issue_Type_Name:[""],Department:[""],Status:[""],startDate:[""],endDate:[""]}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.dataservice.setTitle("Issue Tracker Report"),this.role=this.storageService.secureStorage.getItem("role"),this.getLocationList(),this.getallIssuesList(),this.getissueTrackerReportList(),this.getAllDepartmentList()}searchEvent(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.currentPage=1,this.getissueTrackerReportList()}),this.searchTermChanged.next(e)}getAllDepartmentList(){this._dispatchService.getAllMasterDepartments({}).subscribe(e=>{e.error||(this.departmentList=e.data)})}getissueTrackerReportList(){this._ReportPagesService.getAllIssueTrackerReport({Location_Name:this.issueTrackerReportForm.value.Location_Name,Issue_Type_Name:this.issueTrackerReportForm.value.Issue_Type_Name,Department:this.issueTrackerReportForm.value.Department,Status:this.issueTrackerReportForm.value.Status,startDate:this.issueTrackerReportForm.value.startDate,endDate:this.issueTrackerReportForm.value.endDate,search:this.search,pageNumber:this.currentPage,numberOfRows:this.perPage}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.issueTrackerReportList=e},e=>{this._mastersService.showalert(e.error.message,"error")})}issueTrackerReportExportToExcel(){this._excelService.downloadissueTrackerReport({Location_Name:this.issueTrackerReportForm.value.Location_Name,Issue_Type_Name:this.issueTrackerReportForm.value.Issue_Type_Name,Department:this.issueTrackerReportForm.value.Department,Status:this.issueTrackerReportForm.value.Status,startDate:this.issueTrackerReportForm.value.startDate,endDate:this.issueTrackerReportForm.value.endDate,search:this.search,pageNumber:this.currentPage,numberOfRows:this.perPage}).subscribe(e=>saveAs(e,"issueTracker-Report-report.xlsx"))}getLocationList(){this._ReportPagesService.getallLocation({}).subscribe(e=>{e.error||(this.locationList=e.data)})}getallIssuesList(){this._ReportPagesService.getAllIssue({}).subscribe(e=>{e.error||(this.IssueList=e.data)})}pager(e){this.currentPage=e,this.getissueTrackerReportList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getissueTrackerReportList()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(l.D),u.Y36(Ge.x),u.Y36(v.R),u.Y36(Ta),u.Y36(Z.qu),u.Y36(N.V),u.Y36(xr))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-issue-tracker-report"]],decls:92,vars:8,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"row","row-cols-7","mb-2"],[1,"col"],["for",""],[1,"text-dark","fw-bold"],[1,"input-group"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup"],["formControlName","Location_Name",1,"form-select",3,"change"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","Department",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","Status",1,"form-select",3,"change"],["value","Open"],["value","Ready To Dispatch"],["value","Dispatched"],["value","Resolved"],["value","Discarded"],["value","In Progress"],["type","Date","formControlName","startDate",1,"form-control","input-group-sm",3,"change"],["type","Date","formControlName","endDate",1,"form-control","input-group-sm",3,"change"],[1,"col","mt-4","text-end"],[1,"text-muted"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","14px","margin-left","-18px",3,"click"],[1,"row","h-100"],[1,"col-12","d-lg-grid"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","fixed-table"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col",1,"w-10"],["scope","col"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],[3,"value"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","11",1,"text-center"],[1,"text-muted",2,"font-size","large"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"form",1),u.TgZ(2,"div"),u.TgZ(3,"div",2),u.TgZ(4,"div",3),u.TgZ(5,"label",4),u.TgZ(6,"small",5),u._uU(7,"Search"),u.qZA(),u.qZA(),u.TgZ(8,"div",6),u.TgZ(9,"span",7),u._UZ(10,"img",8),u.qZA(),u.TgZ(11,"input",9),u.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchEvent(e)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div",3),u.TgZ(13,"label",4),u.TgZ(14,"small",5),u._uU(15,"Location"),u.qZA(),u.qZA(),u.TgZ(16,"select",10),u.NdJ("change",function(){return t.getissueTrackerReportList()}),u.TgZ(17,"option",11),u._uU(18,"Select"),u.qZA(),u.YNc(19,Ii,2,2,"option",12),u.qZA(),u.qZA(),u.TgZ(20,"div",3),u.TgZ(21,"label",4),u.TgZ(22,"small",5),u._uU(23,"Department"),u.qZA(),u.qZA(),u.TgZ(24,"select",13),u.NdJ("change",function(){return t.getissueTrackerReportList()}),u.TgZ(25,"option",11),u._uU(26,"Select"),u.qZA(),u.YNc(27,Oi,2,2,"option",12),u.qZA(),u.qZA(),u.TgZ(28,"div",3),u.TgZ(29,"label",4),u.TgZ(30,"small",5),u._uU(31,"Status"),u.qZA(),u.qZA(),u.TgZ(32,"select",14),u.NdJ("change",function(){return t.getissueTrackerReportList()}),u.TgZ(33,"option",11),u._uU(34,"Select"),u.qZA(),u.TgZ(35,"option",15),u._uU(36,"Open"),u.qZA(),u.TgZ(37,"option",16),u._uU(38,"Ready To Dispatch"),u.qZA(),u.TgZ(39,"option",17),u._uU(40,"Dispatched"),u.qZA(),u.TgZ(41,"option",18),u._uU(42,"Resolved"),u.qZA(),u.TgZ(43,"option",19),u._uU(44,"Discarded"),u.qZA(),u.TgZ(45,"option",20),u._uU(46,"In Progress"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(47,"div",3),u.TgZ(48,"label",4),u.TgZ(49,"small",5),u._uU(50,"From Date"),u.qZA(),u.qZA(),u.TgZ(51,"input",21),u.NdJ("change",function(){return t.getissueTrackerReportList()}),u.qZA(),u.qZA(),u.TgZ(52,"div",3),u.TgZ(53,"label",4),u.TgZ(54,"small",5),u._uU(55,"To Date"),u.qZA(),u.qZA(),u.TgZ(56,"input",22),u.NdJ("change",function(){return t.getissueTrackerReportList()}),u.qZA(),u.qZA(),u.TgZ(57,"div",23),u.TgZ(58,"label",4),u._UZ(59,"small",24),u.qZA(),u.TgZ(60,"button",25),u.NdJ("click",function(){return t.issueTrackerReportExportToExcel()}),u._uU(61," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(62,"div",26),u.TgZ(63,"div",27),u.TgZ(64,"div",28),u.TgZ(65,"table",29),u.TgZ(66,"thead",30),u.TgZ(67,"tr"),u.TgZ(68,"th",31),u._uU(69,"Sr.No"),u.qZA(),u.TgZ(70,"th",32),u._uU(71,"Request Number"),u.qZA(),u.TgZ(72,"th",33),u._uU(73,"Date"),u.qZA(),u.TgZ(74,"th",32),u._uU(75,"Department"),u.qZA(),u.TgZ(76,"th",33),u._uU(77,"Location Name"),u.qZA(),u.TgZ(78,"th",32),u._uU(79,"Issue Type"),u.qZA(),u.TgZ(80,"th",33),u._uU(81,"Status"),u.qZA(),u.TgZ(82,"th",33),u._uU(83,"Assigned Time"),u.qZA(),u.TgZ(84,"th",33),u._uU(85,"Resolved Time"),u.qZA(),u.TgZ(86,"th",33),u._uU(87,"TAT"),u.qZA(),u.TgZ(88,"th",34),u._uU(89,"Remark"),u.qZA(),u.qZA(),u.qZA(),u.YNc(90,Ji,3,2,"tbody",35),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.YNc(91,Mi,1,4,"app-pagination",36),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(1),u.Q6J("formGroup",t.issueTrackerReportForm),u.xp6(10),u.Q6J("ngModel",t.search)("ngModelOptions",u.DdM(7,Qi)),u.xp6(8),u.Q6J("ngForOf",t.locationList),u.xp6(8),u.Q6J("ngForOf",t.departmentList),u.xp6(63),u.Q6J("ngIf",null==t.issueTrackerReportList?null:t.issueTrackerReportList.data),u.xp6(1),u.Q6J("ngIf",null==t.issueTrackerReportList?null:t.issueTrackerReportList.data))},directives:[Z._Y,Z.JL,Z.sg,Z.Fj,Z.JJ,Z.On,Z.EJ,Z.u,Z.YN,Z.Kr,U.sg,U.O5,Ke.Q],pipes:[U.uU],styles:[""]}),e})();function Yi(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",17),u.TgZ(1,"div",18),u.TgZ(2,"label",3),u._UZ(3,"small",4),u.qZA(),u.TgZ(4,"button",19),u.NdJ("click",function(){return u.CHM(e),u.oxw().TrackAssetEmployeeExportToExcel()}),u._uU(5,"Export To Excel"),u.qZA(),u.qZA(),u.qZA()}}function Ei(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.ALo(7,"date"),u.qZA(),u.TgZ(8,"td"),u._uU(9),u.qZA(),u.TgZ(10,"td"),u._uU(11),u.qZA(),u.TgZ(12,"td"),u._uU(13),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.qZA(),u.TgZ(16,"td"),u._uU(17),u.qZA(),u.TgZ(18,"td"),u._uU(19),u.qZA(),u.TgZ(20,"td"),u._uU(21),u.qZA(),u.TgZ(22,"td"),u._uU(23),u.qZA(),u.TgZ(24,"td"),u._uU(25),u.qZA(),u.TgZ(26,"td"),u._uU(27),u.qZA(),u.TgZ(28,"td"),u._uU(29),u.qZA(),u.TgZ(30,"td"),u._uU(31),u.qZA(),u.TgZ(32,"td"),u._uU(33),u.qZA(),u.TgZ(34,"td"),u._uU(35),u.qZA(),u.TgZ(36,"td"),u._uU(37),u.qZA(),u.TgZ(38,"td"),u._uU(39),u.ALo(40,"date"),u.qZA(),u.TgZ(41,"td"),u._uU(42),u.qZA(),u.TgZ(43,"td"),u._uU(44),u.ALo(45,"date"),u.qZA(),u.TgZ(46,"td"),u._uU(47),u.qZA(),u.TgZ(48,"td"),u._uU(49),u.qZA(),u.TgZ(50,"td"),u._uU(51),u.qZA(),u.TgZ(52,"td"),u._uU(53),u.qZA(),u.qZA()),2&e){const e=t.$implicit,r=t.index,s=u.oxw().$implicit;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(s.Gate_Pass_No),u.xp6(2),u.Oqu(u.xi3(7,25,e.Dated_On,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.Type_Of_Issue),u.xp6(2),u.Oqu(null==e.fromLocation?null:e.fromLocation.Name),u.xp6(2),u.Oqu(e.Location_From_Department),u.xp6(2),u.Oqu(e.Location_From_Cost_Center),u.xp6(2),u.Oqu(null==e.toLocation?null:e.toLocation.Name),u.xp6(2),u.Oqu(e.Location_To_Department),u.xp6(2),u.Oqu(e.Location_To_Cost_Center),u.xp6(2),u.Oqu(null==e.asset?null:e.asset.product.ALT_Code),u.xp6(2),u.Oqu(null==e.asset?null:e.asset.product.Name),u.xp6(2),u.Oqu(null==e.asset?null:e.asset.product.Description),u.xp6(2),u.Oqu(null==e.asset?null:e.asset.product.UOM),u.xp6(2),u.Oqu(null==e.asset?null:e.asset.Barcode),u.xp6(2),u.Oqu(null==e.asset?null:e.asset.Manufacturer),u.xp6(2),u.Oqu(null==e.asset?null:e.asset.Serial_Number),u.xp6(2),u.Oqu(null==e.asset?null:e.asset.Model),u.xp6(2),u.Oqu(u.xi3(40,28,null==e.asset?null:e.asset.AMC_Expiry,"dd/MM/yyyy")),u.xp6(3),u.Oqu(null==e.asset?null:e.asset.AMC_Vendor),u.xp6(2),u.Oqu(u.xi3(45,31,null==e.asset?null:e.asset.Product_Expiry,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.Collected_By),u.xp6(2),u.Oqu(e.Mode_Of_Transport),u.xp6(2),u.Oqu(e.Remark),u.xp6(2),u.Oqu(e.User_Name)}}function Hi(e,t){if(1&e&&(u.ynx(0),u.YNc(1,Ei,54,34,"tr",16),u.BQk()),2&e){const e=t.$implicit;u.xp6(1),u.Q6J("ngForOf",null==e?null:e.asset_transactions)}}function Vi(e,t){1&e&&u._UZ(0,"td",30)}function $i(e,t){1&e&&u._UZ(0,"td")}function Bi(e,t){1&e&&u._UZ(0,"td",30)}function ji(e,t){1&e&&u._UZ(0,"td")}function Xi(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td",27),u._uU(6),u.ALo(7,"date"),u.qZA(),u.TgZ(8,"td"),u._uU(9),u.qZA(),u.TgZ(10,"td"),u._uU(11),u.qZA(),u.YNc(12,Vi,1,0,"td",28),u.YNc(13,$i,1,0,"td",29),u.YNc(14,Bi,1,0,"td",28),u.YNc(15,ji,1,0,"td",29),u.TgZ(16,"td",30),u._uU(17),u.qZA(),u.TgZ(18,"td",30),u._uU(19),u.ALo(20,"number"),u.qZA(),u.TgZ(21,"td",30),u._uU(22),u.qZA(),u.TgZ(23,"td",30),u._uU(24),u.ALo(25,"number"),u.qZA(),u.TgZ(26,"td",30),u._uU(27),u.qZA(),u.TgZ(28,"td",30),u._uU(29),u.ALo(30,"number"),u.qZA(),u.qZA()),2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(e.Voucher_No),u.xp6(2),u.hij(" ",u.xi3(7,15,e.Dated_On,"dd/MM/yyyy")," "),u.xp6(3),u.Oqu(e.Department),u.xp6(2),u.Oqu(e.Item_Name),u.xp6(1),u.Q6J("ngForOf",null==e?null:e.open),u.xp6(1),u.Q6J("ngIf",(null==e?null:e.open.length)<=0),u.xp6(1),u.Q6J("ngForOf",null==e?null:e.open),u.xp6(1),u.Q6J("ngIf",(null==e?null:e.open.length)<=0),u.xp6(2),u.Oqu(e.Received_Quantity),u.xp6(2),u.hij(" ",u.xi3(20,18,e.Received_Amount,"1.2-3")," "),u.xp6(3),u.Oqu(e.Issue_Quantity),u.xp6(2),u.hij(" ",u.xi3(25,21,e.Issue_Amount,"1.2-3")," "),u.xp6(3),u.Oqu(e.Closing_Quantity),u.xp6(2),u.hij(" ",u.xi3(30,24,e.Closing_Amount,"1.2-3")," ")}}function Gi(e,t){if(1&e&&(u.TgZ(0,"tbody",24),u.YNc(1,Xi,31,27,"tr",25),u.TgZ(2,"tr"),u.TgZ(3,"th"),u._uU(4,"Total"),u.qZA(),u._UZ(5,"td"),u._UZ(6,"td"),u._UZ(7,"td"),u._UZ(8,"td"),u.TgZ(9,"td",26),u._uU(10),u.qZA(),u.TgZ(11,"td",26),u._uU(12),u.ALo(13,"number"),u.qZA(),u.TgZ(14,"td",26),u._uU(15),u.qZA(),u.TgZ(16,"td",26),u._uU(17),u.ALo(18,"number"),u.qZA(),u.TgZ(19,"td",26),u._uU(20),u.qZA(),u.TgZ(21,"td",26),u._uU(22),u.ALo(23,"number"),u.qZA(),u.TgZ(24,"td",26),u._uU(25),u.qZA(),u.TgZ(26,"td",26),u._uU(27),u.ALo(28,"number"),u.qZA(),u.qZA(),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngForOf",null==e.ProductStock?null:e.ProductStock.data),u.xp6(9),u.hij(" ",e.TotalData.Open_Qty," "),u.xp6(2),u.hij(" ",u.xi3(13,9,e.TotalData.Open_Amount,"1.2-3")," "),u.xp6(3),u.hij(" ",e.TotalData.Received_Qty," "),u.xp6(2),u.hij(" ",u.xi3(18,12,e.TotalData.Received_Amount,"1.2-3")," "),u.xp6(3),u.hij(" ",e.TotalData.Issue_Qty," "),u.xp6(2),u.hij(" ",u.xi3(23,15,e.TotalData.Issue_Amount,"1.2-3")," "),u.xp6(3),u.hij(" ",e.TotalData.Closing_Qty," "),u.xp6(2),u.hij(" ",u.xi3(28,18,e.TotalData.Closing_Amount,"1.2-3")," ")}}function Wi(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",31),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw().pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw().changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw();u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.ProductStock.total)("lastPage",e.ProductStock.totalPages)}}const zi=function(){return{standalone:!0}};function Ki(e,t){if(1&e&&(u.TgZ(0,"option",26),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function eo(e,t){if(1&e&&(u.TgZ(0,"option",26),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.s9C("value",e.Name),u.xp6(1),u.hij(" ",e.Name," ")}}function to(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td",29),u._uU(14),u.ALo(15,"date"),u.qZA(),u.TgZ(16,"td"),u._uU(17),u.qZA(),u.TgZ(18,"td",29),u._uU(19),u.ALo(20,"date"),u.qZA(),u.TgZ(21,"td"),u._uU(22),u.qZA(),u.TgZ(23,"td"),u._uU(24),u.qZA(),u.TgZ(25,"td"),u._uU(26),u.qZA(),u.TgZ(27,"button",30),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(2).onDetails(t)}),u._uU(28," Details "),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit,r=t.index;u.xp6(2),u.Oqu(r+1),u.xp6(2),u.Oqu(null==e.product?null:e.product.Name),u.xp6(2),u.Oqu(e.Barcode),u.xp6(2),u.Oqu(e.Manufacturer),u.xp6(2),u.Oqu(e.Serial_Number),u.xp6(2),u.Oqu(e.Model),u.xp6(2),u.Oqu(u.xi3(15,13,e.AMC_Expiry,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.AMC_Vendor),u.xp6(2),u.Oqu(u.xi3(20,16,e.Product_Expiry,"dd/MM/yyyy")),u.xp6(3),u.Oqu(e.Status),u.xp6(2),u.Oqu(null==e.location?null:e.location.Name),u.xp6(2),u.AsE("",e.Current_Department," ",e.Current_Cost_Center?"("+e.Current_Cost_Center+")":"","")}}function ro(e,t){if(1&e&&(u.TgZ(0,"tbody",27),u.YNc(1,to,29,19,"tr",28),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("ngForOf",null==e.CAPEXStockResponse?null:e.CAPEXStockResponse.data)}}function so(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"app-pagination",31),u.NdJ("loadPage",function(t){return u.CHM(e),u.oxw().pager(t)})("changePerPage",function(t){return u.CHM(e),u.oxw().changePerPage(t)}),u.qZA()}if(2&e){const e=u.oxw();u.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.CAPEXStockResponse.total)("lastPage",e.CAPEXStockResponse.totalPages)}}const ao=[{path:"",redirectTo:"dashboard"},{path:"dashboard",component:T},{path:"requests",component:fr},{path:"inward-material",component:ms},{path:"inward-history",component:Os},{path:"dispatch",component:jr},{path:"dispatch/:id/:location",component:jr},{path:"dispatch-history",component:zs},{path:"lock-stock-alert",component:aa},{path:"po-history",component:ma},{path:"track-asset",component:Di},{path:"track-asset/:barcode",component:Di},{path:"track-employee-asset",component:(()=>{class e{constructor(e,t,r,s){this.dataservice=e,this._mastersService=t,this._excelService=r,this._dispatchHistoryService=s,this.search="",this.assetHistory=[],this.response=[],this.barcodes=[],this.searchFlag=!1,this.SearchEmployeeList=[],this.searchTermChanged=new A.xQ}ngOnInit(){this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.getSearchEmployeeList(e)}),this.dataservice.setTitle("Track Employee Asset")}getAssetHistory(e){console.log("selected employee",e),this.search=e.User_Name,this._dispatchHistoryService.getEmployeeAssetHistory({Username:this.search}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.assetHistory=e},e=>{this._mastersService.showalert(e.error.message,"error")})}getSearchEmployeeList(e){const t={search:e};this.searchFlag=!0,this._dispatchHistoryService.searchEmployeeDataList(t).subscribe(e=>{e.error||(this.SearchEmployeeList=e.data),this.searchFlag=!1})}TrackAssetEmployeeExportToExcel(){this._excelService.downloadTrackEmployeeExport({Username:this.search}).subscribe(e=>saveAs(e,"track-employee-asset.xlsx"))}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(l.D),u.Y36(v.R),u.Y36(Ge.x),u.Y36(ks))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-track-employee-asset"]],decls:80,vars:4,consts:[[1,"container-fluid","mb-2","main-container"],[1,"row","h-100","mb-2"],[1,"col-lg-4","col-12"],["for",""],[1,"text-dark","fw-bold"],[1,"col-lg-12","mb-2"],["appendTo","body","bindLabel","User_Name","bindValue","User_Name","placeholder","Search...",1,"ngselect",3,"loading","items","change","search"],["class","row mb-2",4,"ngIf"],[1,"row","h-100"],[1,"col-12","d-lg-grid"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","fixed-table"],[1,"table-light"],["scope","col"],["scope","col","colspan","3",1,"text-center"],[1,"bg-white"],[4,"ngFor","ngForOf"],[1,"row","mb-2"],[1,"col","text-end"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"label",3),u.TgZ(4,"small",4),u._uU(5,"Search"),u.qZA(),u.qZA(),u.TgZ(6,"div",5),u.TgZ(7,"ng-select",6),u.NdJ("change",function(e){return t.getAssetHistory(e)})("search",function(e){return t.searchTermChanged.next(e.term)}),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.YNc(8,Yi,6,0,"div",7),u.TgZ(9,"div",8),u.TgZ(10,"div",9),u.TgZ(11,"div",10),u.TgZ(12,"table",11),u.TgZ(13,"thead",12),u.TgZ(14,"tr"),u._UZ(15,"th",13),u._UZ(16,"th",13),u._UZ(17,"th",13),u._UZ(18,"th",13),u.TgZ(19,"th",14),u._uU(20,"From"),u.qZA(),u.TgZ(21,"th",14),u._uU(22,"To"),u.qZA(),u._UZ(23,"th",13),u._UZ(24,"th",13),u._UZ(25,"th",13),u._UZ(26,"th",13),u.qZA(),u.TgZ(27,"tr"),u.TgZ(28,"th",13),u._uU(29,"Sr.No"),u.qZA(),u.TgZ(30,"th",13),u._uU(31,"Gate Pass No"),u.qZA(),u.TgZ(32,"th",13),u._uU(33,"Date"),u.qZA(),u.TgZ(34,"th",13),u._uU(35,"Type of Issue"),u.qZA(),u.TgZ(36,"th",13),u._uU(37,"Location"),u.qZA(),u.TgZ(38,"th",13),u._uU(39,"Department"),u.qZA(),u.TgZ(40,"th",13),u._uU(41,"Cost Center"),u.qZA(),u.TgZ(42,"th",13),u._uU(43,"Location"),u.qZA(),u.TgZ(44,"th",13),u._uU(45,"Department"),u.qZA(),u.TgZ(46,"th",13),u._uU(47,"Cost Center"),u.qZA(),u.TgZ(48,"th",13),u._uU(49,"ALT Code"),u.qZA(),u.TgZ(50,"th",13),u._uU(51,"Item Name"),u.qZA(),u.TgZ(52,"th",13),u._uU(53,"Description"),u.qZA(),u.TgZ(54,"th",13),u._uU(55,"UOM"),u.qZA(),u.TgZ(56,"th",13),u._uU(57,"Barcode"),u.qZA(),u.TgZ(58,"th",13),u._uU(59,"Manufacturer"),u.qZA(),u.TgZ(60,"th",13),u._uU(61,"Serial Number"),u.qZA(),u.TgZ(62,"th",13),u._uU(63,"Model"),u.qZA(),u.TgZ(64,"th",13),u._uU(65,"AMC Expiry"),u.qZA(),u.TgZ(66,"th",13),u._uU(67,"AMC Vendor"),u.qZA(),u.TgZ(68,"th",13),u._uU(69,"Product Warranty"),u.qZA(),u.TgZ(70,"th",13),u._uU(71,"Collected By"),u.qZA(),u.TgZ(72,"th",13),u._uU(73,"Transport Mode"),u.qZA(),u.TgZ(74,"th",13),u._uU(75,"Remark"),u.qZA(),u.TgZ(76,"th",13),u._uU(77,"User Name"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(78,"tbody",15),u.YNc(79,Hi,2,1,"ng-container",16),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(7),u.Q6J("loading",t.searchFlag)("items",t.SearchEmployeeList),u.xp6(1),u.Q6J("ngIf",null==t.assetHistory?null:t.assetHistory.data),u.xp6(71),u.Q6J("ngForOf",null==t.assetHistory?null:t.assetHistory.data))},directives:[et.w9,U.O5,U.sg],pipes:[U.uU],styles:[""]}),e})()},{path:"product-stock-ledger",component:(()=>{class e{constructor(e,t,r,s,a,i){this.dataservice=e,this._mastersService=t,this._ReportPagesService=r,this._excelService=s,this.formBuilder=a,this._dispatchService=i,this.eventsCounter=new A.xQ,this.searchTermChanged=new A.xQ,this.ngUnsubscribe=new A.xQ,this.search="",this.ProductStock=[],this.productList=[],this.categoryList=[],this.ALTCodeList=[],this.LocationList=[],this.DepartmentList=[],this.CostCenterList=[],this.SearchDataList=[],this.searchFlag=!1,this.ReceivedTotalQTY=0,this.ReceivedTotalAMT=0,this.OpeningTotalQTY=0,this.OpeningTotalAMT=0,this.IssueTotalQTY=0,this.IssueTotalAMT=0,this.ClosingTotalQTY=0,this.ClosingTotalAMT=0,this.total=0,this.stockSummaryForm=this.formBuilder.group({startDate:[""],endDate:[""]}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.getSearchProductStockLedger(e)}),this.dataservice.setTitle("Track OPEX Stock")}getSearchProductStockLedger(e){const t={search:e};this.searchFlag=!0,this._ReportPagesService.searchInwardProductLedgerAPI(t).subscribe(e=>{e.error||(this.SearchDataList=e.data),this.searchFlag=!1})}addRow(){this.getProductStock()}getProductStock(){this._ReportPagesService.getAllProductStockLedgerReport({startDate:this.stockSummaryForm.value.startDate,endDate:this.stockSummaryForm.value.endDate,search:this.binding,pageNumber:this.currentPage,numberOfRows:this.perPage}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.ProductStock=e,this.TotalData=this.ProductStock.totalData)},e=>{this._mastersService.showalert(e.error.message,"error")})}ProductStockLedgerExportToExcel(){this._excelService.downloadProductStockLedger({startDate:this.stockSummaryForm.value.startDate,endDate:this.stockSummaryForm.value.endDate,search:this.binding}).subscribe(e=>(0,je.saveAs)(e,"track-Opex-report.xlsx"))}getallCategoryList(){this._ReportPagesService.getallCategorry({}).subscribe(e=>{e.error||(this.categoryList=e.data)})}pager(e){this.currentPage=e,this.getProductStock()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getProductStock()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(l.D),u.Y36(v.R),u.Y36(Ta),u.Y36(Ge.x),u.Y36(Z.qu),u.Y36(xr))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-product-stock-ledger"]],decls:58,vars:8,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"row","row-cols-7","mb-2"],[1,"col-lg-3","col-12","mb-2"],["for",""],[1,"text-dark","fw-bold"],["appendTo","body","bindLabel","Name","bindValue","Name","placeholder","Search...",1,"ngselect",3,"loading","items","ngModel","ngModelOptions","ngModelChange","change","search"],[1,"col"],["type","Date","formControlName","startDate",1,"form-control","input-group-sm",3,"change"],["type","Date","formControlName","endDate",1,"form-control","input-group-sm",3,"change"],[1,"col","mt-4","text-end"],[1,"text-muted"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","14px",3,"click"],[1,"row","h-100"],[1,"col-12","d-lg-grid"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","fixed-table"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],[1,"bg-white"],[4,"ngFor","ngForOf"],[2,"text-align","end","font-weight","900"],[2,"min-width","130px"],["class","text-end",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-end"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"form",1),u.TgZ(2,"div"),u.TgZ(3,"div",2),u.TgZ(4,"div",3),u.TgZ(5,"label",4),u.TgZ(6,"small",5),u._uU(7,"Search"),u.qZA(),u.qZA(),u.TgZ(8,"ng-select",6),u.NdJ("ngModelChange",function(e){return t.binding=e})("change",function(){return t.addRow()})("search",function(e){return t.searchTermChanged.next(e.term)}),u.qZA(),u.qZA(),u.TgZ(9,"div",7),u.TgZ(10,"label",4),u.TgZ(11,"small",5),u._uU(12,"From Date"),u.qZA(),u.qZA(),u.TgZ(13,"input",8),u.NdJ("change",function(){return t.addRow()}),u.qZA(),u.qZA(),u.TgZ(14,"div",7),u.TgZ(15,"label",4),u.TgZ(16,"small",5),u._uU(17,"To Date"),u.qZA(),u.qZA(),u.TgZ(18,"input",9),u.NdJ("change",function(){return t.addRow()}),u.qZA(),u.qZA(),u.TgZ(19,"div",10),u.TgZ(20,"label",4),u._UZ(21,"small",11),u.qZA(),u.TgZ(22,"button",12),u.NdJ("click",function(){return t.ProductStockLedgerExportToExcel()}),u._uU(23," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(24,"div",13),u.TgZ(25,"div",14),u.TgZ(26,"div",15),u.TgZ(27,"table",16),u.TgZ(28,"thead",17),u.TgZ(29,"tr"),u.TgZ(30,"th",18),u._uU(31,"Sr.No"),u.qZA(),u.TgZ(32,"th",19),u._uU(33,"Voucher No"),u.qZA(),u.TgZ(34,"th",19),u._uU(35,"Dated On"),u.qZA(),u.TgZ(36,"th",19),u._uU(37,"Department"),u.qZA(),u.TgZ(38,"th",19),u._uU(39,"Item Name"),u.qZA(),u.TgZ(40,"th",20),u._uU(41,"Opening Quantity"),u.qZA(),u.TgZ(42,"th",21),u._uU(43,"Opening Amount \u20b9"),u.qZA(),u.TgZ(44,"th",20),u._uU(45,"Received Quantity"),u.qZA(),u.TgZ(46,"th",21),u._uU(47,"Received Amount \u20b9"),u.qZA(),u.TgZ(48,"th",21),u._uU(49,"Issue Quantity"),u.qZA(),u.TgZ(50,"th",21),u._uU(51,"Issue Amount \u20b9"),u.qZA(),u.TgZ(52,"th",21),u._uU(53,"Closing Quantity"),u.qZA(),u.TgZ(54,"th",21),u._uU(55,"Closing Amount"),u.qZA(),u.qZA(),u.qZA(),u.YNc(56,Gi,29,21,"tbody",22),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.YNc(57,Wi,1,4,"app-pagination",23),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(1),u.Q6J("formGroup",t.stockSummaryForm),u.xp6(7),u.Q6J("loading",t.searchFlag)("items",t.SearchDataList)("ngModel",t.binding)("ngModelOptions",u.DdM(7,zi)),u.xp6(48),u.Q6J("ngIf",null==t.ProductStock?null:t.ProductStock.data),u.xp6(1),u.Q6J("ngIf",null==t.ProductStock?null:t.ProductStock.data))},directives:[Z._Y,Z.JL,Z.sg,et.w9,Z.JJ,Z.On,Z.Fj,Z.u,U.O5,U.sg,Ke.Q],pipes:[U.JJ,U.uU],styles:[""]}),e})()},{path:"track-CAPEX-stock",component:(()=>{class e{constructor(e,t,r,s,a,i,o){this.dataservice=e,this._mastersService=t,this._ReportPagesService=r,this._excelService=s,this.formBuilder=a,this._dispatchService=i,this.router=o,this.eventsCounter=new A.xQ,this.searchTermChanged=new A.xQ,this.ngUnsubscribe=new A.xQ,this.search="",this.ProductStock=[],this.CAPEXStockResponse=[],this.productList=[],this.categoryList=[],this.ALTCodeList=[],this.LocationList=[],this.DepartmentList=[],this.CostCenterList=[],this.SearchDataList=[],this.searchFlag=!1,this.binding="",this.ReceivedTotalQTY=0,this.ReceivedTotalAMT=0,this.OpeningTotalQTY=0,this.OpeningTotalAMT=0,this.IssueTotalQTY=0,this.IssueTotalAMT=0,this.ClosingTotalQTY=0,this.ClosingTotalAMT=0,this.total=0,this.stockSummaryForm=this.formBuilder.group({Department:[""],Location_Name:[""],Search:[""]}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.searchTermChanged.pipe((0,_.b)(600),(0,q.x)()).subscribe(e=>{this.getSearchProductStockLedger(e)}),this.dataservice.setTitle("Track CAPEX Stock"),this.getAllDepartmentList(),this.getLocationList(),this.getCAPEXStockList()}getSearchProductStockLedger(e){const t={search:e};this.searchFlag=!0,this._ReportPagesService.searchTrackCAPEXAPI(t).subscribe(e=>{e.error||(this.SearchDataList=e.data),this.searchFlag=!1})}addRow(){this.getCAPEXStockList()}onSerachTermChanged(e){console.log("serach change",e),this.binding=e.Name,this.getCAPEXStockList()}getCAPEXStockList(){this._ReportPagesService.getAllTrackCAPEXReport({Department:this.stockSummaryForm.value.Department,Location_Name:this.stockSummaryForm.value.Location_Name,search:this.binding,pageNumber:this.currentPage,numberOfRows:this.perPage}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.CAPEXStockResponse=e},e=>{this._mastersService.showalert(e.error.message,"error")})}onDetails(e){this.router.navigate(["/home/it-admin/track-asset/"+e.Barcode])}TrackCAPEXStockExportToExcel(){this._excelService.downloadTrackCAPEX({Department:this.stockSummaryForm.value.Department,Location_Name:this.stockSummaryForm.value.Location_Name,search:this.binding}).subscribe(e=>(0,je.saveAs)(e,"track-Capex-report.xlsx"))}getallCategoryList(){this._ReportPagesService.getallCategorry({}).subscribe(e=>{e.error||(this.categoryList=e.data)})}getLocationList(){this._ReportPagesService.getallLocation({}).subscribe(e=>{e.error||(this.LocationList=e.data)})}getAllDepartmentList(){this._ReportPagesService.getAllMasterDepartments({}).subscribe(e=>{e.error||(this.DepartmentList=e.data)})}pager(e){this.currentPage=e,this.getCAPEXStockList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getCAPEXStockList()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(l.D),u.Y36(v.R),u.Y36(Ta),u.Y36(Ge.x),u.Y36(Z.qu),u.Y36(xr),u.Y36(s.F0))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-Track-CAPEX-Stock"]],decls:64,vars:7,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"row","row-cols-7","mb-2"],[1,"col-lg-3","col-12","mb-2"],["for",""],[1,"text-dark","fw-bold"],["appendTo","body","bindLabel","Name","bindValue","Name","placeholder","Search...",1,"ngselect",3,"loading","items","clear","change","search"],[1,"col"],["formControlName","Location_Name",1,"form-select",3,"change"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","Department",1,"form-select",3,"change"],[1,"col","mt-4","text-end"],[1,"text-muted"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","14px",3,"click"],[1,"row","h-100"],[1,"col-12","d-lg-grid"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","fixed-table"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],[3,"value"],[1,"bg-white"],[4,"ngFor","ngForOf"],[2,"min-width","130px"],[1,"btn","btn-dark","btn-m","btn-sm",2,"font-size","14px",3,"click"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"form",1),u.TgZ(2,"div"),u.TgZ(3,"div",2),u.TgZ(4,"div",3),u.TgZ(5,"label",4),u.TgZ(6,"small",5),u._uU(7,"Search"),u.qZA(),u.qZA(),u.TgZ(8,"ng-select",6),u.NdJ("clear",function(){return t.binding="",t.getCAPEXStockList()})("change",function(e){return t.onSerachTermChanged(e)})("search",function(e){return t.searchTermChanged.next(e.term)}),u.qZA(),u.qZA(),u.TgZ(9,"div",7),u.TgZ(10,"label",4),u.TgZ(11,"small",5),u._uU(12,"Location"),u.qZA(),u.qZA(),u.TgZ(13,"select",8),u.NdJ("change",function(){return t.getCAPEXStockList()}),u.TgZ(14,"option",9),u._uU(15,"Select"),u.qZA(),u.YNc(16,Ki,2,2,"option",10),u.qZA(),u.qZA(),u.TgZ(17,"div",7),u.TgZ(18,"label",4),u.TgZ(19,"small",5),u._uU(20,"Department"),u.qZA(),u.qZA(),u.TgZ(21,"select",11),u.NdJ("change",function(){return t.getCAPEXStockList()}),u.TgZ(22,"option",9),u._uU(23,"Select"),u.qZA(),u.YNc(24,eo,2,2,"option",10),u.qZA(),u.qZA(),u.TgZ(25,"div",12),u.TgZ(26,"label",4),u._UZ(27,"small",13),u.qZA(),u.TgZ(28,"button",14),u.NdJ("click",function(){return t.TrackCAPEXStockExportToExcel()}),u._uU(29," Export To Excel "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(30,"div",15),u.TgZ(31,"div",16),u.TgZ(32,"div",17),u.TgZ(33,"table",18),u.TgZ(34,"thead",19),u.TgZ(35,"tr"),u.TgZ(36,"th",20),u._uU(37,"Sr.No"),u.qZA(),u.TgZ(38,"th",20),u._uU(39,"Name"),u.qZA(),u.TgZ(40,"th",21),u._uU(41,"Barcode"),u.qZA(),u.TgZ(42,"th",21),u._uU(43,"Manufacturer"),u.qZA(),u.TgZ(44,"th",21),u._uU(45,"Serial number"),u.qZA(),u.TgZ(46,"th",21),u._uU(47,"Model"),u.qZA(),u.TgZ(48,"th",22),u._uU(49,"AMC Expiry"),u.qZA(),u.TgZ(50,"th",23),u._uU(51,"AMC Vendor"),u.qZA(),u.TgZ(52,"th",22),u._uU(53,"Product Expiry"),u.qZA(),u.TgZ(54,"th",23),u._uU(55,"Status"),u.qZA(),u.TgZ(56,"th",23),u._uU(57,"Location"),u.qZA(),u.TgZ(58,"th",23),u._uU(59,"Department(Cost Center)"),u.qZA(),u.TgZ(60,"th",23),u._uU(61,"Action"),u.qZA(),u.qZA(),u.qZA(),u.YNc(62,ro,2,1,"tbody",24),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.YNc(63,so,1,4,"app-pagination",25),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(1),u.Q6J("formGroup",t.stockSummaryForm),u.xp6(7),u.Q6J("loading",t.searchFlag)("items",t.SearchDataList),u.xp6(8),u.Q6J("ngForOf",t.LocationList),u.xp6(8),u.Q6J("ngForOf",t.DepartmentList),u.xp6(38),u.Q6J("ngIf",null==t.CAPEXStockResponse?null:t.CAPEXStockResponse.data),u.xp6(1),u.Q6J("ngIf",null==t.CAPEXStockResponse?null:t.CAPEXStockResponse.data))},directives:[Z._Y,Z.JL,Z.sg,et.w9,Z.EJ,Z.JJ,Z.u,Z.YN,Z.Kr,U.sg,U.O5,Ke.Q],pipes:[U.uU],styles:[".btn-dark[_ngcontent-%COMP%]{color:#fff;background-color:#1c1f23;border-color:#1a1e21}.btn-m[_ngcontent-%COMP%]{margin:5px}"]}),e})()},{path:"material-reciept-report",component:Ua},{path:"stock-summary-report",component:Ia},{path:"issue-tracker-report",component:Fi},{path:"consumption-report",component:ti},{path:"item-wise-report",component:li},{path:"challan-summary-report",component:Ti},{path:"ytd-mtd-report",component:yi}];let io=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[s.Bz.forChild(ao)],s.Bz]}),e})();var oo=r(9189);let no=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[U.ez,io,oo.m,Z.u5,Z.UX]]}),e})()}}]);