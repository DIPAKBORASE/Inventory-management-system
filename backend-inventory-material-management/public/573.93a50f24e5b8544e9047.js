(self.webpackChunkinventory_and_material_management=self.webpackChunkinventory_and_material_management||[]).push([[573],{2573:(e,t,r)=>{"use strict";r.r(t),r.d(t,{SuperAdminModule:()=>pr});var s=r(8583),i=r(4330),o=r(665),a=r(9976),n=r(7709),c=r(4395),l=r(7519),d=r(4085),u=r(9457),g=r(7716),m=r(2468),h=r(1993),p=r(3647),Z=r(9866),f=r(4249),A=r(3556);function T(e,t){1&e&&(g.TgZ(0,"div",37),g._uU(1,"Name is required"),g.qZA())}function q(e,t){1&e&&(g.TgZ(0,"div",37),g._uU(1,"Name should not more than 50 character"),g.qZA())}function _(e,t){1&e&&(g.TgZ(0,"div",37),g._uU(1,"Name should not be less than 2 characters"),g.qZA())}function v(e,t){if(1&e&&(g.TgZ(0,"div",35),g.YNc(1,T,2,0,"div",36),g.YNc(2,q,2,0,"div",36),g.YNc(3,_,2,0,"div",36),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.required),g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.maxlength),g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.minlength)}}function b(e,t){1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td",41),g.TgZ(2,"b",42),g._uU(3,"No records\nfound"),g.qZA(),g.qZA(),g.qZA())}function x(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td",43),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td",44),g.TgZ(6,"a",45),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).getCostCenter(t.ID)}),g._UZ(7,"img",46),g.qZA(),g._uU(8,"\xa0 "),g.TgZ(9,"a",47),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).confirmModal(t.ID)}),g._UZ(10,"img",48),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=t.$implicit,r=t.index;g.xp6(2),g.Oqu(r+1),g.xp6(2),g.Oqu(e.Name)}}function U(e,t){if(1&e&&(g.TgZ(0,"tbody",38),g.YNc(1,b,4,0,"tr",39),g.YNc(2,x,11,2,"tr",40),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",0===(null==e.costcenterList?null:e.costcenterList.data.length)),g.xp6(1),g.Q6J("ngForOf",null==e.costcenterList?null:e.costcenterList.data)}}function w(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"app-pagination",49),g.NdJ("loadPage",function(t){return g.CHM(e),g.oxw().pager(t)})("changePerPage",function(t){return g.CHM(e),g.oxw().changePerPage(t)}),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.costcenterList.total)("lastPage",e.costcenterList.totalPages)}}let P=(()=>{class e{constructor(e,t,r,s,i,c){this.dataservice=e,this.formBuilder=t,this._mastersService=r,this.modalService=s,this.spinner=i,this._excelService=c,this.eventsCounter=new n.xQ,this.ngUnsubscribe=new n.xQ,this.isExpand=!1,this.submitted=!1,this.loading=!1,this.isWebRequest=!1,this.editFromValue=!1,this.showPasswordFlag=!1,this.faEye=a.Mdf,this.faEyeSlash=a.Aq,this.costcenterList=[],this.search="",this.searchTermChanged=new n.xQ,this.costCenterForm=this.formBuilder.group({Name:["",[o.kI.required,o.kI.minLength(2),o.kI.maxLength(50)]]}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.dataservice.setTitle("Cost Center"),this.getAllCostCenter()}searchTasks(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,c.b)(600),(0,l.x)()).subscribe(e=>{this.currentPage=1,this.getAllCostCenter()}),this.searchTermChanged.next(e)}getAllCostCenter(){this._mastersService.allMasterscostCenter({pageNumber:this.currentPage,numberOfRows:this.perPage,search:this.search}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.costcenterList=e},e=>{this._mastersService.showalert(e.error.message,"error")})}toggle(){this.isExpand=!this.isExpand}get f(){return this.costCenterForm.controls}getCostCenter(e){this.editFromValue=!0,this.id=e,this._mastersService.getSingleCostCenterMasterAPI({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.singleCostCenter=e.data,this.costCenterForm.patchValue(e.data))},e=>{this._mastersService.showalert(e.error.message,"error")})}keyPress(e){let t=String.fromCharCode(e.charCode);8==e.keyCode||/[0-9\+\-\ ]/.test(t)||e.preventDefault()}onSubmit(){if(this.isWebRequest=!0,0==this.editFromValue){let e={Name:this.costCenterForm.value.Name};this.spinner.show(),this._mastersService.addCostCenterMasterAPI(e).subscribe(e=>{this.isWebRequest=!1,this.spinner.hide(),e.success?(this._mastersService.showalert(e.message,"success"),this.costCenterForm.reset(),this.getAllCostCenter()):(this.isWebRequest=!1,this._mastersService.showalert(e.message,"error"))},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}else if(1==this.editFromValue){this.isWebRequest=!0;let e=Object.assign({id:this.id},this.costCenterForm.value);this.spinner.show(),this._mastersService.EditCostCenterMasterAPI(e).subscribe(e=>{this.isWebRequest=!1,this.spinner.hide(),e.success?(this._mastersService.showalert(e.message,"success"),this.costCenterForm.reset(),this.getAllCostCenter(),this.editFromValue=!1):(this.isWebRequest=!1,this._mastersService.showalert(e.message,"error"))},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}}confirmModal(e){this.bsModalRef1=this.modalService.show(d.z,{animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-sm"}),this.bsModalRef1.content.event.subscribe(t=>{"delete"===t.data&&this.deleteCostCenter(e)})}deleteCostCenter(e){this._mastersService.deleteCostCenterService({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this._mastersService.showalert(e.message,"success"),this.getAllCostCenter())})}pager(e){this.currentPage=e,this.getAllCostCenter()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getAllCostCenter()}CostCenterExportToExcel(){this._excelService.downloadCostCenterExportExcel({search:this.search}).subscribe(e=>(0,u.saveAs)(e,"cost-center.xlsx"))}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(m.D),g.Y36(o.qu),g.Y36(h.R),g.Y36(p.tT),g.Y36(Z.t2),g.Y36(f.x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-cost-center"]],decls:48,vars:6,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-body"],[1,"row","h-100","w-100","mb-2"],[1,"col-lg-4","col-12"],["for",""],[1,"text-dark","fw-bold"],[1,"text-danger","fw-bold"],["type","text","formControlName","Name","placeholder","Enter name",1,"form-control","input-group-sm"],["class","text-danger",4,"ngIf"],[1,"pull-left","mt-3"],[1,"btn","btn-dark","btn-sm",2,"width","180px","font-size","14px",3,"disabled","click"],[1,"col-auto"],[1,"text-start","mb-2"],[1,"fw-bold"],[1,"row","h-100"],[1,"col-lg-6","col-12","mb-2"],[1,"input-group","input-group-sm"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col","lg-4","text-end"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"],[1,""],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-pulse"],[1,"text-danger"],["class","small",4,"ngIf"],[1,"small"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","9",1,"text-center"],[1,"text-muted",2,"font-size","large"],[2,"width","100px"],[2,"width","154px"],["tooltip","Edit",1,"cursor-pointer","mr-2",2,"width","60px","font-size","12px","cursor","pointer!important",3,"click"],["src","../../../../../assets/icons/edit-1.png","width","20","height","20"],["tooltip","delete",1,"cursor-pointer",2,"width","60px","font-size","12px","cursor","pointer!important",3,"click"],["src","../../../../../assets/icons/delete-1.png","width","20","height","20"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div"),g.TgZ(2,"form",1),g.TgZ(3,"div",2),g.TgZ(4,"div",3),g.TgZ(5,"div",4),g.TgZ(6,"div",5),g.TgZ(7,"div",6),g.TgZ(8,"div",7),g.TgZ(9,"label",8),g.TgZ(10,"small",9),g._uU(11,"Cost Center"),g.qZA(),g.TgZ(12,"span",10),g._uU(13,"*"),g.qZA(),g.qZA(),g._UZ(14,"input",11),g.YNc(15,v,4,3,"div",12),g.qZA(),g.qZA(),g.TgZ(16,"div",13),g.TgZ(17,"button",14),g.NdJ("click",function(){return t.onSubmit()}),g._uU(18,"Submit"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(19,"div",2),g.TgZ(20,"div",15),g.TgZ(21,"div",16),g.TgZ(22,"h5",17),g._uU(23,"Cost Center List"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(24,"div",18),g.TgZ(25,"div",19),g.TgZ(26,"div",20),g.TgZ(27,"span",21),g._UZ(28,"img",22),g.qZA(),g.TgZ(29,"input",23),g.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchTasks(e)}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(30,"div",24),g.TgZ(31,"label",8),g._UZ(32,"small",9),g.qZA(),g.TgZ(33,"button",25),g.NdJ("click",function(){return t.CostCenterExportToExcel()}),g._uU(34,"Export To Excel"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(35,"div",26),g.TgZ(36,"table",27),g.TgZ(37,"thead",28),g.TgZ(38,"tr"),g.TgZ(39,"th",29),g._uU(40," Sr.No"),g.qZA(),g.TgZ(41,"th",30),g._uU(42,"Cost Center"),g.qZA(),g.TgZ(43,"th",31),g._uU(44,"Action"),g.qZA(),g.qZA(),g.qZA(),g.YNc(45,U,3,2,"tbody",32),g.qZA(),g.qZA(),g.YNc(46,w,1,4,"app-pagination",33),g.qZA(),g._UZ(47,"ngx-spinner",34)),2&e&&(g.xp6(2),g.Q6J("formGroup",t.costCenterForm),g.xp6(13),g.Q6J("ngIf",t.f.Name.touched&&t.f.Name.errors),g.xp6(2),g.Q6J("disabled",t.costCenterForm.invalid||t.isWebRequest),g.xp6(12),g.Q6J("ngModel",t.search),g.xp6(16),g.Q6J("ngIf",null==t.costcenterList?null:t.costcenterList.data),g.xp6(1),g.Q6J("ngIf",null==t.costcenterList?null:t.costcenterList.data))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,s.O5,o.On,Z.Ro,s.sg,A.Q],styles:["[_ngcontent-%COMP%]::placeholder{font-size:14px}"]}),e})();var N=r(1633);function C(e,t){1&e&&(g.TgZ(0,"div",38),g._uU(1,"Name is required"),g.qZA())}function S(e,t){1&e&&(g.TgZ(0,"div",38),g._uU(1,"Name should not more than 50 character"),g.qZA())}function I(e,t){1&e&&(g.TgZ(0,"div",38),g._uU(1,"Name should not be less than 2 characters"),g.qZA())}function y(e,t){if(1&e&&(g.TgZ(0,"div",36),g.YNc(1,C,2,0,"div",37),g.YNc(2,S,2,0,"div",37),g.YNc(3,I,2,0,"div",37),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.required),g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.maxlength),g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.minlength)}}function k(e,t){1&e&&(g.TgZ(0,"div",38),g._uU(1,"Cost Center Name is required"),g.qZA())}function L(e,t){1&e&&(g.TgZ(0,"div",38),g._uU(1,"Cost Center Name should not more than 50 character"),g.qZA())}function F(e,t){1&e&&(g.TgZ(0,"div",38),g._uU(1,"Cost Center Name should not be less than 2 characters"),g.qZA())}function M(e,t){if(1&e&&(g.TgZ(0,"div",36),g.YNc(1,k,2,0,"div",37),g.YNc(2,L,2,0,"div",37),g.YNc(3,F,2,0,"div",37),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Cost_Center_Name.errors.required),g.xp6(1),g.Q6J("ngIf",e.f.Cost_Center_Name.errors.maxlength),g.xp6(1),g.Q6J("ngIf",e.f.Cost_Center_Name.errors.minlength)}}function J(e,t){1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td",42),g.TgZ(2,"b",43),g._uU(3,"No records found"),g.qZA(),g.qZA(),g.qZA())}function E(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td",44),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td",45),g.TgZ(8,"a",46),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).getDepartment(t.ID)}),g._UZ(9,"img",47),g.qZA(),g._uU(10,"\xa0 "),g.TgZ(11,"a",48),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).confirmModal(t.ID)}),g._UZ(12,"img",49),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=t.$implicit,r=t.index;g.xp6(2),g.Oqu(r+1),g.xp6(2),g.Oqu(e.Name),g.xp6(2),g.Oqu(e.Cost_Center_Name)}}function O(e,t){if(1&e&&(g.TgZ(0,"tbody",39),g.YNc(1,J,4,0,"tr",40),g.YNc(2,E,13,3,"tr",41),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",0===(null==e.departmentList?null:e.departmentList.data.length)),g.xp6(1),g.Q6J("ngForOf",null==e.departmentList?null:e.departmentList.data)}}function Q(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"app-pagination",50),g.NdJ("loadPage",function(t){return g.CHM(e),g.oxw().pager(t)})("changePerPage",function(t){return g.CHM(e),g.oxw().changePerPage(t)}),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.departmentList.total)("lastPage",e.departmentList.totalPages)}}let Y=(()=>{class e{constructor(e,t,r,s,i,c,l){this.dataservice=e,this.formBuilder=t,this._mastersService=r,this.modalService=s,this.storageService=i,this.spinner=c,this._excelService=l,this.eventsCounter=new n.xQ,this.ngUnsubscribe=new n.xQ,this.isExpand=!1,this.submitted=!1,this.loading=!1,this.isWebRequest=!1,this.editFromValue=!1,this.showPasswordFlag=!1,this.faEye=a.Mdf,this.faEyeSlash=a.Aq,this.departmentList=[],this.search="",this.searchTermChanged=new n.xQ,this.departmentForm=this.formBuilder.group({Name:["",[o.kI.required,o.kI.minLength(2),o.kI.maxLength(50)]],Cost_Center_Name:["",[o.kI.required,o.kI.minLength(2),o.kI.maxLength(50)]]}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.dataservice.setTitle("Department"),this.getAllDepartmentList()}searchTasks(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,c.b)(600),(0,l.x)()).subscribe(e=>{this.currentPage=1,this.getAllDepartmentList()}),this.searchTermChanged.next(e)}getAllDepartmentList(){this._mastersService.allMastersDepartment({pageNumber:this.currentPage,numberOfRows:this.perPage,search:this.search}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.departmentList=e},e=>{this._mastersService.showalert(e.error.message,"error")})}toggle(){this.isExpand=!this.isExpand}get f(){return this.departmentForm.controls}getDepartment(e){this.editFromValue=!0,this.id=e,this._mastersService.getSingleDepartmentMasterAPI({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.singleUnit=e.data,this.departmentForm.patchValue(e.data))},e=>{this._mastersService.showalert(e.error.message,"error")})}keyPress(e){let t=String.fromCharCode(e.charCode);8==e.keyCode||/[0-9\+\-\ ]/.test(t)||e.preventDefault()}onSubmit(){if(this.isWebRequest=!0,0==this.editFromValue){let e={Name:this.departmentForm.value.Name,Cost_Center_Name:this.departmentForm.value.Cost_Center_Name};this.spinner.show(),this._mastersService.addDepartmentMasterAPI(e).subscribe(e=>{this.isWebRequest=!1,this.spinner.hide(),e.success?(this._mastersService.showalert(e.message,"success"),this.departmentForm.reset(),this.getAllDepartmentList()):(this.isWebRequest=!1,this._mastersService.showalert(e.message,"error"))},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}else if(1==this.editFromValue){this.isWebRequest=!0;let e=Object.assign({id:this.id},this.departmentForm.value);this.spinner.show(),this._mastersService.EditDepartmentMasterAPI(e).subscribe(e=>{this.isWebRequest=!1,this.spinner.hide(),e.success?(this._mastersService.showalert(e.message,"success"),this.departmentForm.reset(),this.getAllDepartmentList(),this.editFromValue=!1):(this.isWebRequest=!1,this._mastersService.showalert(e.message,"error"))},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}}confirmModal(e){this.bsModalRef1=this.modalService.show(d.z,{animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-sm"}),this.bsModalRef1.content.event.subscribe(t=>{"delete"===t.data&&this.deleteDepartment(e)})}deleteDepartment(e){this._mastersService.deleteDepartmentService({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this._mastersService.showalert(e.message,"success"),this.getAllDepartmentList())})}pager(e){this.currentPage=e,this.getAllDepartmentList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getAllDepartmentList()}DepartmentMasterExportToExcel(){this._excelService.downloadDepartmentExport({search:this.search}).subscribe(e=>(0,u.saveAs)(e,"departments-and-cost-centers-master.xlsx"))}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(m.D),g.Y36(o.qu),g.Y36(h.R),g.Y36(p.tT),g.Y36(N.V),g.Y36(Z.t2),g.Y36(f.x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-department"]],decls:58,vars:7,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-body"],[1,"row","h-100","w-100","mb-2"],[1,"col-lg-4","col-12"],["for",""],[1,"text-dark","fw-bold"],[1,"text-danger","fw-bold"],["type","text","formControlName","Name","placeholder","Enter Department",1,"form-control","input-group-sm"],["class","text-danger",4,"ngIf"],["type","text","formControlName","Cost_Center_Name","placeholder","Enter Cost Center",1,"form-control","input-group-sm"],[1,"pull-left","mt-3"],[1,"btn","btn-dark","btn-sm",2,"width","180px","font-size","14px",3,"disabled","click"],[1,"col-auto"],[1,"text-start","mb-2"],[1,"fw-bold"],[1,"row","h-100"],[1,"col-lg-6","col-12","mb-2"],[1,"input-group","input-group-sm"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col","lg-4","text-end"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"],[1,""],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-pulse"],[1,"text-danger"],["class","small",4,"ngIf"],[1,"small"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","9",1,"text-center"],[1,"text-muted",2,"font-size","large"],[2,"width","100px"],[2,"width","154px"],["tooltip","Edit",1,"cursor-pointer","mr-2",2,"width","60px","font-size","12px","cursor","pointer!important",3,"click"],["src","../../../../../assets/icons/edit-1.png","width","20","height","20"],["tooltip","delete",1,"cursor-pointer",2,"width","60px","font-size","12px","cursor","pointer!important",3,"click"],["src","../../../../../assets/icons/delete-1.png","width","20","height","20"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div"),g.TgZ(2,"form",1),g.TgZ(3,"div",2),g.TgZ(4,"div",3),g.TgZ(5,"div",4),g.TgZ(6,"div",5),g.TgZ(7,"div",6),g.TgZ(8,"div",7),g.TgZ(9,"label",8),g.TgZ(10,"small",9),g._uU(11,"Department"),g.qZA(),g.TgZ(12,"span",10),g._uU(13,"*"),g.qZA(),g.qZA(),g._UZ(14,"input",11),g.YNc(15,y,4,3,"div",12),g.qZA(),g.TgZ(16,"div",7),g.TgZ(17,"label",8),g.TgZ(18,"small",9),g._uU(19,"Cost Center"),g.qZA(),g.TgZ(20,"span",10),g._uU(21,"*"),g.qZA(),g.qZA(),g._UZ(22,"input",13),g.YNc(23,M,4,3,"div",12),g.qZA(),g.qZA(),g.TgZ(24,"div",14),g.TgZ(25,"button",15),g.NdJ("click",function(){return t.onSubmit()}),g._uU(26,"Submit"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(27,"div",2),g.TgZ(28,"div",16),g.TgZ(29,"div",17),g.TgZ(30,"h5",18),g._uU(31,"Department List"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(32,"div",19),g.TgZ(33,"div",20),g.TgZ(34,"div",21),g.TgZ(35,"span",22),g._UZ(36,"img",23),g.qZA(),g.TgZ(37,"input",24),g.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchTasks(e)}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(38,"div",25),g.TgZ(39,"label",8),g._UZ(40,"small",9),g.qZA(),g.TgZ(41,"button",26),g.NdJ("click",function(){return t.DepartmentMasterExportToExcel()}),g._uU(42,"Export To Excel"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(43,"div",27),g.TgZ(44,"table",28),g.TgZ(45,"thead",29),g.TgZ(46,"tr"),g.TgZ(47,"th",30),g._uU(48," Sr.No"),g.qZA(),g.TgZ(49,"th",31),g._uU(50,"Department"),g.qZA(),g.TgZ(51,"th",31),g._uU(52,"Cost Center"),g.qZA(),g.TgZ(53,"th",32),g._uU(54,"Action"),g.qZA(),g.qZA(),g.qZA(),g.YNc(55,O,3,2,"tbody",33),g.qZA(),g.qZA(),g.YNc(56,Q,1,4,"app-pagination",34),g.qZA(),g._UZ(57,"ngx-spinner",35)),2&e&&(g.xp6(2),g.Q6J("formGroup",t.departmentForm),g.xp6(13),g.Q6J("ngIf",t.f.Name.touched&&t.f.Name.errors),g.xp6(8),g.Q6J("ngIf",t.f.Cost_Center_Name.touched&&t.f.Cost_Center_Name.errors),g.xp6(2),g.Q6J("disabled",t.departmentForm.invalid||t.isWebRequest),g.xp6(12),g.Q6J("ngModel",t.search),g.xp6(18),g.Q6J("ngIf",null==t.departmentList?null:t.departmentList.data),g.xp6(1),g.Q6J("ngIf",null==t.departmentList?null:t.departmentList.data))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,s.O5,o.On,Z.Ro,s.sg,A.Q],styles:["[_ngcontent-%COMP%]::placeholder{font-size:14px}"]}),e})();var D=r(2317);const R=["scrollMe"];function V(e,t){1&e&&(g.TgZ(0,"div",36),g._uU(1,"Name is required"),g.qZA())}function G(e,t){1&e&&(g.TgZ(0,"div",36),g._uU(1,"Name should not more than 50 character"),g.qZA())}function B(e,t){1&e&&(g.TgZ(0,"div",36),g._uU(1,"Name should not less than 2 character"),g.qZA())}function H(e,t){if(1&e&&(g.TgZ(0,"div",34),g.YNc(1,V,2,0,"div",35),g.YNc(2,G,2,0,"div",35),g.YNc(3,B,2,0,"div",35),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.required),g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.maxlength),g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.minlength)}}function W(e,t){1&e&&(g.TgZ(0,"div",36),g._uU(1,"Department is required"),g.qZA())}function z(e,t){if(1&e&&(g.TgZ(0,"div",34),g.YNc(1,W,2,0,"div",35),g.qZA()),2&e){const e=g.oxw(2);g.xp6(1),g.Q6J("ngIf",e.f.User_Type.errors.required)}}function $(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",16),g.TgZ(1,"label",8),g.TgZ(2,"small",9),g._uU(3,"Department"),g.qZA(),g.TgZ(4,"span",10),g._uU(5,"*"),g.qZA(),g.qZA(),g._UZ(6,"br"),g.TgZ(7,"div",37),g.TgZ(8,"input",38),g.NdJ("click",function(t){return g.CHM(e),g.oxw().onChangeDepartment(t)}),g.qZA(),g.TgZ(9,"label",39),g._uU(10,"IT"),g.qZA(),g.qZA(),g.TgZ(11,"div",37),g._UZ(12,"input",40),g.TgZ(13,"label",41),g.NdJ("click",function(t){return g.CHM(e),g.oxw().onChangeDepartment(t)}),g._uU(14,"Admin"),g.qZA(),g.qZA(),g.YNc(15,z,2,1,"div",12),g.qZA()}if(2&e){const e=g.oxw();g.xp6(15),g.Q6J("ngIf",e.f.User_Type.touched&&e.f.User_Type.errors)}}function K(e,t){1&e&&(g.TgZ(0,"th"),g._uU(1,"Department"),g.qZA())}function X(e,t){1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td",44),g.TgZ(2,"b",45),g._uU(3,"No records found"),g.qZA(),g.qZA(),g.qZA())}function j(e,t){if(1&e&&(g.TgZ(0,"td"),g._uU(1),g.qZA()),2&e){const e=g.oxw().$implicit;g.xp6(1),g.Oqu(e.User_Type)}}function ee(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td",46),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.YNc(5,j,2,1,"td",30),g.TgZ(6,"td",47),g.TgZ(7,"a",48),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).getIssueType(t.ID)}),g._UZ(8,"img",49),g.qZA(),g._uU(9,"\xa0 "),g.TgZ(10,"a",50),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).confirmModal(t.ID)}),g._UZ(11,"img",51),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=t.$implicit,r=t.index,s=g.oxw(2);g.xp6(2),g.Oqu(r+1),g.xp6(2),g.Oqu(e.Name),g.xp6(1),g.Q6J("ngIf","System Admin"==s.role)}}function te(e,t){if(1&e&&(g.TgZ(0,"tbody",42),g.YNc(1,X,4,0,"tr",30),g.YNc(2,ee,12,3,"tr",43),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",0===(null==e.IssueTypeList?null:e.IssueTypeList.data.length)),g.xp6(1),g.Q6J("ngForOf",null==e.IssueTypeList?null:e.IssueTypeList.data)}}function re(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"app-pagination",52),g.NdJ("loadPage",function(t){return g.CHM(e),g.oxw().pager(t)})("changePerPage",function(t){return g.CHM(e),g.oxw().changePerPage(t)}),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.IssueTypeList.total)("lastPage",e.IssueTypeList.totalPages)}}let se=(()=>{class e{constructor(e,t,r,s,i,c,l,d){this._authServive=e,this.formBuilder=t,this._mastersService=r,this.modalService=s,this.storageService=i,this.spinner=c,this.dataservice=l,this._excelService=d,this.eventsCounter=new n.xQ,this.ngUnsubscribe=new n.xQ,this.isExpand=!1,this.submitted=!1,this.loading=!1,this.isWebRequest=!1,this.editFromValue=!1,this.showPasswordFlag=!1,this.faEye=a.Mdf,this.faEyeSlash=a.Aq,this.IssueTypeList=[],this.search="",this.searchTermChanged=new n.xQ,this.role=this.storageService.secureStorage.getItem("role"),this.issueTypeForm=this.formBuilder.group({Name:["",[o.kI.required]],User_Type:[this._authServive.getDepartment(this.role),[o.kI.required]]}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.isWebRequest=!1,this.dataservice.setTitle("Issue Type"),this.getAllIsueTypeList(),this.scrollToBottom()}searchTasks(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,c.b)(600),(0,l.x)()).subscribe(e=>{this.currentPage=1,this.getAllIsueTypeList()}),this.searchTermChanged.next(e)}ngAfterViewChecked(){this.scrollToBottom()}scrollToBottom(){try{this.myScrollContainer.nativeElement.scrollTop=this.myScrollContainer.nativeElement.scrollHeight}catch(e){}}getAllIsueTypeList(){this._mastersService.allMastersIssueTypeAPI({pageNumber:this.currentPage,numberOfRows:this.perPage,search:this.search}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.IssueTypeList=e},e=>{this._mastersService.showalert(e.error.message,"error")})}toggle(){this.isExpand=!this.isExpand}get f(){return this.issueTypeForm.controls}getIssueType(e){this.editFromValue=!0,this.id=e,this._mastersService.getSingleIssueTypeMasterAPI({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.singleIssue=e.data,this.issueTypeForm.patchValue(e.data),this.toggle())},e=>{this._mastersService.showalert(e.error.message,"error")})}keyPress(e){let t=String.fromCharCode(e.charCode);8==e.keyCode||/[0-9\+\-\ ]/.test(t)||e.preventDefault()}onSubmit(){if(this.isWebRequest=!0,0==this.editFromValue){let e={Name:this.issueTypeForm.value.Name,User_Type:this.issueTypeForm.value.User_Type};this.spinner.show(),this._mastersService.addIssueTypeMasterAPI(e).subscribe(e=>{this.isWebRequest=!1,this.spinner.hide(),e.success?(this._mastersService.showalert(e.message,"success"),this.getAllIsueTypeList(),this.resetForm()):this._mastersService.showalert(e.message,"error")},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}else if(1==this.editFromValue){this.isWebRequest=!0;let e={id:this.id,Name:this.issueTypeForm.value.Name,User_Type:this.issueTypeForm.value.User_Type};this.spinner.show(),this._mastersService.EditIssueTypeMasterAPI(e).subscribe(e=>{this.isWebRequest=!1,this.spinner.hide(),e.success?(this._mastersService.showalert(e.message,"success"),this.resetForm(),this.editFromValue=!1,this.getAllIsueTypeList()):(this.isWebRequest=!1,this._mastersService.showalert(e.message,"error"))},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}}resetForm(){this.issueTypeForm.reset(),this.issueTypeForm.patchValue({User_Type:"",Name:""})}confirmModal(e){this.bsModalRef1=this.modalService.show(d.z,{animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-sm"}),this.bsModalRef1.content.event.subscribe(t=>{"delete"===t.data&&this.deleteIssueType(e)})}deleteIssueType(e){this._mastersService.deleteIssueTypeService({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this._mastersService.showalert(e.message,"success"),this.getAllIsueTypeList())})}pager(e){this.currentPage=e,this.getAllIsueTypeList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getAllIsueTypeList()}IssueTypeExportToExcel(){this._excelService.downloadIssueTypeExport({search:this.search}).subscribe(e=>(0,u.saveAs)(e,"issue-type.xlsx"))}onChangeDepartment(e){this.departmentType=e.target.value,this.getAllIsueTypeList()}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(D.$),g.Y36(o.qu),g.Y36(h.R),g.Y36(p.tT),g.Y36(N.V),g.Y36(Z.t2),g.Y36(m.D),g.Y36(f.x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-issue-type"]],viewQuery:function(e,t){if(1&e&&g.Gf(R,5),2&e){let e;g.iGM(e=g.CRH())&&(t.myScrollContainer=e.first)}},decls:51,vars:8,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-body"],[1,"row","h-100","w-100","mb-2"],[1,"col-lg-4","col-12"],["for",""],[1,"text-dark","fw-bold"],[1,"text-danger","fw-bold"],["type","text","formControlName","Name","placeholder","Enter name",1,"form-control","input-group-sm"],["class","text-danger",4,"ngIf"],["class","col-auto",4,"ngIf"],[1,"pull-left","mt-3"],[1,"btn","btn-dark","btn-sm",2,"width","180px","font-size","14px",3,"disabled","click"],[1,"col-auto"],[1,"text-start","mb-2"],[1,"fw-bold"],[1,"row","h-100"],[1,"col-lg-6","col-12","mb-2"],[1,"input-group","input-group-sm"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col","lg-4","text-end"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"],[1,""],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],[4,"ngIf"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-pulse"],[1,"text-danger"],["class","small",4,"ngIf"],[1,"small"],[1,"form-check","form-check-inline"],["type","radio","formControlName","User_Type","name","User_Type","id","inlineRadioIT","value","IT",1,"form-check-input",3,"click"],["for","inlineRadioIT",1,"form-check-label"],["formControlName","User_Type","type","radio","name","User_Type","id","inlineRadioAdmin","value","Admin",1,"form-check-input"],["for","inlineRadioAdmin",1,"form-check-label",3,"click"],[1,"bg-white"],[4,"ngFor","ngForOf"],["colspan","9",1,"text-center"],[1,"text-muted",2,"font-size","large"],[2,"width","100px"],[2,"width","154px"],["tooltip","Edit",1,"cursor-pointer","mr-2",2,"font-size","12px","cursor","pointer!important",3,"click"],["src","../../../../../assets/icons/edit-1.png","width","20","height","20"],["tooltip","delete",1,"cursor-pointer",2,"font-size","12px","cursor","pointer!important",3,"click"],["src","../../../../../assets/icons/delete-1.png","width","20","height","20"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div"),g.TgZ(2,"div"),g.TgZ(3,"form",1),g.TgZ(4,"div",2),g.TgZ(5,"div",3),g.TgZ(6,"div",4),g.TgZ(7,"div",5),g.TgZ(8,"div",6),g.TgZ(9,"div",7),g.TgZ(10,"label",8),g.TgZ(11,"small",9),g._uU(12,"Name"),g.qZA(),g.TgZ(13,"span",10),g._uU(14,"*"),g.qZA(),g.qZA(),g._UZ(15,"input",11),g.YNc(16,H,4,3,"div",12),g.qZA(),g.YNc(17,$,16,1,"div",13),g.qZA(),g.TgZ(18,"div",14),g.TgZ(19,"button",15),g.NdJ("click",function(){return t.onSubmit()}),g._uU(20,"Submit"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(21,"div",2),g.TgZ(22,"div",16),g.TgZ(23,"div",17),g.TgZ(24,"h5",18),g._uU(25,"Issue Type List"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(26,"div",19),g.TgZ(27,"div",20),g.TgZ(28,"div",21),g.TgZ(29,"span",22),g._UZ(30,"img",23),g.qZA(),g.TgZ(31,"input",24),g.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchTasks(e)}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(32,"div",25),g.TgZ(33,"label",8),g._UZ(34,"small",9),g.qZA(),g.TgZ(35,"button",26),g.NdJ("click",function(){return t.IssueTypeExportToExcel()}),g._uU(36,"Export To Excel"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(37,"div",27),g.TgZ(38,"table",28),g.TgZ(39,"thead",29),g.TgZ(40,"tr"),g.TgZ(41,"th"),g._uU(42," Sr.No"),g.qZA(),g.TgZ(43,"th"),g._uU(44,"Name"),g.qZA(),g.YNc(45,K,2,0,"th",30),g.TgZ(46,"th"),g._uU(47,"Action"),g.qZA(),g.qZA(),g.qZA(),g.YNc(48,te,3,2,"tbody",31),g.qZA(),g.qZA(),g.YNc(49,re,1,4,"app-pagination",32),g.qZA(),g._UZ(50,"ngx-spinner",33)),2&e&&(g.xp6(3),g.Q6J("formGroup",t.issueTypeForm),g.xp6(13),g.Q6J("ngIf",t.f.Name.touched&&t.f.Name.errors),g.xp6(1),g.Q6J("ngIf","System Admin"==t.role),g.xp6(2),g.Q6J("disabled",t.issueTypeForm.invalid||t.isWebRequest),g.xp6(12),g.Q6J("ngModel",t.search),g.xp6(14),g.Q6J("ngIf","System Admin"==t.role),g.xp6(3),g.Q6J("ngIf",null==t.IssueTypeList?null:t.IssueTypeList.data),g.xp6(1),g.Q6J("ngIf",null==t.IssueTypeList?null:t.IssueTypeList.data))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,s.O5,o.On,Z.Ro,o._,s.sg,A.Q],styles:["[_ngcontent-%COMP%]::placeholder{font-size:14px}"]}),e})();function ie(e,t){1&e&&(g.TgZ(0,"div",50),g._uU(1,"Office name is required"),g.qZA())}function oe(e,t){1&e&&(g.TgZ(0,"div",50),g._uU(1,"Name should not be less than 2 characters"),g.qZA())}function ae(e,t){1&e&&(g.TgZ(0,"div",50),g._uU(1,"Name should not be more than 50 characters"),g.qZA())}function ne(e,t){if(1&e&&(g.TgZ(0,"div",48),g.YNc(1,ie,2,0,"div",49),g.YNc(2,oe,2,0,"div",49),g.YNc(3,ae,2,0,"div",49),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.required),g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.minlength),g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.maxlength)}}function ce(e,t){1&e&&(g.TgZ(0,"div",50),g._uU(1,"Valid email Id is required"),g.qZA())}function le(e,t){if(1&e&&(g.TgZ(0,"div",48),g.YNc(1,ce,2,0,"div",49),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Email.errors.email)}}function de(e,t){1&e&&(g.TgZ(0,"div",50),g._uU(1,"Minimum 10 digit phone number is required"),g.qZA())}function ue(e,t){1&e&&(g.TgZ(0,"div",50),g._uU(1,"Maximum 20 digit phone number is required"),g.qZA())}function ge(e,t){if(1&e&&(g.TgZ(0,"div",48),g.YNc(1,de,2,0,"div",49),g.YNc(2,ue,2,0,"div",49),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Phone.errors.minlength),g.xp6(1),g.Q6J("ngIf",e.f.Phone.errors.maxlength)}}function me(e,t){1&e&&(g.TgZ(0,"div",50),g._uU(1,"State should not be less than 2 characters"),g.qZA())}function he(e,t){1&e&&(g.TgZ(0,"div",50),g._uU(1,"State should not be more than 20 characters"),g.qZA())}function pe(e,t){if(1&e&&(g.TgZ(0,"div",48),g.YNc(1,me,2,0,"div",49),g.YNc(2,he,2,0,"div",49),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.State.errors.minlength),g.xp6(1),g.Q6J("ngIf",e.f.State.errors.maxlength)}}function Ze(e,t){1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td",54),g.TgZ(2,"b",55),g._uU(3,"No records found"),g.qZA(),g.qZA(),g.qZA())}function fe(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"a",59),g.NdJ("click",function(){g.CHM(e);const t=g.oxw().$implicit;return g.oxw(2).getLocation(t.ID)}),g._UZ(1,"img",60),g.qZA()}}function Ae(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"a",61),g.NdJ("click",function(){g.CHM(e);const t=g.oxw().$implicit;return g.oxw(2).confirmModal(t.ID)}),g._UZ(1,"img",62),g.qZA()}}function Te(e,t){if(1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g._uU(8),g.qZA(),g.TgZ(9,"td"),g._uU(10),g.qZA(),g.TgZ(11,"td"),g._uU(12),g.qZA(),g.TgZ(13,"td",56),g._uU(14),g.qZA(),g.TgZ(15,"td"),g._uU(16),g.qZA(),g.TgZ(17,"td"),g._uU(18),g.qZA(),g.TgZ(19,"td"),g.YNc(20,fe,2,0,"a",57),g._uU(21,"\xa0 "),g.YNc(22,Ae,2,0,"a",58),g.qZA(),g.qZA()),2&e){const e=t.$implicit,r=t.index;g.xp6(2),g.Oqu(r+1),g.xp6(2),g.Oqu(e.ALT_Code),g.xp6(2),g.Oqu(e.Name),g.xp6(2),g.Oqu(e.Contact_Person),g.xp6(2),g.Oqu(e.Email),g.xp6(2),g.Oqu(e.Phone),g.xp6(2),g.Oqu(e.Address),g.xp6(2),g.Oqu(e.State),g.xp6(2),g.Oqu(e.City),g.xp6(2),g.Q6J("ngIf",1!=e.Is_Default),g.xp6(2),g.Q6J("ngIf",1!=e.Is_Default)}}function qe(e,t){if(1&e&&(g.TgZ(0,"tbody",51),g.YNc(1,Ze,4,0,"tr",52),g.YNc(2,Te,23,11,"tr",53),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",0===(null==e.LocationList.data?null:e.LocationList.data.length)),g.xp6(1),g.Q6J("ngForOf",null==e.LocationList?null:e.LocationList.data)}}function _e(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"app-pagination",63),g.NdJ("loadPage",function(t){return g.CHM(e),g.oxw().pager(t)})("changePerPage",function(t){return g.CHM(e),g.oxw().changePerPage(t)}),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.LocationList.total)("lastPage",e.LocationList.totalPages)}}let ve=(()=>{class e{constructor(e,t,r,s,i,a){this.formBuilder=e,this._mastersService=t,this.modalService=r,this.spinner=s,this.dataservice=i,this._excelService=a,this.eventsCounter=new n.xQ,this.ngUnsubscribe=new n.xQ,this.isExpand=!1,this.submitted=!1,this.isWebRequest=!1,this.editFromValue=!1,this.search="",this.searchTermChanged=new n.xQ,this.form=this.formBuilder.group({Name:["",[o.kI.required,o.kI.minLength(2),o.kI.maxLength(50)]],Contact_Person:[null],Email:[null,[o.kI.email]],Phone:[null,[o.kI.maxLength(20),o.kI.minLength(10)]],State:[null,[o.kI.minLength(2),o.kI.maxLength(20)]],City:[null],Address:[null],ALT_Code:[null]}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.dataservice.setTitle("Location"),this.getAllLocationList()}searchTasks(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,c.b)(600),(0,l.x)()).subscribe(e=>{this.currentPage=1,this.getAllLocationList()}),this.searchTermChanged.next(e)}get f(){return this.form.controls}getAllLocationList(){this._mastersService.allMastersLocationAPI({pageNumber:this.currentPage,numberOfRows:this.perPage,search:this.search}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.LocationList=e},e=>{this._mastersService.showalert(e.error.message,"error")})}getLocation(e){this.editFromValue=!0,this.id=e,this._mastersService.getLocationMasterAPI({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.singleLocation=e.data,this.form.patchValue(e.data))},e=>{this._mastersService.showalert(e.error.message,"error")})}onSubmit(){if(this.isWebRequest=!0,0==this.editFromValue){let e={ALT_Code:this.form.value.ALT_Code,Name:this.form.value.Name,Contact_Person:this.form.value.Contact_Person,Email:this.form.value.Email,Phone:this.form.value.Phone,State:this.form.value.State,City:this.form.value.City,Address:this.form.value.Address};this.spinner.show(),this._mastersService.addLocationAPI(e).subscribe(e=>{this.isWebRequest=!1,this.spinner.hide(),e.success?(this._mastersService.showalert(e.message,"success"),this.getAllLocationList(),this.form.reset()):(this.isWebRequest=!1,this._mastersService.showalert(e.message,"error"))},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}else if(1==this.editFromValue){this.isWebRequest=!0;let e=Object.assign({id:this.id},this.form.value);this.spinner.show(),this._mastersService.EditLocationMasterAPI(e).subscribe(e=>{this.isWebRequest=!1,this.spinner.hide(),e.error?(this.isWebRequest=!1,this._mastersService.showalert(e.message,"error")):(this._mastersService.showalert(e.message,"success"),this.form.reset(),this.editFromValue=!1,this.getAllLocationList())},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}}confirmModal(e){this.bsModalRef1=this.modalService.show(d.z,{animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-sm"}),this.bsModalRef1.content.event.subscribe(t=>{"delete"===t.data&&this.deleteProductitem(e)})}deleteProductitem(e){this._mastersService.deleteLocationService({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this._mastersService.showalert(e.message,"success"),this.getAllLocationList())})}keyPress(e){let t=String.fromCharCode(e.charCode);8==e.keyCode||/[0-9\+\-\ ]/.test(t)||e.preventDefault()}pager(e){this.currentPage=e,this.getAllLocationList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getAllLocationList()}LocationMasterExportToExcel(){this._excelService.downloadLocationExport({search:this.search}).subscribe(e=>(0,u.saveAs)(e,"location-master.xlsx"))}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(o.qu),g.Y36(h.R),g.Y36(p.tT),g.Y36(Z.t2),g.Y36(m.D),g.Y36(f.x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-location"]],decls:105,vars:9,consts:[[1,"container-fluid","mb-2","main-container"],[1,"row","mb-2"],[3,"formGroup"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-body"],[1,"row","h-100","w-100","mb-2"],[1,"col-lg-3","col-12"],["for",""],[1,"text-dark","fw-bold"],["type","text","formControlName","ALT_Code","placeholder","Enter code",1,"form-control","input-group-sm"],[1,"text-danger","fw-bold"],["type","text","formControlName","Name","placeholder","Enter office name",1,"form-control","input-group-sm"],["class","text-danger",4,"ngIf"],["type","text","formControlName","Contact_Person","placeholder","Enter contact person",1,"form-control","input-group-sm"],["type","email","formControlName","Email","placeholder","Enter valid email Id",1,"form-control","input-group-sm"],[1,"row","h-100","mb-2"],[1,"col-lg-4","col-12"],["type","text","formControlName","Phone","placeholder","Enter phone number",1,"form-control","input-group-sm",3,"keypress"],["type","text","formControlName","State","placeholder","Enter State",1,"form-control","input-group-sm"],["type","text","formControlName","City","placeholder","Enter City",1,"form-control","input-group-sm"],[1,"col-lg-6","col-12"],["id","exampleFormControlTextarea1","formControlName","Address","rows","3","placeholder","Enter Address",1,"form-control"],[1,"row","mt-3"],[1,"float-left"],[1,"text-start"],[1,"btn","btn-dark","btn-sm",2,"width","180px","font-size","14px",3,"disabled","click"],[1,"col-auto"],[1,"text-start","mb-2"],[1,"fw-bold"],[1,"row","h-100"],[1,"col-lg-6","col-12","mb-2"],[1,"input-group","input-group-sm"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col","lg-4","text-end"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"],[1,""],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-pulse"],[1,"text-danger"],["class","small",4,"ngIf"],[1,"small"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","9",1,"text-center"],[1,"text-muted",2,"font-size","large"],[2,"width","202px"],["class","cursor-pointer mr-2","tooltip","Edit","style","width: 60px;font-size: 12px;cursor: pointer!important;",3,"click",4,"ngIf"],["class","cursor-pointer","tooltip","delete","style","width: 60px;font-size: 12px;cursor: pointer!important;",3,"click",4,"ngIf"],["tooltip","Edit",1,"cursor-pointer","mr-2",2,"width","60px","font-size","12px","cursor","pointer!important",3,"click"],["src","../../../../../assets/icons/edit-1.png","width","20","height","20"],["tooltip","delete",1,"cursor-pointer",2,"width","60px","font-size","12px","cursor","pointer!important",3,"click"],["src","../../../../../assets/icons/delete-1.png","width","20","height","20"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g._UZ(1,"div",1),g.TgZ(2,"div"),g.TgZ(3,"form",2),g.TgZ(4,"div",1),g.TgZ(5,"div",3),g.TgZ(6,"div",4),g.TgZ(7,"div",5),g.TgZ(8,"div",6),g.TgZ(9,"div",7),g.TgZ(10,"label",8),g.TgZ(11,"small",9),g._uU(12,"ALT Code"),g.qZA(),g.qZA(),g._UZ(13,"input",10),g.qZA(),g.TgZ(14,"div",7),g.TgZ(15,"label",8),g.TgZ(16,"small",9),g._uU(17,"Office Name"),g.qZA(),g.TgZ(18,"span",11),g._uU(19,"*"),g.qZA(),g.qZA(),g._UZ(20,"input",12),g.YNc(21,ne,4,3,"div",13),g.qZA(),g.TgZ(22,"div",7),g.TgZ(23,"label",8),g.TgZ(24,"small",9),g._uU(25,"Contact Person"),g.qZA(),g.qZA(),g._UZ(26,"input",14),g.qZA(),g.TgZ(27,"div",7),g.TgZ(28,"label",8),g.TgZ(29,"small",9),g._uU(30,"Email"),g.qZA(),g.qZA(),g._UZ(31,"input",15),g.YNc(32,le,2,1,"div",13),g.qZA(),g.qZA(),g.TgZ(33,"div",16),g.TgZ(34,"div",17),g.TgZ(35,"label",8),g.TgZ(36,"small",9),g._uU(37,"Phone Number"),g.qZA(),g.qZA(),g.TgZ(38,"input",18),g.NdJ("keypress",function(e){return t.keyPress(e)}),g.qZA(),g.YNc(39,ge,3,2,"div",13),g.qZA(),g.TgZ(40,"div",17),g.TgZ(41,"label",8),g.TgZ(42,"small",9),g._uU(43,"State"),g.qZA(),g.qZA(),g._UZ(44,"input",19),g.YNc(45,pe,3,2,"div",13),g.qZA(),g.TgZ(46,"div",17),g.TgZ(47,"label",8),g.TgZ(48,"small",9),g._uU(49,"City"),g.qZA(),g.qZA(),g._UZ(50,"input",20),g.qZA(),g.qZA(),g.TgZ(51,"div",1),g.TgZ(52,"div",21),g.TgZ(53,"label",8),g.TgZ(54,"small",9),g._uU(55,"Address"),g.qZA(),g.qZA(),g._UZ(56,"textarea",22),g.qZA(),g.qZA(),g.TgZ(57,"div",23),g.TgZ(58,"div",24),g.TgZ(59,"div",25),g.TgZ(60,"button",26),g.NdJ("click",function(){return t.onSubmit()}),g._uU(61,"Submit"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(62,"div",1),g.TgZ(63,"div",27),g.TgZ(64,"div",28),g.TgZ(65,"h5",29),g._uU(66,"Location List"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(67,"div",30),g.TgZ(68,"div",31),g.TgZ(69,"div",32),g.TgZ(70,"span",33),g._UZ(71,"img",34),g.qZA(),g.TgZ(72,"input",35),g.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchTasks(e)}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(73,"div",36),g.TgZ(74,"label",8),g._UZ(75,"small",9),g.qZA(),g.TgZ(76,"button",37),g.NdJ("click",function(){return t.LocationMasterExportToExcel()}),g._uU(77,"Export To Excel"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(78,"div",38),g.TgZ(79,"table",39),g.TgZ(80,"thead",40),g.TgZ(81,"tr"),g.TgZ(82,"th",41),g._uU(83," Sr.No"),g.qZA(),g.TgZ(84,"th",42),g._uU(85,"ALT Code"),g.qZA(),g.TgZ(86,"th",42),g._uU(87,"Office Name"),g.qZA(),g.TgZ(88,"th",42),g._uU(89,"Contact Person"),g.qZA(),g.TgZ(90,"th",43),g._uU(91,"Email"),g.qZA(),g.TgZ(92,"th",44),g._uU(93,"Phone No"),g.qZA(),g.TgZ(94,"th",44),g._uU(95,"Address"),g.qZA(),g.TgZ(96,"th",44),g._uU(97,"State"),g.qZA(),g.TgZ(98,"th",44),g._uU(99,"City"),g.qZA(),g.TgZ(100,"th",44),g._uU(101,"Action"),g.qZA(),g.qZA(),g.qZA(),g.YNc(102,qe,3,2,"tbody",45),g.qZA(),g.qZA(),g.YNc(103,_e,1,4,"app-pagination",46),g.qZA(),g._UZ(104,"ngx-spinner",47)),2&e&&(g.xp6(3),g.Q6J("formGroup",t.form),g.xp6(18),g.Q6J("ngIf",t.f.Name.touched&&t.f.Name.errors),g.xp6(11),g.Q6J("ngIf",t.f.Email.touched&&t.f.Email.errors),g.xp6(7),g.Q6J("ngIf",t.f.Phone.touched&&t.f.Phone.errors),g.xp6(6),g.Q6J("ngIf",t.f.State.touched&&t.f.State.errors),g.xp6(15),g.Q6J("disabled",t.form.invalid||t.isWebRequest),g.xp6(12),g.Q6J("ngModel",t.search),g.xp6(30),g.Q6J("ngIf",null==t.LocationList?null:t.LocationList.data),g.xp6(1),g.Q6J("ngIf",null==t.LocationList?null:t.LocationList.data))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,s.O5,o.On,Z.Ro,s.sg,A.Q],styles:["[_ngcontent-%COMP%]::placeholder{font-size:14px}"]}),e})();function be(e,t){1&e&&(g.TgZ(0,"div",72),g._uU(1," ALT Code is required "),g.qZA())}function xe(e,t){if(1&e&&(g.TgZ(0,"div",70),g.YNc(1,be,2,0,"div",71),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.ALT_Code.errors.required)}}function Ue(e,t){1&e&&(g.TgZ(0,"div",72),g._uU(1," Name is required "),g.qZA())}function we(e,t){1&e&&(g.TgZ(0,"div",72),g._uU(1," Name should not be less than 2 characters "),g.qZA())}function Pe(e,t){1&e&&(g.TgZ(0,"div",72),g._uU(1," Name should not be greater than 50 characters "),g.qZA())}function Ne(e,t){if(1&e&&(g.TgZ(0,"div",70),g.YNc(1,Ue,2,0,"div",71),g.YNc(2,we,2,0,"div",71),g.YNc(3,Pe,2,0,"div",71),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.required),g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.minlength),g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.maxlength)}}function Ce(e,t){if(1&e&&(g.TgZ(0,"option"),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.xp6(1),g.hij(" ",e.Product_Group," ")}}function Se(e,t){1&e&&(g.TgZ(0,"div",72),g._uU(1," Group is required "),g.qZA())}function Ie(e,t){1&e&&(g.TgZ(0,"div",72),g._uU(1," Product Group should not be less than 2 characters "),g.qZA())}function ye(e,t){1&e&&(g.TgZ(0,"div",72),g._uU(1," Product Group should not be more than 50 characters "),g.qZA())}function ke(e,t){if(1&e&&(g.TgZ(0,"div",70),g.YNc(1,Se,2,0,"div",71),g.YNc(2,Ie,2,0,"div",71),g.YNc(3,ye,2,0,"div",71),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Product_Group.errors.required),g.xp6(1),g.Q6J("ngIf",e.f.Product_Group.errors.minlength),g.xp6(1),g.Q6J("ngIf",e.f.Product_Group.errors.maxlength)}}function Le(e,t){if(1&e&&(g.TgZ(0,"option",73),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.s9C("value",e.Name),g.xp6(1),g.hij(" ",e.Name," ")}}function Fe(e,t){1&e&&(g.TgZ(0,"div",72),g._uU(1," Unit of measurment is required "),g.qZA())}function Me(e,t){if(1&e&&(g.TgZ(0,"div",70),g.YNc(1,Fe,2,0,"div",71),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.UOM.errors.required)}}function Je(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",51),g.TgZ(1,"a",74),g.NdJ("click",function(){const t=g.CHM(e).index;return g.oxw().deleteManufacturerName(t)}),g._uU(2),g._UZ(3,"img",75),g.qZA(),g.qZA()}if(2&e){const e=t.$implicit;g.xp6(2),g.hij(" ",e," ")}}function Ee(e,t){1&e&&(g.TgZ(0,"div",72),g._uU(1," Quantity is required "),g.qZA())}function Oe(e,t){if(1&e&&(g.TgZ(0,"div",70),g.YNc(1,Ee,2,0,"div",71),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Low_Stock_Quantity.errors.required)}}function Qe(e,t){1&e&&(g.TgZ(0,"div",72),g._uU(1," GST is required "),g.qZA())}function Ye(e,t){1&e&&(g.TgZ(0,"div",72),g._uU(1," GST is required "),g.qZA())}function De(e,t){if(1&e&&(g.TgZ(0,"div",70),g.YNc(1,Qe,2,0,"div",71),g.YNc(2,Ye,2,0,"div",71),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.TAX_Percentage.errors.required),g.xp6(1),g.Q6J("ngIf",e.f.TAX_Percentage.errors.pattern)}}function Re(e,t){1&e&&(g.TgZ(0,"div",72),g._uU(1," Price is required "),g.qZA())}function Ve(e,t){1&e&&(g.TgZ(0,"div",72),g._uU(1," Price is required "),g.qZA())}function Ge(e,t){if(1&e&&(g.TgZ(0,"div",70),g.YNc(1,Re,2,0,"div",71),g.YNc(2,Ve,2,0,"div",71),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Price.errors.required),g.xp6(1),g.Q6J("ngIf",e.f.Price.errors.pattern)}}function Be(e,t){1&e&&(g.TgZ(0,"div",72),g._uU(1," Category is required "),g.qZA())}function He(e,t){if(1&e&&(g.TgZ(0,"div",70),g.YNc(1,Be,2,0,"div",71),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Category.errors.required)}}function We(e,t){1&e&&(g.TgZ(0,"div",72),g._uU(1," Asset Holder is required "),g.qZA())}function ze(e,t){if(1&e&&(g.TgZ(0,"div",70),g.YNc(1,We,2,0,"div",71),g.qZA()),2&e){const e=g.oxw(2);g.xp6(1),g.Q6J("ngIf",e.f.Asset_Holder.errors.required)}}function $e(e,t){if(1&e&&(g.TgZ(0,"div",32),g.TgZ(1,"label",8),g.TgZ(2,"small",9),g._uU(3,"Owner"),g.qZA(),g.TgZ(4,"span",12),g._uU(5,"*"),g.qZA(),g.qZA(),g._UZ(6,"br"),g.TgZ(7,"div",36),g._UZ(8,"input",76),g.TgZ(9,"label",77),g._uU(10,"IT"),g.qZA(),g.qZA(),g.TgZ(11,"div",36),g._UZ(12,"input",78),g.TgZ(13,"label",79),g._uU(14,"Admin"),g.qZA(),g.qZA(),g.YNc(15,ze,2,1,"div",11),g.qZA()),2&e){const e=g.oxw();g.xp6(15),g.Q6J("ngIf",e.f.Asset_Holder.touched&&e.f.Asset_Holder.errors)}}function Ke(e,t){1&e&&(g.TgZ(0,"div",72),g._uU(1," Individual tracking is required "),g.qZA())}function Xe(e,t){if(1&e&&(g.TgZ(0,"div",70),g.YNc(1,Ke,2,0,"div",71),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Is_Individual_Tracking.errors.required)}}function je(e,t){1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td",82),g.TgZ(2,"b",83),g._uU(3,"No records found"),g.qZA(),g.qZA(),g.qZA())}function et(e,t){if(1&e&&(g.TgZ(0,"ul",91),g.TgZ(1,"li"),g.TgZ(2,"span"),g._uU(3),g.qZA(),g.qZA(),g.qZA()),2&e){const e=t.$implicit,r=t.index,s=g.oxw().$implicit;g.xp6(3),g.Oqu(s.manufacturers.length!=r+1?e.Name+",":e.Name)}}function tt(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g._uU(8),g.qZA(),g.TgZ(9,"td"),g._uU(10),g.qZA(),g.TgZ(11,"td"),g.TgZ(12,"span",84),g.YNc(13,et,4,1,"ul",85),g.qZA(),g.qZA(),g.TgZ(14,"td"),g._uU(15),g.qZA(),g.TgZ(16,"td"),g._uU(17),g.qZA(),g.TgZ(18,"td"),g._uU(19),g.qZA(),g.TgZ(20,"td"),g._uU(21),g.qZA(),g.TgZ(22,"td"),g._uU(23),g.qZA(),g.TgZ(24,"td"),g._uU(25),g.ALo(26,"number"),g.qZA(),g.TgZ(27,"td"),g._uU(28),g.ALo(29,"number"),g.qZA(),g.TgZ(30,"td"),g._uU(31),g.qZA(),g.TgZ(32,"td"),g._uU(33),g.qZA(),g.TgZ(34,"td",86),g.TgZ(35,"a",87),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).getProduct(t.ID)}),g._UZ(36,"img",88),g.qZA(),g._uU(37,"\xa0 "),g.TgZ(38,"a",89),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).confirmModal(t.ID)}),g._UZ(39,"img",90),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=t.$implicit,r=t.index;g.xp6(2),g.Oqu(r+1),g.xp6(2),g.Oqu(e.ALT_Code),g.xp6(2),g.Oqu(e.Name),g.xp6(2),g.Oqu(e.Product_Group),g.xp6(2),g.Oqu(e.UOM),g.xp6(3),g.Q6J("ngForOf",e.manufacturers),g.xp6(2),g.Oqu(e.Low_Stock_Quantity),g.xp6(2),g.Oqu(e.Opening_Stock_Quantity),g.xp6(2),g.Oqu(e.Opening_Stock_Value),g.xp6(2),g.Oqu(e.Opening_Stock_Tax_Value),g.xp6(2),g.Oqu(e.Description),g.xp6(2),g.Oqu(g.xi3(26,15,e.TAX_Percentage,"1.2-3")),g.xp6(3),g.Oqu(g.xi3(29,18,e.Price,"1.2-3")),g.xp6(3),g.Oqu(e.Category),g.xp6(2),g.Oqu(e.Asset_Holder)}}function rt(e,t){if(1&e&&(g.TgZ(0,"tbody",80),g.YNc(1,je,4,0,"tr",81),g.YNc(2,tt,40,21,"tr",16),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",0===e.productList.data.length),g.xp6(1),g.Q6J("ngForOf",null==e.productList?null:e.productList.data)}}function st(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"app-pagination",92),g.NdJ("loadPage",function(t){return g.CHM(e),g.oxw().pager(t)})("changePerPage",function(t){return g.CHM(e),g.oxw().changePerPage(t)}),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.productList.total)("lastPage",e.productList.totalPages)}}let it=(()=>{class e{constructor(e,t,r,s,i,a,c,l){this.formBuilder=e,this._authServive=t,this._mastersService=r,this.modalService=s,this.storageService=i,this.spinner=a,this.dataservice=c,this._excelService=l,this.eventsCounter=new n.xQ,this.ngUnsubscribe=new n.xQ,this.isExpand=!1,this.submitted=!1,this.dropdownList=[],this.selectedItems=[],this.UnitList=[],this.categoryList=[],this.editFromValue=!1,this.manufacturerDetails=[],this.productList=[],this.singleProduct=[],this.search="",this.details=[],this.SearchDataList=[],this.isWebRequest=!1,this.decimalpatternfortax="^[0-9]+(.[0-9]{0,2})?$",this.decimalpatternforprice="^[0-9]+(.[0-9]{0,2})?$",this.searchTermChanged=new n.xQ,this.productForm=this.formBuilder.group({Name:["",[o.kI.required,o.kI.minLength(2),o.kI.maxLength(50)]],Product_Group:[null,[o.kI.required,o.kI.minLength(2),o.kI.maxLength(50)]],UOM:["",[o.kI.required]],Opening_Stock_Quantity:[""],Opening_Stock_Value:[""],Opening_Stock_Tax_Value:[""],Manufacturer_Name:[null],Low_Stock_Quantity:[null,[o.kI.required]],TAX_Percentage:[null,[o.kI.required,o.kI.pattern(this.decimalpatternfortax)]],Price:[null,[o.kI.required,o.kI.pattern(this.decimalpatternforprice)]],Category:["CAPEX",[o.kI.required]],Asset_Holder:["IT",[o.kI.required]],Description:[null],Is_Individual_Tracking:[null],ALT_Code:[null]}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.role=this.storageService.secureStorage.getItem("role"),this.productForm.patchValue({Asset_Holder:this._authServive.getDepartment(this.role)}),this.productForm.controls.Is_Individual_Tracking.setValue(!0),this.productForm.controls.Is_Individual_Tracking.disable(),this.isWebRequest=!1,this.dataservice.setTitle("Product"),this.getAllProductList(),this.getAllUnitList(),this.getSearchProductGroupList()}searchTasks(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,c.b)(600),(0,l.x)()).subscribe(e=>{this.currentPage=1,this.getAllProductList(),this.getSearchProductGroupList()}),this.searchTermChanged.next(e)}get f(){return this.productForm.controls}getAllUnitList(){this._mastersService.dropdownAllUnitAPI({}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.UnitList=e.data},e=>{})}getProduct(e){this.editFromValue=!0,this.id=e,this._mastersService.getSingleProductMasterAPI({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.singleProduct=e.data,this.productForm.patchValue(e.data),1==this.editFromValue&&(this.productForm.controls.Category.disable(),this.productForm.controls.Is_Individual_Tracking.disable()),this.singleProduct.manufacturer.forEach(e=>{this.manufacturerDetails.push(e.Name),this.productForm.controls.Manufacturer_Name.setValidators([]),this.productForm.controls.Manufacturer_Name.updateValueAndValidity()}))},e=>{this._mastersService.showalert(e.error.message,"error")})}onChange(e){"CAPEX"==e.target.value?(this.productForm.controls.Is_Individual_Tracking.setValue(!0),this.productForm.controls.Is_Individual_Tracking.disable()):(this.productForm.controls.Is_Individual_Tracking.setValue(!1),this.productForm.controls.Is_Individual_Tracking.enable())}getAllProductList(){this._mastersService.allMastersProductAPI({pageNumber:this.currentPage,numberOfRows:this.perPage,search:this.search}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.productList=e},e=>{this._mastersService.showalert(e.error.message,"error")})}addProduct(e){this.productList.push({ID:e.ID,Name:e.Product_Group}),console.log("----\x3eProduct_Group Search push api data-----\x3e",this.productList)}getSearchProductGroupList(){this._mastersService.getallCategorry({}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.SearchDataList=e.data},e=>{})}onSubmit(){if(this.isWebRequest=!0,0==this.editFromValue){let e={ALT_Code:this.productForm.value.ALT_Code,Name:this.productForm.value.Name,Product_Group:this.productForm.value.Product_Group,UOM:this.productForm.value.UOM,Low_Stock_Quantity:this.productForm.value.Low_Stock_Quantity,Manufacturer_Name:this.manufacturerDetails,TAX_Percentage:this.productForm.value.TAX_Percentage,Price:this.productForm.value.Price,Description:this.productForm.value.Description,Category:this.productForm.value.Category,Asset_Holder:this.productForm.value.Asset_Holder,Is_Individual_Tracking:this.productForm.value.Is_Individual_Tracking,Opening_Stock_Value:this.productForm.value.Opening_Stock_Value,Opening_Stock_Quantity:this.productForm.value.Opening_Stock_Value,Opening_Stock_Tax_Value:this.productForm.value.Opening_Stock_Tax_Value};this.spinner.show(),this._mastersService.addProductMasterAPI(e).subscribe(e=>{this.isWebRequest=!1,this.spinner.hide(),e.error?this._mastersService.showalert(e.message,"error"):(this._mastersService.showalert(e.message,"success"),this.resetForm(),this.getAllProductList(),this.manufacturerDetails=[]),this.isWebRequest=!1},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}else if(1==this.editFromValue){this.isWebRequest=!0;let e={ALT_Code:this.productForm.value.ALT_Code,Name:this.productForm.value.Name,Product_Group:this.productForm.value.Product_Group,UOM:this.productForm.value.UOM,Low_Stock_Quantity:this.productForm.value.Low_Stock_Quantity,Manufacturer_Name:this.manufacturerDetails,TAX_Percentage:this.productForm.value.TAX_Percentage,Price:this.productForm.value.Price,Description:this.productForm.value.Description,Category:this.productForm.value.Category,Asset_Holder:this.productForm.value.Asset_Holder,Is_Individual_Tracking:this.productForm.value.Is_Individual_Tracking,Opening_Stock_Value:this.productForm.value.Opening_Stock_Value,Opening_Stock_Quantity:this.productForm.value.Opening_Stock_Quantity,Opening_Stock_Tax_Value:this.productForm.value.Opening_Stock_Tax_Value,id:this.id};this.spinner.show(),this._mastersService.EditProductMasterAPI(e).subscribe(e=>{this.isWebRequest=!1,this.spinner.hide(),e.error?this._mastersService.showalert(e.message,"error"):(this._mastersService.showalert(e.message,"success"),this.resetForm(),this.editFromValue=!1,this.getAllProductList(),this.manufacturerDetails=[]),this.isWebRequest=!1},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}}resetForm(){this.productForm.reset(),this.productForm.patchValue({ALT_Code:"",Name:"",Product_Group:"",UOM:"",Low_Stock_Quantity:"",Manufacturer_Name:"",TAX_Percentage:"",Price:"",Description:"",Category:"CAPEX",Asset_Holder:"IT",Is_Individual_Tracking:!0,Opening_Stock_Value:"",Opening_Stock_Quantity:"",Opening_Stock_Tax_Value:""})}addManufacturerDetails(){null==this.productForm.value.Manufacturer_Name||""==this.productForm.value.Manufacturer_Name?this._mastersService.alert("Please Enter Manufacturer Name"):this.manufacturerDetails.includes(this.productForm.value.Manufacturer_Name)?this._mastersService.alert("Name Already Exist"):(this.manufacturerDetails.push(this.productForm.value.Manufacturer_Name),this.productForm.controls.Manufacturer_Name.setValue(""),this.productForm.controls.Manufacturer_Name.clearValidators(),this.productForm.controls.Manufacturer_Name.updateValueAndValidity())}deleteManufacturerName(e){this.manufacturerDetails.splice(e,1)}keyPress(e){let t=String.fromCharCode(e.charCode);8==e.keyCode||/[0-9\+\-\ ]/.test(t)||e.preventDefault()}confirmModal(e){this.bsModalRef1=this.modalService.show(d.z,{animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-sm"}),this.bsModalRef1.content.event.subscribe(t=>{"delete"===t.data&&this.deleteProductitem(e)})}deleteProductitem(e){this._mastersService.deleteProductService({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this._mastersService.showalert(e.message,"success"),this.getAllProductList())})}pager(e){this.currentPage=e,this.getAllProductList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getAllProductList()}ProductMasterExportToExcel(){this._excelService.downloadProductExport({search:this.search}).subscribe(e=>(0,u.saveAs)(e,"product-master.xlsx"))}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(o.qu),g.Y36(D.$),g.Y36(h.R),g.Y36(p.tT),g.Y36(N.V),g.Y36(Z.t2),g.Y36(m.D),g.Y36(f.x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-product"]],decls:188,vars:18,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-body"],[1,"row","h-100","w-100","mb-2"],[1,"col-lg-3","col-12"],["for",""],[1,"text-dark","fw-bold"],["type","text","formControlName","ALT_Code","placeholder","Enter code",1,"form-control","input-group-sm"],["class","text-danger",4,"ngIf"],[1,"text-danger","fw-bold"],["type","text","formControlName","Name","placeholder","Enter name",1,"form-control","input-group-sm"],["type","text","list","testAutocomplete","formControlName","Product_Group","placeholder","Search","aria-controls","example1",1,"form-control",3,"keyup"],["id","testAutocomplete"],[4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","UOM",1,"form-select"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],[1,"row","h-100","mb-2"],[1,"input-group","input-group-sm"],["type","text","formControlName","Manufacturer_Name","placeholder","Enter manufacturer name",1,"form-control",2,"height","40px","box-shadow","none"],[1,"input-group-text","bg-white"],[2,"cursor","pointer",3,"click"],["src","../../../../../assets/icons/plus.png","width","16"],[1,"row","d-flex",2,"display","inline-flex"],["class","col-auto",4,"ngFor","ngForOf"],["type","text","formControlName","Low_Stock_Quantity","placeholder","Enter quantity",1,"form-control","input-group-sm",3,"keypress"],["type","number","formControlName","TAX_Percentage","placeholder","Enter GST",1,"form-control","input-group-sm"],["type","number","formControlName","Price","placeholder","Enter price",1,"form-control","input-group-sm"],[1,"row","h-100","mb-3","d-flex"],[1,"col-lg-3"],["type","number","formControlName","Opening_Stock_Quantity","placeholder","Enter Stock Quantity",1,"form-control","input-group-sm"],["type","number","formControlName","Opening_Stock_Value","placeholder","Enter Value",1,"form-control","input-group-sm"],["type","number","formControlName","Opening_Stock_Tax_Value","placeholder","Enter Tax Value",1,"form-control","input-group-sm"],[1,"form-check","form-check-inline"],["type","radio","name","Category","id","inlineRadio1","value","CAPEX","formControlName","Category",1,"form-check-input",3,"click"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","Category","id","inlineRadio2","value","OPEX","formControlName","Category",1,"form-check-input",3,"click"],["for","inlineRadio2",1,"form-check-label"],["class","col-lg-3",4,"ngIf"],[1,"col-lg-6","col-12"],["id","exampleFormControlTextarea1","rows","3","formControlName","Description","placeholder","Enter description",1,"form-control"],[1,"row"],[1,"float-left"],[1,"form-check"],["type","checkbox","value","Is_Individual_Tracking","formControlName","Is_Individual_Tracking","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],[1,"text-start","mt-3"],[1,"btn","btn-dark","btn-sm",2,"width","180px","font-size","14px",3,"disabled","click"],[1,"col-auto"],[1,"text-start","mb-2"],[1,"fw-bold"],[1,"row","h-100"],[1,"col-lg-6","col-12","mb-2"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col","lg-4","text-end"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"],[1,"col-12","d-lg-grid"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","fixed-table"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-pulse"],[1,"text-danger"],["class","small",4,"ngIf"],[1,"small"],[3,"value"],[2,"padding","6px","background-color","#eee","border-radius","50rem","cursor","pointer","font-weight","bold","font-size","14px",3,"click"],["src","../../../../../assets/icons/cross.png","width","9"],["type","radio","formControlName","Asset_Holder","name","Asset_Holder","id","inlineRadioIT","value","IT",1,"form-check-input"],["for","inlineRadioIT",1,"form-check-label"],["formControlName","Asset_Holder","type","radio","name","Asset_Holder","id","inlineRadioAdmin","value","Admin",1,"form-check-input"],["for","inlineRadioAdmin",1,"form-check-label"],[1,"bg-white"],[4,"ngIf"],["colspan","16",1,"text-center"],[1,"text-muted",2,"font-size","large"],[2,"flex-wrap","wrap","display","flex","align-content","stretch","flex-direction","row","justify-content","flex-start"],["style","\n                  padding: 1px !important;\n                  list-style: none;\n                  margin-bottom: 0rem !important;\n                ",4,"ngFor","ngForOf"],[2,"width","75px"],[1,"mr-2",2,"width","60px","font-size","12px","cursor","pointer !important",3,"click"],["src","../../../../../assets/icons/edit-1.png","width","20","height","20"],[1,"",2,"width","60px","font-size","12px","cursor","pointer !important",3,"click"],["src","../../../../../assets/icons/delete-1.png","width","20","height","20"],[2,"padding","1px !important","list-style","none","margin-bottom","0rem !important"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div"),g.TgZ(2,"form",1),g.TgZ(3,"div",2),g.TgZ(4,"div",3),g.TgZ(5,"div",4),g.TgZ(6,"div",5),g.TgZ(7,"div",6),g.TgZ(8,"div",7),g.TgZ(9,"label",8),g.TgZ(10,"small",9),g._uU(11,"ALT Code"),g.qZA(),g.qZA(),g._UZ(12,"input",10),g.YNc(13,xe,2,1,"div",11),g.qZA(),g.TgZ(14,"div",7),g.TgZ(15,"label",8),g.TgZ(16,"small",9),g._uU(17,"Name"),g.qZA(),g.TgZ(18,"span",12),g._uU(19,"*"),g.qZA(),g.qZA(),g._UZ(20,"input",13),g.YNc(21,Ne,4,3,"div",11),g.qZA(),g.TgZ(22,"div",7),g.TgZ(23,"label",8),g.TgZ(24,"small",9),g._uU(25,"Group"),g.qZA(),g.TgZ(26,"span",12),g._uU(27,"*"),g.qZA(),g.qZA(),g.TgZ(28,"input",14),g.NdJ("keyup",function(e){return t.searchTasks(e)}),g.qZA(),g.TgZ(29,"datalist",15),g.TgZ(30,"a"),g.YNc(31,Ce,2,1,"option",16),g.qZA(),g.qZA(),g.YNc(32,ke,4,3,"div",11),g.qZA(),g.TgZ(33,"div",7),g.TgZ(34,"label",8),g.TgZ(35,"small",9),g._uU(36,"Select Unit of Measurement"),g.qZA(),g.TgZ(37,"span",12),g._uU(38,"*"),g.qZA(),g.qZA(),g.TgZ(39,"select",17),g.TgZ(40,"option",18),g._uU(41,"Select Unit"),g.qZA(),g.YNc(42,Le,2,2,"option",19),g.qZA(),g.YNc(43,Me,2,1,"div",11),g.qZA(),g.qZA(),g.TgZ(44,"div",20),g.TgZ(45,"div",7),g.TgZ(46,"label",8),g.TgZ(47,"small",9),g._uU(48,"Manufacturer"),g.qZA(),g.qZA(),g.TgZ(49,"div",21),g._UZ(50,"input",22),g.TgZ(51,"span",23),g.TgZ(52,"a",24),g.NdJ("click",function(){return t.addManufacturerDetails()}),g._UZ(53,"img",25),g.qZA(),g.qZA(),g.qZA(),g._UZ(54,"br"),g.TgZ(55,"div",26),g.YNc(56,Je,4,1,"div",27),g.qZA(),g.qZA(),g.TgZ(57,"div",7),g.TgZ(58,"label",8),g.TgZ(59,"small",9),g._uU(60,"Low Stock Quantity"),g.qZA(),g.TgZ(61,"span",12),g._uU(62,"*"),g.qZA(),g.qZA(),g.TgZ(63,"input",28),g.NdJ("keypress",function(e){return t.keyPress(e)}),g.qZA(),g.YNc(64,Oe,2,1,"div",11),g.qZA(),g.TgZ(65,"div",7),g.TgZ(66,"label",8),g.TgZ(67,"small",9),g._uU(68,"GST %"),g.qZA(),g.TgZ(69,"span",12),g._uU(70,"*"),g.qZA(),g.qZA(),g._UZ(71,"input",29),g.YNc(72,De,3,2,"div",11),g.qZA(),g.TgZ(73,"div",7),g.TgZ(74,"label",8),g.TgZ(75,"small",9),g._uU(76,"Price"),g.qZA(),g.TgZ(77,"span",12),g._uU(78,"*"),g.qZA(),g.qZA(),g._UZ(79,"input",30),g.YNc(80,Ge,3,2,"div",11),g.qZA(),g.qZA(),g.TgZ(81,"div",31),g.TgZ(82,"div",32),g.TgZ(83,"label",8),g.TgZ(84,"small",9),g._uU(85,"Opening Stock Quantity"),g.qZA(),g.qZA(),g._UZ(86,"input",33),g.qZA(),g.TgZ(87,"div",32),g.TgZ(88,"label",8),g.TgZ(89,"small",9),g._uU(90,"Opening Stock Value"),g.qZA(),g.qZA(),g._UZ(91,"input",34),g.qZA(),g.TgZ(92,"div",32),g.TgZ(93,"label",8),g.TgZ(94,"small",9),g._uU(95,"Opening Stock Tax Value"),g.qZA(),g.qZA(),g._UZ(96,"input",35),g.qZA(),g.qZA(),g.TgZ(97,"div",31),g.TgZ(98,"div",32),g.TgZ(99,"label",8),g.TgZ(100,"small",9),g._uU(101,"Category"),g.qZA(),g.TgZ(102,"span",12),g._uU(103,"*"),g.qZA(),g.qZA(),g._UZ(104,"br"),g.TgZ(105,"div",36),g.TgZ(106,"input",37),g.NdJ("click",function(e){return t.onChange(e)}),g.qZA(),g.TgZ(107,"label",38),g._uU(108,"CAPEX"),g.qZA(),g.qZA(),g.TgZ(109,"div",36),g.TgZ(110,"input",39),g.NdJ("click",function(e){return t.onChange(e)}),g.qZA(),g.TgZ(111,"label",40),g._uU(112,"OPEX"),g.qZA(),g.qZA(),g.YNc(113,He,2,1,"div",11),g.qZA(),g.YNc(114,$e,16,1,"div",41),g.qZA(),g.TgZ(115,"div",31),g.TgZ(116,"div",42),g.TgZ(117,"label",8),g.TgZ(118,"small",9),g._uU(119,"Description "),g.qZA(),g.qZA(),g._UZ(120,"textarea",43),g.qZA(),g.qZA(),g.TgZ(121,"div",44),g.TgZ(122,"div",45),g.TgZ(123,"div",46),g._UZ(124,"input",47),g.TgZ(125,"label",48),g._uU(126," Individual Tracking "),g.qZA(),g.qZA(),g.YNc(127,Xe,2,1,"div",11),g.qZA(),g.TgZ(128,"div",49),g.TgZ(129,"button",50),g.NdJ("click",function(){return t.onSubmit()}),g._uU(130," Submit "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(131,"div",2),g.TgZ(132,"div",51),g.TgZ(133,"div",52),g.TgZ(134,"h5",53),g._uU(135,"Product List"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(136,"div",54),g.TgZ(137,"div",55),g.TgZ(138,"div",21),g.TgZ(139,"span",23),g._UZ(140,"img",56),g.qZA(),g.TgZ(141,"input",57),g.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchTasks(e)}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(142,"div",58),g.TgZ(143,"label",8),g._UZ(144,"small",9),g.qZA(),g.TgZ(145,"button",59),g.NdJ("click",function(){return t.ProductMasterExportToExcel()}),g._uU(146," Export To Excel "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(147,"div",54),g.TgZ(148,"div",60),g.TgZ(149,"div",61),g.TgZ(150,"table",62),g.TgZ(151,"thead",63),g.TgZ(152,"tr"),g.TgZ(153,"th",64),g._uU(154,"Sr.No"),g.qZA(),g.TgZ(155,"th",65),g._uU(156,"ALT Code"),g.qZA(),g.TgZ(157,"th",65),g._uU(158,"Name"),g.qZA(),g.TgZ(159,"th",66),g._uU(160,"Group"),g.qZA(),g.TgZ(161,"th",66),g._uU(162,"Unit"),g.qZA(),g.TgZ(163,"th",66),g._uU(164,"Manufacturer"),g.qZA(),g.TgZ(165,"th",66),g._uU(166,"Low Stock Quantity"),g.qZA(),g.TgZ(167,"th",66),g._uU(168,"Opening Stock Quantity"),g.qZA(),g.TgZ(169,"th",66),g._uU(170,"Opening Stock Value"),g.qZA(),g.TgZ(171,"th",66),g._uU(172,"Opening TAX Value"),g.qZA(),g.TgZ(173,"th",66),g._uU(174,"Description"),g.qZA(),g.TgZ(175,"th",66),g._uU(176,"GST %"),g.qZA(),g.TgZ(177,"th",66),g._uU(178,"Price \u20b9"),g.qZA(),g.TgZ(179,"th",66),g._uU(180,"Category"),g.qZA(),g.TgZ(181,"th",66),g._uU(182,"Owner"),g.qZA(),g.TgZ(183,"th",66),g._uU(184,"Action"),g.qZA(),g.qZA(),g.qZA(),g.YNc(185,rt,3,2,"tbody",67),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(186,st,1,4,"app-pagination",68),g.qZA(),g._UZ(187,"ngx-spinner",69)),2&e&&(g.xp6(2),g.Q6J("formGroup",t.productForm),g.xp6(11),g.Q6J("ngIf",t.f.ALT_Code.touched&&t.f.ALT_Code.errors),g.xp6(8),g.Q6J("ngIf",t.f.Name.touched&&t.f.Name.errors),g.xp6(10),g.Q6J("ngForOf",t.SearchDataList),g.xp6(1),g.Q6J("ngIf",t.f.Product_Group.touched&&t.f.Product_Group.errors),g.xp6(10),g.Q6J("ngForOf",t.UnitList),g.xp6(1),g.Q6J("ngIf",t.f.UOM.touched&&t.f.UOM.errors),g.xp6(13),g.Q6J("ngForOf",t.manufacturerDetails),g.xp6(8),g.Q6J("ngIf",t.f.Low_Stock_Quantity.touched&&t.f.Low_Stock_Quantity.errors),g.xp6(8),g.Q6J("ngIf",t.f.TAX_Percentage.touched&&t.f.TAX_Percentage.errors),g.xp6(8),g.Q6J("ngIf",t.f.Price.touched&&t.f.Price.errors),g.xp6(33),g.Q6J("ngIf",t.f.Category.touched&&t.f.Category.errors),g.xp6(1),g.Q6J("ngIf","System Admin"==t.role),g.xp6(13),g.Q6J("ngIf",t.f.Is_Individual_Tracking.touched&&t.f.Is_Individual_Tracking.errors),g.xp6(2),g.Q6J("disabled",t.productForm.invalid||t.isWebRequest),g.xp6(12),g.Q6J("ngModel",t.search),g.xp6(44),g.Q6J("ngIf",null==t.productList?null:t.productList.data),g.xp6(1),g.Q6J("ngIf",null==t.productList?null:t.productList.data))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,s.O5,s.sg,o.EJ,o.YN,o.Kr,o.wV,o._,o.Wl,o.On,Z.Ro,A.Q],pipes:[s.JJ],styles:[".form-control[_ngcontent-%COMP%]{font-weight:500}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#0dba3e;border-color:#0dba3e}[_ngcontent-%COMP%]::placeholder{font-size:14px}"]}),e})();function ot(e,t){1&e&&(g.TgZ(0,"div",37),g._uU(1,"Name is required"),g.qZA())}function at(e,t){1&e&&(g.TgZ(0,"div",37),g._uU(1,"Name should not more than 50 character"),g.qZA())}function nt(e,t){1&e&&(g.TgZ(0,"div",37),g._uU(1,"Name should not be less than 2 characters"),g.qZA())}function ct(e,t){if(1&e&&(g.TgZ(0,"div",35),g.YNc(1,ot,2,0,"div",36),g.YNc(2,at,2,0,"div",36),g.YNc(3,nt,2,0,"div",36),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.required),g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.maxlength),g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.minlength)}}function lt(e,t){1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td",41),g.TgZ(2,"b",42),g._uU(3,"No records\nfound"),g.qZA(),g.qZA(),g.qZA())}function dt(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td",43),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td",44),g.TgZ(6,"a",45),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).getUnit(t.ID)}),g._UZ(7,"img",46),g.qZA(),g._uU(8,"\xa0 "),g.TgZ(9,"a",47),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).confirmModal(t.ID)}),g._UZ(10,"img",48),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=t.$implicit,r=t.index;g.xp6(2),g.Oqu(r+1),g.xp6(2),g.Oqu(e.Name)}}function ut(e,t){if(1&e&&(g.TgZ(0,"tbody",38),g.YNc(1,lt,4,0,"tr",39),g.YNc(2,dt,11,2,"tr",40),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",0===(null==e.UnitList?null:e.UnitList.data.length)),g.xp6(1),g.Q6J("ngForOf",null==e.UnitList?null:e.UnitList.data)}}function gt(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"app-pagination",49),g.NdJ("loadPage",function(t){return g.CHM(e),g.oxw().pager(t)})("changePerPage",function(t){return g.CHM(e),g.oxw().changePerPage(t)}),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.UnitList.total)("lastPage",e.UnitList.totalPages)}}let mt=(()=>{class e{constructor(e,t,r,s,i,c,l){this.dataservice=e,this.formBuilder=t,this._mastersService=r,this.modalService=s,this.storageService=i,this.spinner=c,this._excelService=l,this.eventsCounter=new n.xQ,this.ngUnsubscribe=new n.xQ,this.isExpand=!1,this.submitted=!1,this.loading=!1,this.isWebRequest=!1,this.editFromValue=!1,this.showPasswordFlag=!1,this.faEye=a.Mdf,this.faEyeSlash=a.Aq,this.UnitList=[],this.search="",this.searchTermChanged=new n.xQ,this.unitForm=this.formBuilder.group({Name:["",[o.kI.required,o.kI.minLength(2),o.kI.maxLength(50)]]}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.dataservice.setTitle("Unit"),this.getAllUnitList()}searchTasks(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,c.b)(600),(0,l.x)()).subscribe(e=>{this.currentPage=1,this.getAllUnitList()}),this.searchTermChanged.next(e)}getAllUnitList(){this._mastersService.allMastersUnitAPI({pageNumber:this.currentPage,numberOfRows:this.perPage,search:this.search}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.UnitList=e},e=>{this._mastersService.showalert(e.error.message,"error")})}toggle(){this.isExpand=!this.isExpand}get f(){return this.unitForm.controls}getUnit(e){this.editFromValue=!0,this.id=e,this._mastersService.getSingleUnitMasterAPI({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.singleUnit=e.data,this.unitForm.patchValue(e.data))},e=>{this._mastersService.showalert(e.error.message,"error")})}keyPress(e){let t=String.fromCharCode(e.charCode);8==e.keyCode||/[0-9\+\-\ ]/.test(t)||e.preventDefault()}onSubmit(){if(this.isWebRequest=!0,0==this.editFromValue){let e={Name:this.unitForm.value.Name};this.spinner.show(),this._mastersService.addUnitMasterAPI(e).subscribe(e=>{this.isWebRequest=!1,this.spinner.hide(),e.success?(this._mastersService.showalert(e.message,"success"),this.unitForm.reset(),this.getAllUnitList()):(this.isWebRequest=!1,this._mastersService.showalert(e.message,"error"))},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}else if(1==this.editFromValue){this.isWebRequest=!0;let e=Object.assign({id:this.id},this.unitForm.value);this.spinner.show(),this._mastersService.EditUnitMasterAPI(e).subscribe(e=>{this.isWebRequest=!1,this.spinner.hide(),e.success?(this._mastersService.showalert(e.message,"success"),this.unitForm.reset(),this.getAllUnitList(),this.editFromValue=!1):(this.isWebRequest=!1,this._mastersService.showalert(e.message,"error"))},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}}confirmModal(e){this.bsModalRef1=this.modalService.show(d.z,{animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-sm"}),this.bsModalRef1.content.event.subscribe(t=>{"delete"===t.data&&this.deleteUnititem(e)})}deleteUnititem(e){this._mastersService.deleteUnitService({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this._mastersService.showalert(e.message,"success"),this.getAllUnitList())})}pager(e){this.currentPage=e,this.getAllUnitList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getAllUnitList()}UnitMasterExportToExcel(){this._excelService.downloadUnitExport({search:this.search}).subscribe(e=>(0,u.saveAs)(e,"unit-master.xlsx"))}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(m.D),g.Y36(o.qu),g.Y36(h.R),g.Y36(p.tT),g.Y36(N.V),g.Y36(Z.t2),g.Y36(f.x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-unit"]],decls:48,vars:6,consts:[[1,"container-fluid","mb-2","main-container"],[3,"formGroup"],[1,"row","mb-2"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-body"],[1,"row","h-100","w-100","mb-2"],[1,"col-lg-4","col-12"],["for",""],[1,"text-dark","fw-bold"],[1,"text-danger","fw-bold"],["type","text","formControlName","Name","placeholder","Enter name",1,"form-control","input-group-sm"],["class","text-danger",4,"ngIf"],[1,"pull-left","mt-3"],[1,"btn","btn-dark","btn-sm",2,"width","180px","font-size","14px",3,"disabled","click"],[1,"col-auto"],[1,"text-start","mb-2"],[1,"fw-bold"],[1,"row","h-100"],[1,"col-lg-6","col-12","mb-2"],[1,"input-group","input-group-sm"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col","lg-4","text-end"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"],[1,""],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-pulse"],[1,"text-danger"],["class","small",4,"ngIf"],[1,"small"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","9",1,"text-center"],[1,"text-muted",2,"font-size","large"],[2,"width","100px"],[2,"width","154px"],["tooltip","Edit",1,"cursor-pointer","mr-2",2,"width","60px","font-size","12px","cursor","pointer!important",3,"click"],["src","../../../../../assets/icons/edit-1.png","width","20","height","20"],["tooltip","delete",1,"cursor-pointer",2,"width","60px","font-size","12px","cursor","pointer!important",3,"click"],["src","../../../../../assets/icons/delete-1.png","width","20","height","20"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div"),g.TgZ(2,"form",1),g.TgZ(3,"div",2),g.TgZ(4,"div",3),g.TgZ(5,"div",4),g.TgZ(6,"div",5),g.TgZ(7,"div",6),g.TgZ(8,"div",7),g.TgZ(9,"label",8),g.TgZ(10,"small",9),g._uU(11,"Name"),g.qZA(),g.TgZ(12,"span",10),g._uU(13,"*"),g.qZA(),g.qZA(),g._UZ(14,"input",11),g.YNc(15,ct,4,3,"div",12),g.qZA(),g.qZA(),g.TgZ(16,"div",13),g.TgZ(17,"button",14),g.NdJ("click",function(){return t.onSubmit()}),g._uU(18,"Submit"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(19,"div",2),g.TgZ(20,"div",15),g.TgZ(21,"div",16),g.TgZ(22,"h5",17),g._uU(23,"Unit List"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(24,"div",18),g.TgZ(25,"div",19),g.TgZ(26,"div",20),g.TgZ(27,"span",21),g._UZ(28,"img",22),g.qZA(),g.TgZ(29,"input",23),g.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchTasks(e)}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(30,"div",24),g.TgZ(31,"label",8),g._UZ(32,"small",9),g.qZA(),g.TgZ(33,"button",25),g.NdJ("click",function(){return t.UnitMasterExportToExcel()}),g._uU(34,"Export To Excel"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(35,"div",26),g.TgZ(36,"table",27),g.TgZ(37,"thead",28),g.TgZ(38,"tr"),g.TgZ(39,"th",29),g._uU(40," Sr.No"),g.qZA(),g.TgZ(41,"th",30),g._uU(42,"Name"),g.qZA(),g.TgZ(43,"th",31),g._uU(44,"Action"),g.qZA(),g.qZA(),g.qZA(),g.YNc(45,ut,3,2,"tbody",32),g.qZA(),g.qZA(),g.YNc(46,gt,1,4,"app-pagination",33),g.qZA(),g._UZ(47,"ngx-spinner",34)),2&e&&(g.xp6(2),g.Q6J("formGroup",t.unitForm),g.xp6(13),g.Q6J("ngIf",t.f.Name.touched&&t.f.Name.errors),g.xp6(2),g.Q6J("disabled",t.unitForm.invalid||t.isWebRequest),g.xp6(12),g.Q6J("ngModel",t.search),g.xp6(16),g.Q6J("ngIf",null==t.UnitList?null:t.UnitList.data),g.xp6(1),g.Q6J("ngIf",null==t.UnitList?null:t.UnitList.data))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,s.O5,o.On,Z.Ro,s.sg,A.Q],styles:["[_ngcontent-%COMP%]::placeholder{font-size:14px}"]}),e})();function ht(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"Name is required"),g.qZA())}function pt(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"Name should not more than 50 character"),g.qZA())}function Zt(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"Name should not be less than 2 characters"),g.qZA())}function ft(e,t){if(1&e&&(g.TgZ(0,"div",58),g.YNc(1,ht,2,0,"div",59),g.YNc(2,pt,2,0,"div",59),g.YNc(3,Zt,2,0,"div",59),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.required),g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.maxlength),g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.minlength)}}function At(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"Email is required"),g.qZA())}function Tt(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"Valid Email is required"),g.qZA())}function qt(e,t){if(1&e&&(g.TgZ(0,"div",58),g.YNc(1,At,2,0,"div",59),g.YNc(2,Tt,2,0,"div",59),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Email.errors.required),g.xp6(1),g.Q6J("ngIf",e.f.Email.errors.email)}}function _t(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"Employee Code is required"),g.qZA())}function vt(e,t){if(1&e&&(g.TgZ(0,"div",58),g.YNc(1,_t,2,0,"div",59),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Employee_Code.errors.required)}}function bt(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"Password is required"),g.qZA())}function xt(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"Minimum 8 characters is required (Lowercase Uppercase,Numbers and Special characters)"),g.qZA())}function Ut(e,t){if(1&e&&(g.TgZ(0,"div",58),g.YNc(1,bt,2,0,"div",59),g.YNc(2,xt,2,0,"div",59),g.qZA()),2&e){const e=g.oxw(2);g.xp6(1),g.Q6J("ngIf",e.f.Password.errors.required),g.xp6(1),g.Q6J("ngIf",e.f.Password.errors.pattern)}}const wt=function(e,t){return{"fa-eye":e,"fa-eye-slash":t}};function Pt(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",7),g.TgZ(1,"label",8),g.TgZ(2,"small",9),g._uU(3,"Password"),g.qZA(),g.TgZ(4,"span",10),g._uU(5,"*"),g.qZA(),g.qZA(),g._UZ(6,"input",61),g.TgZ(7,"i",62),g.NdJ("click",function(){g.CHM(e);const t=g.oxw();return t.showPasswordFlag=!t.showPasswordFlag}),g.qZA(),g.YNc(8,Ut,3,2,"div",12),g.qZA()}if(2&e){const e=g.oxw();g.xp6(6),g.Q6J("type",e.showPasswordFlag?"text":"password"),g.xp6(1),g.Q6J("ngClass",g.WLB(3,wt,!e.showPasswordFlag,e.showPasswordFlag)),g.xp6(1),g.Q6J("ngIf",e.f.Password.touched&&e.f.Password.errors)}}function Nt(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"User type is required"),g.qZA())}function Ct(e,t){if(1&e&&(g.TgZ(0,"div",58),g.YNc(1,Nt,2,0,"div",59),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.User_Type.errors.required)}}function St(e,t){if(1&e&&(g.TgZ(0,"option",28),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.s9C("value",e.ID),g.xp6(1),g.Oqu(e.Name)}}function It(e,t){if(1&e&&(g.TgZ(0,"option",28),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.s9C("value",e.ID),g.xp6(1),g.Oqu(e.Name)}}function yt(e,t){if(1&e&&(g.TgZ(0,"option",28),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.s9C("value",e.Name),g.xp6(1),g.Oqu(e.Name)}}function kt(e,t){1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td",66),g.TgZ(2,"b",67),g._uU(3,"No records found"),g.qZA(),g.qZA(),g.qZA())}function Lt(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g._uU(8),g.qZA(),g.TgZ(9,"td"),g._uU(10),g.qZA(),g.TgZ(11,"td"),g._uU(12),g.qZA(),g.TgZ(13,"td"),g._uU(14),g.qZA(),g.TgZ(15,"td"),g._uU(16),g.qZA(),g.TgZ(17,"td"),g._uU(18),g.qZA(),g.TgZ(19,"td"),g.TgZ(20,"a",68),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).getUser(t.ID)}),g._UZ(21,"img",69),g.qZA(),g._uU(22,"\xa0 "),g.TgZ(23,"a",70),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).confirmModal(t.ID)}),g._UZ(24,"img",71),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=t.$implicit,r=t.index;g.xp6(2),g.Oqu(r+1),g.xp6(2),g.Oqu(e.Employee_Code),g.xp6(2),g.Oqu(e.Name),g.xp6(2),g.Oqu(e.Mobile),g.xp6(2),g.Oqu(e.Email),g.xp6(2),g.Oqu(e.User_Type),g.xp6(2),g.Oqu(e.Location),g.xp6(2),g.Oqu(e.Department),g.xp6(2),g.Oqu(e.Cost_Center)}}function Ft(e,t){if(1&e&&(g.TgZ(0,"tbody",63),g.YNc(1,kt,4,0,"tr",64),g.YNc(2,Lt,25,9,"tr",65),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",0===(null==e.UserList?null:e.UserList.data.length)),g.xp6(1),g.Q6J("ngForOf",null==e.UserList?null:e.UserList.data)}}function Mt(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"app-pagination",72),g.NdJ("loadPage",function(t){return g.CHM(e),g.oxw().pager(t)})("changePerPage",function(t){return g.CHM(e),g.oxw().changePerPage(t)}),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.UserList.total)("lastPage",e.UserList.totalPages)}}let Jt=(()=>{class e{constructor(e,t,r,s,i,c){this.formBuilder=e,this._mastersService=t,this.modalService=r,this.spinner=s,this.dataservice=i,this._excelService=c,this.eventsCounter=new n.xQ,this.ngUnsubscribe=new n.xQ,this.isExpand=!1,this.submitted=!1,this.loading=!1,this.isWebRequest=!1,this.editFromValue=!1,this.showPasswordFlag=!1,this.faEye=a.Mdf,this.faEyeSlash=a.Aq,this.UserList=[],this.HODList=[],this.headList=[],this.search="",this.DepartmentList=[],this.CostCenterList=[],this.searchTermChanged=new n.xQ,this.userForm=this.formBuilder.group({Name:["",[o.kI.required,o.kI.minLength(2),o.kI.maxLength(50)]],Mobile:[null],Email:[null,[o.kI.required,o.kI.email]],Password:["",[o.kI.required,o.kI.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{8,}")]],User_Type:["",[o.kI.required]],HOD:["0"],HEAD:["0"],Department:[""],Cost_Center:[""],Employee_Code:[null,[o.kI.required]],Location:[null],Asset_Holder:[null]}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.getAllUserList(),this.getHODList(),this.getHEADList(),this.getAllDepartmentList(),this.getAllCostCenterList(),this.dataservice.setTitle("User")}searchTasks(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,c.b)(600),(0,l.x)()).subscribe(e=>{this.currentPage=1,this.getAllUserList()}),this.searchTermChanged.next(e)}getAllUserList(){this._mastersService.allMastersUserAPI({pageNumber:this.currentPage,numberOfRows:this.perPage,search:this.search}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.UserList=e},e=>{this._mastersService.showalert(e.error.message,"error")})}toggle(){this.isExpand=!this.isExpand}get f(){return this.userForm.controls}getUser(e){this.editFromValue=!0,this.id=e,this._mastersService.getSingleUserMasterAPI({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.singleUser=e.data,this.userForm.patchValue(e.data),console.log("single user--\x3e",this.singleUser))},e=>{this._mastersService.showalert(e.error.message,"error")})}getHODList(){this._mastersService.allMastersHODAPI({}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.HODList=e.data},e=>{this._mastersService.showalert(e.error.message,"error")})}getHEADList(){this._mastersService.allMastersHEADAPI({}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.headList=e.data},e=>{this._mastersService.showalert(e.error.message,"error")})}getAllDepartmentList(){this._mastersService.getAllMasterDepartments({}).subscribe(e=>{e.error||(this.DepartmentList=e.data)})}getAllCostCenterList(){this._mastersService.getAllMasterCostCenter({}).subscribe(e=>{e.error||(this.CostCenterList=e.data)})}onDepartment(e){this.departmentBind=e.target.value,this.DepartmentList.forEach(t=>{t.Name==e.target.value&&this.userForm.controls.Cost_Center.setValue(t.Cost_Center_Name)})}keyPress(e){let t=String.fromCharCode(e.charCode);8==e.keyCode||/[0-9\+\-\ ]/.test(t)||e.preventDefault()}onSubmit(){if(this.isWebRequest=!0,0==this.editFromValue){this.userForm.controls.Password.setValidators([o.kI.required]),this.userForm.controls.Password.updateValueAndValidity(),this.submitted=!0;let e={Name:this.userForm.value.Name,Employee_Code:this.userForm.value.Employee_Code,Mobile:this.userForm.value.Mobile,Email:this.userForm.value.Email,Password:this.userForm.value.Password,User_Type:this.userForm.value.User_Type,HOD:this.userForm.value.HOD,HEAD:this.userForm.value.HEAD,Department:this.userForm.value.Department,Cost_Center:this.userForm.value.Cost_Center,Location:this.userForm.value.Location};this.spinner.show(),this._mastersService.addUserAPI(e).subscribe(e=>{this.isWebRequest=!1,this.spinner.hide(),e.success?(this._mastersService.showalert(e.message,"success"),this.resetForm(),this.getAllUserList(),this.getHEADList(),this.getHODList()):(this.isWebRequest=!1,this._mastersService.showalert(e.message,"error"))},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}else if(1==this.editFromValue){this.userForm.controls.Password.clearValidators(),this.userForm.controls.Password.updateValueAndValidity(),this.isWebRequest=!0;let e={id:this.id,User_Type:this.userForm.value.User_Type,HOD:this.userForm.value.HOD,HEAD:this.userForm.value.HEAD,Department:this.userForm.value.Department,Cost_Center:this.userForm.value.Cost_Center,Name:this.userForm.value.Name,Employee_Code:this.userForm.value.Employee_Code,Mobile:this.userForm.value.Mobile,Email:this.userForm.value.Email,Location:this.userForm.value.Location};this.spinner.show(),this._mastersService.EditUserMasterAPI(e).subscribe(e=>{this.isWebRequest=!1,this.spinner.hide(),e.success?(this._mastersService.showalert(e.message,"success"),this.getAllUserList(),this.getHEADList(),this.getHODList(),this.resetForm(),this.editFromValue=!1):(this.isWebRequest=!1,this._mastersService.showalert(e.message,"error"))},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}}resetForm(){this.userForm.reset(),this.userForm.patchValue({User_Type:"",HOD:"0",HEAD:"0",Department:"",Cost_Center:"",Name:"",Employee_Code:"",Mobile:"",Email:"",Location:""})}confirmModal(e){this.bsModalRef1=this.modalService.show(d.z,{animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-sm"}),this.bsModalRef1.content.event.subscribe(t=>{"delete"===t.data&&this.deleteUseritem(e)})}deleteUseritem(e){this._mastersService.deleteUserService({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this._mastersService.showalert(e.message,"success"),this.getAllUserList(),this.getHEADList(),this.getHODList())})}pager(e){this.currentPage=e,this.getAllUserList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getAllUserList()}UsersMasterExportToExcel(){this._excelService.downloadUsersExport({search:this.search}).subscribe(e=>(0,u.saveAs)(e,"users-master.xlsx"))}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(o.qu),g.Y36(h.R),g.Y36(p.tT),g.Y36(Z.t2),g.Y36(m.D),g.Y36(f.x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-users"]],decls:148,vars:15,consts:[[1,"container-fluid","mb-2","main-container"],[1,"row","mb-2"],[3,"formGroup"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-body"],[1,"row","h-100","w-100","mb-2"],[1,"col-lg-4","col-12"],["for",""],[1,"text-dark","fw-bold"],[1,"text-danger","fw-bold"],["type","text","formControlName","Name","placeholder","Enter name",1,"form-control","input-group-sm"],["class","text-danger",4,"ngIf"],["type","text","formControlName","Mobile","placeholder","Enter Mobile Number ","minlength","10","maxlength","20",1,"form-control","input-group-sm",3,"keypress"],["type","email","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$","formControlName","Email","placeholder","Enter email Id",1,"form-control","input-group-sm"],["type","text","formControlName","Employee_Code","placeholder","Enter Employee Code",1,"form-control","input-group-sm"],["class","col-lg-4 col-12",4,"ngIf"],["aria-label","Default select example","formControlName","User_Type",1,"form-select"],["disabled","","selected","","value",""],["value","System Admin"],["value","IT"],["value","Admin"],["value","Requester"],["value","Support"],["value","Approver"],["value","IT System Admin"],["value","Admin System Admin"],["aria-label","Default select example","formControlName","HOD",1,"form-select"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","HEAD",1,"form-select"],["formControlName","Department",1,"form-select",3,"change"],["selected","","value",""],[1,"col-lg-3","col-12"],["type","text","formControlName","Cost_Center","readonly","",1,"form-control"],["type","text","formControlName","Location","placeholder","Enter location",1,"form-control","input-group-sm"],[1,"pull-left","mt-3"],[1,"btn","btn-dark","btn-sm",2,"width","180px","font-size","14px",3,"disabled","click"],[1,"col-auto"],[1,"text-start","mb-2"],[1,"fw-bold"],[1,"row","h-100"],[1,"col-lg-6","col-12","mb-2"],[1,"input-group","input-group-sm"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col","lg-4","text-end"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"],[1,""],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col"],["scope","col",1,"w-20"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-pulse"],[1,"text-danger"],["class","small",4,"ngIf"],[1,"small"],["autocomplete","new-password","formControlName","Password","placeholder","Enter password",1,"form-control","form-control","input-group-sm",3,"type"],[1,"position-relative","cursor-pointer","fa","text-color",2,"position","relative!important","float","right","margin-right","6px","margin-top","-25px","z-index","2",3,"ngClass","click"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","9",1,"text-center"],[1,"text-muted",2,"font-size","large"],["tooltip","Edit",1,"cursor-pointer","mr-2",2,"width","60px","font-size","12px","cursor","pointer!important",3,"click"],["src","../../../../../assets/icons/edit-1.png","width","20","height","20"],["tooltip","delete",1,"cursor-pointer",2,"width","60px","font-size","12px","cursor","pointer!important",3,"click"],["src","../../../../../assets/icons/delete-1.png","width","20","height","20"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g._UZ(1,"div",1),g.TgZ(2,"div"),g.TgZ(3,"form",2),g.TgZ(4,"div",1),g.TgZ(5,"div",3),g.TgZ(6,"div",4),g.TgZ(7,"div",5),g.TgZ(8,"div",6),g.TgZ(9,"div",7),g.TgZ(10,"label",8),g.TgZ(11,"small",9),g._uU(12,"Name"),g.qZA(),g.TgZ(13,"span",10),g._uU(14,"*"),g.qZA(),g.qZA(),g._UZ(15,"input",11),g.YNc(16,ft,4,3,"div",12),g.qZA(),g.TgZ(17,"div",7),g.TgZ(18,"label",8),g.TgZ(19,"small",9),g._uU(20,"Mobile Number"),g.qZA(),g.qZA(),g.TgZ(21,"input",13),g.NdJ("keypress",function(e){return t.keyPress(e)}),g.qZA(),g.qZA(),g.TgZ(22,"div",7),g.TgZ(23,"label",8),g.TgZ(24,"small",9),g._uU(25,"Email"),g.qZA(),g.TgZ(26,"span",10),g._uU(27,"*"),g.qZA(),g.qZA(),g._UZ(28,"input",14),g.YNc(29,qt,3,2,"div",12),g.qZA(),g.qZA(),g.TgZ(30,"div",6),g.TgZ(31,"div",7),g.TgZ(32,"label",8),g.TgZ(33,"small",9),g._uU(34,"Employee Code"),g.qZA(),g.TgZ(35,"span",10),g._uU(36,"*"),g.qZA(),g.qZA(),g._UZ(37,"input",15),g.YNc(38,vt,2,1,"div",12),g.qZA(),g.YNc(39,Pt,9,6,"div",16),g.TgZ(40,"div",7),g.TgZ(41,"label",8),g.TgZ(42,"small",9),g._uU(43,"Select User Type"),g.qZA(),g.TgZ(44,"span",10),g._uU(45,"*"),g.qZA(),g.qZA(),g.TgZ(46,"select",17),g.TgZ(47,"option",18),g._uU(48,"Select User Type"),g.qZA(),g.TgZ(49,"option",19),g._uU(50,"Super Admin"),g.qZA(),g.TgZ(51,"option",20),g._uU(52,"IT"),g.qZA(),g.TgZ(53,"option",21),g._uU(54,"Admin"),g.qZA(),g.TgZ(55,"option",22),g._uU(56,"Requester"),g.qZA(),g.TgZ(57,"option",23),g._uU(58,"Support"),g.qZA(),g.TgZ(59,"option",24),g._uU(60,"Approver"),g.qZA(),g.TgZ(61,"option",25),g._uU(62,"IT System Admin"),g.qZA(),g.TgZ(63,"option",26),g._uU(64,"Admin System Admin"),g.qZA(),g.qZA(),g.YNc(65,Ct,2,1,"div",12),g.qZA(),g.qZA(),g.TgZ(66,"div",6),g.TgZ(67,"div",7),g.TgZ(68,"label",8),g.TgZ(69,"small",9),g._uU(70,"Select HOD"),g.qZA(),g.qZA(),g.TgZ(71,"select",27),g.TgZ(72,"option",28),g._uU(73,"Select HOD"),g.qZA(),g.YNc(74,St,2,2,"option",29),g.qZA(),g.qZA(),g.TgZ(75,"div",7),g.TgZ(76,"label",8),g.TgZ(77,"small",9),g._uU(78,"Select HEAD"),g.qZA(),g.qZA(),g.TgZ(79,"select",30),g.TgZ(80,"option",28),g._uU(81,"Select HEAD"),g.qZA(),g.YNc(82,It,2,2,"option",29),g.qZA(),g.qZA(),g.TgZ(83,"div",7),g.TgZ(84,"label",8),g.TgZ(85,"small",9),g._uU(86,"Department"),g.qZA(),g.qZA(),g.TgZ(87,"select",31),g.NdJ("change",function(e){return t.onDepartment(e)}),g.TgZ(88,"option",32),g._uU(89,"Select Department"),g.qZA(),g.YNc(90,yt,2,2,"option",29),g.qZA(),g.qZA(),g.qZA(),g.TgZ(91,"div",6),g.TgZ(92,"div",33),g.TgZ(93,"label",8),g.TgZ(94,"small",9),g._uU(95,"Cost Center "),g.qZA(),g.qZA(),g._UZ(96,"input",34),g.qZA(),g.TgZ(97,"div",7),g.TgZ(98,"label",8),g.TgZ(99,"small",9),g._uU(100,"Location"),g.qZA(),g.qZA(),g._UZ(101,"input",35),g.qZA(),g.qZA(),g.TgZ(102,"div",36),g.TgZ(103,"button",37),g.NdJ("click",function(){return t.onSubmit()}),g._uU(104,"Submit"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(105,"div",1),g.TgZ(106,"div",38),g.TgZ(107,"div",39),g.TgZ(108,"h5",40),g._uU(109,"Users List"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(110,"div",41),g.TgZ(111,"div",42),g.TgZ(112,"div",43),g.TgZ(113,"span",44),g._UZ(114,"img",45),g.qZA(),g.TgZ(115,"input",46),g.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchTasks(e)}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(116,"div",47),g.TgZ(117,"label",8),g._UZ(118,"small",9),g.qZA(),g.TgZ(119,"button",48),g.NdJ("click",function(){return t.UsersMasterExportToExcel()}),g._uU(120,"Export To Excel"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(121,"div",49),g.TgZ(122,"table",50),g.TgZ(123,"thead",51),g.TgZ(124,"tr"),g.TgZ(125,"th",52),g._uU(126," Sr.No"),g.qZA(),g.TgZ(127,"th",53),g._uU(128,"Employee Code"),g.qZA(),g.TgZ(129,"th",53),g._uU(130,"Name"),g.qZA(),g.TgZ(131,"th",53),g._uU(132,"Mobile Number"),g.qZA(),g.TgZ(133,"th",52),g._uU(134,"Email"),g.qZA(),g.TgZ(135,"th",54),g._uU(136,"User Type"),g.qZA(),g.TgZ(137,"th",54),g._uU(138,"Location"),g.qZA(),g.TgZ(139,"th",54),g._uU(140,"Department"),g.qZA(),g.TgZ(141,"th",54),g._uU(142,"Cost Center"),g.qZA(),g.TgZ(143,"th",54),g._uU(144,"Action"),g.qZA(),g.qZA(),g.qZA(),g.YNc(145,Ft,3,2,"tbody",55),g.qZA(),g.qZA(),g.YNc(146,Mt,1,4,"app-pagination",56),g.qZA(),g._UZ(147,"ngx-spinner",57)),2&e&&(g.xp6(3),g.Q6J("formGroup",t.userForm),g.xp6(13),g.Q6J("ngIf",t.f.Name.touched&&t.f.Name.errors),g.xp6(13),g.Q6J("ngIf",t.f.Email.touched&&t.f.Email.errors),g.xp6(9),g.Q6J("ngIf",t.f.Employee_Code.touched&&t.f.Employee_Code.errors),g.xp6(1),g.Q6J("ngIf",0==t.editFromValue),g.xp6(26),g.Q6J("ngIf",t.f.User_Type.touched&&t.f.User_Type.errors),g.xp6(7),g.Q6J("value",0),g.xp6(2),g.Q6J("ngForOf",t.HODList),g.xp6(6),g.Q6J("value",0),g.xp6(2),g.Q6J("ngForOf",t.headList),g.xp6(8),g.Q6J("ngForOf",t.DepartmentList),g.xp6(13),g.Q6J("disabled",t.userForm.invalid||t.isWebRequest),g.xp6(12),g.Q6J("ngModel",t.search),g.xp6(30),g.Q6J("ngIf",null==t.UserList?null:t.UserList.data),g.xp6(1),g.Q6J("ngIf",null==t.UserList?null:t.UserList.data))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,s.O5,o.wO,o.nD,o.c5,o.EJ,o.YN,o.Kr,s.sg,o.On,Z.Ro,s.mk,A.Q],styles:["td[_ngcontent-%COMP%]{width:113px}[_ngcontent-%COMP%]::placeholder{font-size:14px}"]}),e})(),Et=(()=>{class e{constructor(e,t,r){this.bsModalRef=e,this.formBuilder=t,this._mastersService=r,this.event=new g.vpe,this.VendorViewList=[]}ngOnInit(){}triggerEvent(e){this.event.emit({data:e})}close(){this.bsModalRef.hide()}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(p.UZ),g.Y36(o.qu),g.Y36(h.R))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-view-vendor"]],inputs:{item:"item"},decls:111,vars:18,consts:[[1,"modal-header","bg-light"],[1,"modal-title","pull-left","fw-bold"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","bg-light"],[1,"m-3"],[1,"row","mb-2"],[1,"col-lg-4","col-12"],["for","",1,"fw-bold","text-muted"],[1,"text-small"],[1,"col"],[1,"fw-bold"],[1,"row"],[1,"modal-footer","justify-content-evenly"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"h5",1),g._uU(2,"View Vendor Details"),g.qZA(),g.TgZ(3,"button",2),g.NdJ("click",function(){return t.close()}),g.qZA(),g.qZA(),g.TgZ(4,"div",3),g.TgZ(5,"div",4),g.TgZ(6,"div",5),g.TgZ(7,"div",6),g.TgZ(8,"label",7),g._uU(9,"ALT Code"),g.qZA(),g.TgZ(10,"p",8),g._uU(11),g.qZA(),g.qZA(),g.TgZ(12,"div",6),g.TgZ(13,"label",7),g._uU(14,"Name"),g.qZA(),g.TgZ(15,"p",8),g._uU(16),g.qZA(),g.qZA(),g.TgZ(17,"div",6),g.TgZ(18,"label",7),g._uU(19,"Contact Person"),g.qZA(),g.TgZ(20,"p",8),g._uU(21),g.qZA(),g.qZA(),g.qZA(),g.TgZ(22,"div",5),g.TgZ(23,"div",6),g.TgZ(24,"label",7),g._uU(25,"Email"),g.qZA(),g.TgZ(26,"p",8),g._uU(27),g.qZA(),g.qZA(),g.TgZ(28,"div",6),g.TgZ(29,"label",7),g._uU(30,"Phone"),g.qZA(),g.TgZ(31,"p",8),g._uU(32),g.qZA(),g.qZA(),g.TgZ(33,"div",6),g.TgZ(34,"label",7),g._uU(35,"Country"),g.qZA(),g.TgZ(36,"p",8),g._uU(37),g.qZA(),g.qZA(),g.qZA(),g.TgZ(38,"div",5),g.TgZ(39,"div",6),g.TgZ(40,"label",7),g._uU(41,"State"),g.qZA(),g.TgZ(42,"p",8),g._uU(43),g.qZA(),g.qZA(),g.TgZ(44,"div",6),g.TgZ(45,"label",7),g._uU(46,"City"),g.qZA(),g.TgZ(47,"p",8),g._uU(48),g.qZA(),g.qZA(),g.TgZ(49,"div",6),g.TgZ(50,"label",7),g._uU(51,"Address"),g.qZA(),g.TgZ(52,"p",8),g._uU(53),g.qZA(),g.qZA(),g.qZA(),g.TgZ(54,"div",5),g.TgZ(55,"div",6),g.TgZ(56,"label",7),g._uU(57,"Pincode"),g.qZA(),g.TgZ(58,"p",8),g._uU(59),g.qZA(),g.qZA(),g.TgZ(60,"div",6),g.TgZ(61,"label",7),g._uU(62,"Description"),g.qZA(),g.TgZ(63,"p",8),g._uU(64),g.qZA(),g.qZA(),g.TgZ(65,"div",6),g.TgZ(66,"label",7),g._uU(67,"GST No"),g.qZA(),g.TgZ(68,"p",8),g._uU(69),g.qZA(),g.qZA(),g.qZA(),g.TgZ(70,"div",5),g.TgZ(71,"div",6),g.TgZ(72,"label",7),g._uU(73,"PAN Number"),g.qZA(),g.TgZ(74,"p",8),g._uU(75),g.qZA(),g.qZA(),g.qZA(),g._UZ(76,"hr"),g.TgZ(77,"div",9),g.TgZ(78,"h6",10),g._uU(79,"Bank Details"),g.qZA(),g.qZA(),g._UZ(80,"hr"),g.TgZ(81,"div",11),g.TgZ(82,"div",6),g.TgZ(83,"label",7),g._uU(84,"Bank Name"),g.qZA(),g.TgZ(85,"p",8),g._uU(86),g.qZA(),g.qZA(),g.TgZ(87,"div",6),g.TgZ(88,"label",7),g._uU(89,"Account Number"),g.qZA(),g.TgZ(90,"p",8),g._uU(91),g.qZA(),g.qZA(),g.TgZ(92,"div",6),g.TgZ(93,"label",7),g._uU(94,"IFSC Code"),g.qZA(),g.TgZ(95,"p",8),g._uU(96),g.qZA(),g.qZA(),g.qZA(),g.TgZ(97,"div",11),g.TgZ(98,"div",6),g.TgZ(99,"label",7),g._uU(100,"Bank Branch"),g.qZA(),g.TgZ(101,"p",8),g._uU(102),g.qZA(),g.qZA(),g.TgZ(103,"div",6),g.TgZ(104,"label",7),g._uU(105,"Bank Address"),g.qZA(),g.TgZ(106,"p",8),g._uU(107),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(108,"div",12),g.TgZ(109,"button",13),g.NdJ("click",function(){return t.close()}),g._uU(110,"Close"),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(11),g.Oqu(t.item.ALT_Code),g.xp6(5),g.Oqu(t.item.Name),g.xp6(5),g.Oqu(t.item.Contact_Person),g.xp6(6),g.Oqu(t.item.Email),g.xp6(5),g.Oqu(t.item.Phone),g.xp6(5),g.Oqu(t.item.Country),g.xp6(6),g.Oqu(t.item.State),g.xp6(5),g.Oqu(t.item.City),g.xp6(5),g.Oqu(t.item.Address),g.xp6(6),g.Oqu(t.item.Pincode),g.xp6(5),g.Oqu(t.item.Description),g.xp6(5),g.Oqu(t.item.GST_No),g.xp6(6),g.Oqu(t.item.PAN_No),g.xp6(11),g.Oqu(t.item.Bank_Name),g.xp6(5),g.Oqu(t.item.Account_Number),g.xp6(5),g.Oqu(t.item.IFSC_Code),g.xp6(6),g.Oqu(t.item.Bank_Branch),g.xp6(5),g.Oqu(t.item.Bank_Address))},styles:["p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:.5rem;font-size:14px}"]}),e})(),Ot=(()=>{class e{constructor(){this.countryArray=[{name:"Afghanistan",code:"AF"},{name:"\xc5land Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"AndorrA",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:'Cote D"Ivoire',code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:'Korea, Democratic People"S Republic of',code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:'Lao People"S Democratic Republic',code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia",code:"RS"},{name:"Montenegro",code:"ME"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}]}AppConstantsService(e){throw new Error("Method not implemented.")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Qt(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"Name is required"),g.qZA())}function Yt(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"Name should not more than 50 character"),g.qZA())}function Dt(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"Name should not be less than 2 characters"),g.qZA())}function Rt(e,t){if(1&e&&(g.TgZ(0,"div",58),g.YNc(1,Qt,2,0,"div",59),g.YNc(2,Yt,2,0,"div",59),g.YNc(3,Dt,2,0,"div",59),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.required),g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.maxlength),g.xp6(1),g.Q6J("ngIf",e.f.Name.errors.minlength)}}function Vt(e,t){if(1&e&&(g.TgZ(0,"option",61),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.s9C("value",e.name),g.xp6(1),g.hij(" ",e.name," ")}}function Gt(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"Pin code is required"),g.qZA())}function Bt(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"Pincode is required"),g.qZA())}function Ht(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"Pincode is required"),g.qZA())}function Wt(e,t){if(1&e&&(g.TgZ(0,"div",58),g.YNc(1,Gt,2,0,"div",59),g.YNc(2,Bt,2,0,"div",59),g.YNc(3,Ht,2,0,"div",59),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Pincode.errors.required),g.xp6(1),g.Q6J("ngIf",e.f.Pincode.errors.maxlength),g.xp6(1),g.Q6J("ngIf",e.f.Pincode.errors.minlength)}}function zt(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"PAN number must be 10 character"),g.qZA())}function $t(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"PAN number must be 10 character"),g.qZA())}function Kt(e,t){if(1&e&&(g.TgZ(0,"div",58),g.YNc(1,zt,2,0,"div",59),g.YNc(2,$t,2,0,"div",59),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.PAN_No.errors.maxlength),g.xp6(1),g.Q6J("ngIf",e.f.PAN_No.errors.minlength)}}function Xt(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"GST must be 15 character is required"),g.qZA())}function jt(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"GST must be 15 character is required"),g.qZA())}function er(e,t){if(1&e&&(g.TgZ(0,"div",58),g.YNc(1,Xt,2,0,"div",59),g.YNc(2,jt,2,0,"div",59),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.GST_No.errors.maxlength),g.xp6(1),g.Q6J("ngIf",e.f.GST_No.errors.minlength)}}function tr(e,t){1&e&&(g.TgZ(0,"div",60),g._uU(1,"Address is required"),g.qZA())}function rr(e,t){if(1&e&&(g.TgZ(0,"div",58),g.YNc(1,tr,2,0,"div",59),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.f.Address.errors.required)}}function sr(e,t){1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td",65),g.TgZ(2,"b",66),g._uU(3,"No records\nfound"),g.qZA(),g.qZA(),g.qZA())}function ir(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g._uU(8),g.qZA(),g.TgZ(9,"td"),g._uU(10),g.qZA(),g.TgZ(11,"td"),g._uU(12),g.qZA(),g.TgZ(13,"td"),g._uU(14),g.qZA(),g.TgZ(15,"td"),g._uU(16),g.qZA(),g.TgZ(17,"td"),g.TgZ(18,"a",67),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).getVendor(t.ID)}),g._UZ(19,"img",68),g.qZA(),g._uU(20,"\xa0 "),g.TgZ(21,"a",69),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).ViewVenderModal(t)}),g._UZ(22,"img",70),g.qZA(),g._uU(23,"\xa0 "),g.TgZ(24,"a",69),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).confirmModal(t.ID)}),g._UZ(25,"img",71),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=t.$implicit,r=t.index;g.xp6(2),g.Oqu(r+1),g.xp6(2),g.Oqu(e.ALT_Code),g.xp6(2),g.Oqu(e.Name),g.xp6(2),g.Oqu(e.Contact_Person),g.xp6(2),g.Oqu(e.Email),g.xp6(2),g.Oqu(e.Country),g.xp6(2),g.Oqu(e.State),g.xp6(2),g.Oqu(e.City)}}function or(e,t){if(1&e&&(g.TgZ(0,"tbody",62),g.YNc(1,sr,4,0,"tr",63),g.YNc(2,ir,26,8,"tr",64),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",0===e.VendorList.data.length),g.xp6(1),g.Q6J("ngForOf",null==e.VendorList?null:e.VendorList.data)}}function ar(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"app-pagination",72),g.NdJ("loadPage",function(t){return g.CHM(e),g.oxw().pager(t)})("changePerPage",function(t){return g.CHM(e),g.oxw().changePerPage(t)}),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("currentPage",e.currentPage)("perPage",e.perPage)("total",e.VendorList.total)("lastPage",e.VendorList.totalPages)}}const nr=[{path:"product-master",component:it},{path:"location-master",component:ve},{path:"vendor-master",component:(()=>{class e{constructor(e,t,r,s,i,a,c){this.formBuilder=e,this._mastersService=t,this.modalService=r,this.appConstantsService=s,this.spinner=i,this.dataservice=a,this._excelService=c,this.eventsCounter=new n.xQ,this.ngUnsubscribe=new n.xQ,this.isExpand=!1,this.submitted=!1,this.isWebRequest=!1,this.editFromValue=!1,this.VendorList=[],this.assignCountryArrayPermanant=this.appConstantsService.countryArray,this.selectedCountry="India",this.countries=[],this.search="",this.searchTermChanged=new n.xQ,this.vendorForm=this.formBuilder.group({Name:["",[o.kI.required,o.kI.minLength(2),o.kI.maxLength(50)]],Contact_Person:[null],Email:[null],Country:["India"],State:[null],City:[null],Pincode:["",[o.kI.required,o.kI.maxLength(6),o.kI.minLength(6)]],PAN_No:["",[o.kI.maxLength(10),o.kI.minLength(10)]],GST_No:["",[o.kI.maxLength(15),o.kI.minLength(15)]],Description:[null],Account_Number:[null],Bank_Branch:[null],Bank_Name:[null],IFSC_Code:[null],Bank_Address:[null],Phone:[null],Address:[null,[o.kI.required]],ALT_Code:[null]}),this.perPage=this._mastersService.perPage,this.currentPage=1}ngOnInit(){this.isWebRequest=!1,this.dataservice.setTitle("Vendor"),this.getAllVendorList()}searchTasks(e){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,c.b)(600),(0,l.x)()).subscribe(e=>{this.currentPage=1,this.getAllVendorList()}),this.searchTermChanged.next(e)}get f(){return this.vendorForm.controls}getAllVendorList(){this._mastersService.allMastersVendorAPI({pageNumber:this.currentPage,numberOfRows:this.perPage,search:this.search}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):this.VendorList=e},e=>{this._mastersService.showalert(e.error.message,"error")})}getVendor(e){this.editFromValue=!0,this.id=e,this._mastersService.getSingleVendorMasterAPI({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this.vendorLocation=e.data,this.vendorForm.patchValue(e.data))},e=>{this._mastersService.showalert(e.error.message,"error")})}onSubmit(){if(this.isWebRequest=!0,0==this.editFromValue){let e={ALT_Code:this.vendorForm.value.ALT_Code,Name:this.vendorForm.value.Name,Contact_Person:this.vendorForm.value.Contact_Person,Email:this.vendorForm.value.Email,Phone:this.vendorForm.value.Phone,Country:this.vendorForm.value.Country,State:this.vendorForm.value.State,City:this.vendorForm.value.City,Pincode:this.vendorForm.value.Pincode,Description:this.vendorForm.value.Description,Address:this.vendorForm.value.Address,PAN_No:this.vendorForm.value.PAN_No,GST_No:this.vendorForm.value.GST_No,Account_Number:this.vendorForm.value.Account_Number,Bank_Branch:this.vendorForm.value.Bank_Branch,Bank_Name:this.vendorForm.value.Bank_Name,IFSC_Code:this.vendorForm.value.IFSC_Code,Bank_Address:this.vendorForm.value.Bank_Address};this.spinner.show(),this._mastersService.addVendorAPI(e).subscribe(e=>{this.isWebRequest=!1,this.spinner.hide(),e.error?(this.isWebRequest=!1,this._mastersService.showalert(e.message,"error")):(this._mastersService.showalert(e.message,"success"),this.resetForm(),this.getAllVendorList())},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}else if(1==this.editFromValue){this.isWebRequest=!0;let e=Object.assign({id:this.id},this.vendorForm.value);this.spinner.show(),this._mastersService.EditVendorMasterAPI(e).subscribe(e=>{this.isWebRequest=!1,this.spinner.hide(),e.error?(this.isWebRequest=!1,this._mastersService.showalert(e.message,"error")):(this._mastersService.showalert(e.message,"success"),this.getAllVendorList(),this.resetForm(),this.editFromValue=!1)},e=>{this.spinner.hide(),this.isWebRequest=!1,this._mastersService.showalert(e.error.message,"error")})}}resetForm(){this.vendorForm.reset(),this.vendorForm.patchValue({ALT_Code:"",Name:"",Contact_Person:"",Email:"",Phone:"",Country:"India",State:"",City:"",Pincode:"",Description:"",Address:"",PAN_No:"",GST_No:"",Account_Number:"",Bank_Branch:"",Bank_Name:"",IFSC_Code:"",Bank_Address:""})}keyPress(e){let t=String.fromCharCode(e.charCode);8==e.keyCode||/[0-9\+\-\ ]/.test(t)||e.preventDefault()}ViewVenderModal(e){this.bsModalRef1=this.modalService.show(Et,{initialState:{type:"view-vendor",item:e},animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-lg"})}confirmModal(e){this.bsModalRef1=this.modalService.show(d.z,{animated:!0,keyboard:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-sm"}),this.bsModalRef1.content.event.subscribe(t=>{"delete"===t.data&&this.deleteVendoritem(e)})}deleteVendoritem(e){this._mastersService.deleteVendorService({id:e}).subscribe(e=>{e.error?this._mastersService.showalert(e.message?e.message:e.data[0].msg,"error"):(this._mastersService.showalert(e.message,"success"),this.getAllVendorList())})}pager(e){this.currentPage=e,this.getAllVendorList()}changePerPage(e){this.currentPage=1,this.perPage=e,this._mastersService.perPage=this.perPage,this.getAllVendorList()}VendorMasterExportToExcel(){this._excelService.downloadVendorExport({search:this.search}).subscribe(e=>(0,u.saveAs)(e,"vendor-master.xlsx"))}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(o.qu),g.Y36(h.R),g.Y36(p.tT),g.Y36(Ot),g.Y36(Z.t2),g.Y36(m.D),g.Y36(f.x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-vendor"]],decls:165,vars:11,consts:[[1,"container-fluid","mb-2","main-container"],[1,"row","mb-2"],[3,"formGroup"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-body"],[1,"row","h-100","w-100","mb-2"],[1,"col-lg-3","col-12"],["for",""],[1,"text-dark","fw-bold"],["type","text","formControlName","ALT_Code","placeholder","Enter code",1,"form-control","input-group-sm"],[1,"text-danger","fw-bold"],["type","text","formControlName","Name","placeholder","Enter name",1,"form-control","input-group-sm"],["class","text-danger",4,"ngIf"],["type","text","formControlName","Contact_Person","placeholder","Enter contact person name",1,"form-control","input-group-sm"],["type","email","formControlName","Email","placeholder","Enter Email Id",1,"form-control","input-group-sm"],[1,"col-lg-4","col-12"],["type","text","formControlName","Phone","placeholder","Enter phone number","minlength","10","maxlength","20",1,"form-control","input-group-sm",3,"keypress"],["aria-label","Default select example","formControlName","Country",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","State","placeholder","Enter state",1,"form-control","input-group-sm"],["type","text","formControlName","City","placeholder","Enter City",1,"form-control","input-group-sm"],["type","text","formControlName","Pincode","placeholder","Enter Pin code",1,"form-control","input-group-sm",3,"keypress"],["type","text","formControlName","PAN_No","placeholder","Enter PAN number",1,"form-control","input-group-sm"],["type","text","formControlName","GST_No","placeholder","Enter GST Number",1,"form-control","input-group-sm"],[1,"col-lg-6","col-12"],["id","exampleFormControlTextarea1","rows","3","formControlName","Address","placeholder","Enter address",1,"form-control"],["id","exampleFormControlTextarea2","rows","3","formControlName","Description","placeholder","Enter description",1,"form-control"],[1,"row"],[1,"fw-bold"],["type","text","formControlName","Account_Number","placeholder","Enter account number","maxlength","34",1,"form-control","input-group-sm",3,"keypress"],["type","text","formControlName","Bank_Branch","placeholder","Enter bank branch",1,"form-control","input-group-sm"],["type","text","formControlName","Bank_Name","placeholder","Enter bank name",1,"form-control","input-group-sm"],["type","text","formControlName","IFSC_Code","placeholder","Enter IFSC code",1,"form-control","input-group-sm"],[1,"col-lg-8","col-12"],["type","text","formControlName","Bank_Address","placeholder","Enter bank address",1,"form-control","input-group-sm"],[1,"row","mt-3"],[1,"float-left"],[1,"btn","btn-dark","btn-sm",2,"width","180px","font-size","14px",3,"disabled","click"],[1,"col-auto"],[1,"text-start","mb-2"],[1,"row","h-100"],[1,"col-lg-6","col-12","mb-2"],[1,"input-group","input-group-sm"],[1,"input-group-text","bg-white"],["src","../../../../../assets/icons/search.png","width","18"],["type","text","placeholder","Search","aria-controls","example1",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col","lg-4","text-end"],[1,"btn","btn-dark","btn-sm","float-right",2,"font-size","13px",3,"click"],[1,"table-responsive"],[1,"table","table-bordered","table-sm","shadow-sm","text-muted","white-space-nowap","mb-0"],[1,"table-light"],["scope","col",1,"w-4"],["scope","col",1,"w-20"],["scope","col",1,"w-10"],["class","bg-white",4,"ngIf"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-pulse"],[1,"text-danger"],["class","small",4,"ngIf"],[1,"small"],[3,"value"],[1,"bg-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","9",1,"text-center"],[1,"text-muted",2,"font-size","large"],[1,"cursor-pointer","mr-2",2,"width","60px","font-size","12px","cursor","pointer!important",3,"click"],["src","../../../../../assets/icons/edit-1.png","width","17","height","17"],[1,"cursor-pointer",2,"width","60px","font-size","12px","cursor","pointer!important",3,"click"],["src","../../../../../assets/icons/eye.png","width","17","height","17"],["src","../../../../../assets/icons/delete-1.png","width","17","height","17"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g._UZ(1,"div",1),g.TgZ(2,"div"),g.TgZ(3,"form",2),g.TgZ(4,"div",1),g.TgZ(5,"div",3),g.TgZ(6,"div",4),g.TgZ(7,"div",5),g.TgZ(8,"div",6),g.TgZ(9,"div",7),g.TgZ(10,"label",8),g.TgZ(11,"small",9),g._uU(12,"ALT Code"),g.qZA(),g.qZA(),g._UZ(13,"input",10),g.qZA(),g.TgZ(14,"div",7),g.TgZ(15,"label",8),g.TgZ(16,"small",9),g._uU(17,"Name"),g.qZA(),g.TgZ(18,"span",11),g._uU(19,"*"),g.qZA(),g.qZA(),g._UZ(20,"input",12),g.YNc(21,Rt,4,3,"div",13),g.qZA(),g.TgZ(22,"div",7),g.TgZ(23,"label",8),g.TgZ(24,"small",9),g._uU(25,"Contact Person"),g.qZA(),g.qZA(),g._UZ(26,"input",14),g.qZA(),g.TgZ(27,"div",7),g.TgZ(28,"label",8),g.TgZ(29,"small",9),g._uU(30,"Email"),g.qZA(),g.qZA(),g._UZ(31,"input",15),g.qZA(),g.qZA(),g.TgZ(32,"div",6),g.TgZ(33,"div",16),g.TgZ(34,"label",8),g.TgZ(35,"small",9),g._uU(36,"Phone"),g.qZA(),g.qZA(),g.TgZ(37,"input",17),g.NdJ("keypress",function(e){return t.keyPress(e)}),g.qZA(),g.qZA(),g.TgZ(38,"div",16),g.TgZ(39,"label",8),g.TgZ(40,"small",9),g._uU(41,"Select Country"),g.qZA(),g.qZA(),g.TgZ(42,"select",18),g.YNc(43,Vt,2,2,"option",19),g.qZA(),g.qZA(),g.TgZ(44,"div",16),g.TgZ(45,"label",8),g.TgZ(46,"small",9),g._uU(47,"State"),g.qZA(),g.qZA(),g._UZ(48,"input",20),g.qZA(),g.qZA(),g.TgZ(49,"div",6),g.TgZ(50,"div",7),g.TgZ(51,"label",8),g.TgZ(52,"small",9),g._uU(53,"City"),g.qZA(),g.qZA(),g._UZ(54,"input",21),g.qZA(),g.TgZ(55,"div",7),g.TgZ(56,"label",8),g.TgZ(57,"small",9),g._uU(58,"Pin Code"),g.qZA(),g.TgZ(59,"span",11),g._uU(60,"*"),g.qZA(),g.qZA(),g.TgZ(61,"input",22),g.NdJ("keypress",function(e){return t.keyPress(e)}),g.qZA(),g.YNc(62,Wt,4,3,"div",13),g.qZA(),g.TgZ(63,"div",7),g.TgZ(64,"label",8),g.TgZ(65,"small",9),g._uU(66,"PAN Number"),g.qZA(),g.qZA(),g._UZ(67,"input",23),g.YNc(68,Kt,3,2,"div",13),g.qZA(),g.TgZ(69,"div",7),g.TgZ(70,"label",8),g.TgZ(71,"small",9),g._uU(72,"GST Number"),g.qZA(),g.qZA(),g._UZ(73,"input",24),g.YNc(74,er,3,2,"div",13),g.qZA(),g.qZA(),g.TgZ(75,"div",6),g.TgZ(76,"div",25),g.TgZ(77,"label",8),g.TgZ(78,"small",9),g._uU(79,"Address"),g.qZA(),g.TgZ(80,"span",11),g._uU(81,"*"),g.qZA(),g.qZA(),g._UZ(82,"textarea",26),g.YNc(83,rr,2,1,"div",13),g.qZA(),g.TgZ(84,"div",25),g.TgZ(85,"label",8),g.TgZ(86,"small",9),g._uU(87,"Description"),g.qZA(),g.qZA(),g._UZ(88,"textarea",27),g.qZA(),g.qZA(),g.TgZ(89,"div",28),g.TgZ(90,"h6",29),g._uU(91,"Bank Details"),g.qZA(),g.qZA(),g._UZ(92,"hr"),g.TgZ(93,"div",6),g.TgZ(94,"div",16),g.TgZ(95,"label",8),g.TgZ(96,"small",9),g._uU(97,"Account Number"),g.qZA(),g.qZA(),g.TgZ(98,"input",30),g.NdJ("keypress",function(e){return t.keyPress(e)}),g.qZA(),g.qZA(),g.TgZ(99,"div",16),g.TgZ(100,"label",8),g.TgZ(101,"small",9),g._uU(102,"Branch"),g.qZA(),g.qZA(),g._UZ(103,"input",31),g.qZA(),g.TgZ(104,"div",16),g.TgZ(105,"label",8),g.TgZ(106,"small",9),g._uU(107,"Bank Name"),g.qZA(),g.qZA(),g._UZ(108,"input",32),g.qZA(),g.qZA(),g.TgZ(109,"div",6),g.TgZ(110,"div",16),g.TgZ(111,"label",8),g.TgZ(112,"small",9),g._uU(113,"IFSC Code"),g.qZA(),g.qZA(),g._UZ(114,"input",33),g.qZA(),g.TgZ(115,"div",34),g.TgZ(116,"label",8),g.TgZ(117,"small",9),g._uU(118,"Bank Address"),g.qZA(),g.qZA(),g._UZ(119,"input",35),g.qZA(),g.qZA(),g.TgZ(120,"div",36),g.TgZ(121,"div",37),g.TgZ(122,"button",38),g.NdJ("click",function(){return t.onSubmit()}),g._uU(123,"Submit"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(124,"div",1),g.TgZ(125,"div",39),g.TgZ(126,"div",40),g.TgZ(127,"h5",29),g._uU(128,"Vendor List"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(129,"div",41),g.TgZ(130,"div",42),g.TgZ(131,"div",43),g.TgZ(132,"span",44),g._UZ(133,"img",45),g.qZA(),g.TgZ(134,"input",46),g.NdJ("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.searchTasks(e)}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(135,"div",47),g.TgZ(136,"label",8),g._UZ(137,"small",9),g.qZA(),g.TgZ(138,"button",48),g.NdJ("click",function(){return t.VendorMasterExportToExcel()}),g._uU(139,"Export To Excel"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(140,"div",49),g.TgZ(141,"table",50),g.TgZ(142,"thead",51),g.TgZ(143,"tr"),g.TgZ(144,"th",52),g._uU(145," Sr.No"),g.qZA(),g.TgZ(146,"th",53),g._uU(147,"ALT Code"),g.qZA(),g.TgZ(148,"th",53),g._uU(149,"Name"),g.qZA(),g.TgZ(150,"th",53),g._uU(151,"Contact Person"),g.qZA(),g.TgZ(152,"th",53),g._uU(153,"Email"),g.qZA(),g.TgZ(154,"th",54),g._uU(155,"Country"),g.qZA(),g.TgZ(156,"th",54),g._uU(157,"State"),g.qZA(),g.TgZ(158,"th",54),g._uU(159,"City"),g.qZA(),g.TgZ(160,"th",54),g._uU(161,"Action"),g.qZA(),g.qZA(),g.qZA(),g.YNc(162,or,3,2,"tbody",55),g.qZA(),g.qZA(),g.YNc(163,ar,1,4,"app-pagination",56),g.qZA(),g._UZ(164,"ngx-spinner",57)),2&e&&(g.xp6(3),g.Q6J("formGroup",t.vendorForm),g.xp6(18),g.Q6J("ngIf",t.f.Name.touched&&t.f.Name.errors),g.xp6(22),g.Q6J("ngForOf",t.assignCountryArrayPermanant),g.xp6(19),g.Q6J("ngIf",t.f.Pincode.touched&&t.f.Pincode.errors),g.xp6(6),g.Q6J("ngIf",t.f.PAN_No.touched&&t.f.PAN_No.errors),g.xp6(6),g.Q6J("ngIf",t.f.GST_No.touched&&t.f.GST_No.errors),g.xp6(9),g.Q6J("ngIf",t.f.Address.touched&&t.f.Address.errors),g.xp6(39),g.Q6J("disabled",t.vendorForm.invalid||t.isWebRequest),g.xp6(12),g.Q6J("ngModel",t.search),g.xp6(28),g.Q6J("ngIf",t.VendorList.data),g.xp6(1),g.Q6J("ngIf",null==t.VendorList?null:t.VendorList.data))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,s.O5,o.wO,o.nD,o.EJ,s.sg,o.On,Z.Ro,o.YN,o.Kr,A.Q],styles:["[_ngcontent-%COMP%]::placeholder{font-size:14px}hr[_ngcontent-%COMP%]{margin:.25rem 0}.drop-country[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da}"]}),e})()},{path:"user-master",component:Jt},{path:"unit-master",component:mt},{path:"unit-issuetype",component:se},{path:"department",component:Y},{path:"cost-center",component:P}];let cr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[i.Bz.forChild(nr)],i.Bz]}),e})();var lr=r(1841),dr=r(9798),ur=r(7827),gr=r(6595),mr=r(8668),hr=r(9189);let pr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({providers:[h.R,p.UZ,N.V,D.$,mr.P,{provide:lr.TP,useClass:gr.r,multi:!0}],imports:[[s.ez,cr,lr.JF,dr.Rh.forRoot(),ur.ZQ.forRoot(),hr.m]]}),e})()}}]);